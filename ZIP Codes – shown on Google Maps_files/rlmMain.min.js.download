(()=>{var a,r=!1,l=!1,c=!1,d=!1,m=60*Math.floor(4750*Math.random()+2250),s=3e4,i=45e3;function e(){(a=new URLSearchParams(location.search)).has("testing")&&(m=3*Math.floor(4750*Math.random()+2250),s=5e3,i=15e3),a.has("mapbuilder")&&(i=12e4),"undefined"!=typeof myAjaxVars&&myAjaxVars.nonce&&(l=!0),window.matchMedia("(max-width: 768px)").matches&&(r=!0,m*=.75);var e,n;d=["/access-ad-free","/checkout","/product","/cart","/my-account"].some(e=>location.pathname.includes(e)),c=null!==document.getElementById("pagecontent"),d||u()&&"Accepted6"===localStorage.getItem("acceptedTerms")||setTimeout(function(){window.rlmLcpFinalized&&(document.getElementById("accepttermsdiv").classList.remove("rlmhidden"),document.getElementById("accepttermsdivCloseButton").addEventListener("click",function(){document.getElementById("accepttermsdiv").classList.add("rlmhidden"),u()&&localStorage.setItem("acceptedTerms","Accepted6")}))},s),!l&&c&&function o(){setTimeout(function(){var e,t=document.querySelector(".rlmfooterad");t&&((e=t.cloneNode(!0)).classList.add("rlmfixedad"),(t=e.querySelector(".rlmclosebutton")).classList.remove("rlmhidden"),document.body.appendChild(e),t.addEventListener("click",function(){e.remove(),m*=2,o()}))},m)}();{let t=document.querySelector("form.rlmemailform"),o=(t&&(document.getElementById("rlmsignupsourcehidden").value=location.pathname,t.querySelector('button[type="submit"]').addEventListener("click",e=>{if(!p(document.getElementById("rlmemailinput").value))return!1;t.querySelector('button[type="submit"]').innerHTML="processing...",e.preventDefault(),fetch(".",{method:"post",body:new FormData(e.target.parentNode)}).then(e=>e.text()).then(e=>{document.getElementById("thank-you-message").classList.remove("rlmhidden"),t.classList.add("rlmhidden")})})),document.querySelector("form.rlmemailformpopup"));o&&(document.getElementById("rlmsignupsourcehiddenpopup").value=location.pathname,o.querySelector('button[type="submit"]').addEventListener("click",e=>{if(!p(document.getElementById("rlmemailinputpopup").value))return!1;o.querySelector('button[type="submit"]').innerHTML="processing...",e.preventDefault(),fetch(".",{method:"post",body:new FormData(e.target.parentNode)}).then(e=>e.text()).then(e=>{document.getElementById("thank-you-message-pop").classList.remove("rlmhidden"),o.classList.add("rlmhidden"),setTimeout(function(){document.getElementById("rlmpopupcontainer").classList.add("rlmhidden")},1750)})})),l||r||d||(e=u()?localStorage.getItem("showSub"):null,n=(new Date).toISOString().split("T")[0],"false"===(e="false16"===e?null:e))||e&&e===n||setTimeout(function(){document.addEventListener("mouseout",function e(t){var o;window.rlmLcpFinalized&&t.clientY<50&&null==t.relatedTarget&&"select"!==t.target.nodeName.toLowerCase()&&(document.removeEventListener("mouseout",e),(o=document.getElementById("rlmpopupcontainer")).classList.remove("rlmhidden"),document.querySelector("#subEmailDivPopup .rlmsmallclosebuttonwhite").addEventListener("click",function(){o.classList.add("rlmhidden")}),document.getElementById("rlmemailinputpopup").focus(),u())&&localStorage.setItem("showSub",n)})},i)}if(c&&u()){let e=1;localStorage.getItem("totMaps")&&(e=parseInt(localStorage.getItem("totMaps"),10)+1),localStorage.setItem("totMaps",e)}if(d&&!l&&u()&&50<parseInt(localStorage.getItem("totMaps"),10))for(var t=document.querySelectorAll('a[href*="/product/ad-free-fullscreen-tools-monthly-contribution"]'),o=0;o<t.length;o++)t[o].href="/product/ad-free-fullscreen-tools-monthly-contribution?attribute_monthly-contribution=%249%20suggested%20if%20you%20use%20several%20tools"}function u(){try{return window.localStorage&&"object"==typeof window.localStorage}catch(e){}}function p(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e()})();
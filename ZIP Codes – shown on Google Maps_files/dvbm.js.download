/*! v9018 e2c18c80 */
var __dv_global_script_start_time__="undefined"!=typeof performance&&"function"==typeof performance.now?performance.now():void 0,__webpack_modules__={2328:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DATA_NODE_KEY=e.MONITORING_TAG_ON_TOP_LEVEL_KEY=e.TRACKING_RATE_KEY=e.TRACKING_EVENT_CATEGORY=e.MAX_WINDOW_DEPTH=void 0,e.MAX_WINDOW_DEPTH=20,e.TRACKING_EVENT_CATEGORY="data-transparency",e.TRACKING_RATE_KEY="dv-data-transparency-tracking-rate",e.MONITORING_TAG_ON_TOP_LEVEL_KEY="dv-data-transparency-top-level-monitoring",e.DATA_NODE_KEY="dv-data-transparency-data-node"},9522:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Container=void 0;var i=function(){function t(){this.container={}}return Object.defineProperty(t.prototype,"size",{get:function(){return Object.keys(this.container).length},enumerable:!1,configurable:!0}),t.prototype.isEmpty=function(){return 0===this.size},t.prototype.clear=function(){this.container={}},t.prototype.get=function(t){if(void 0===this.container[t])throw new Error("undefined container item: "+t);return this.container[t]},t.prototype.set=function(t,e){if(void 0===e)throw new Error("cannot store undefined in container: "+t);this.container[t]=e},t}();e.Container=i},443:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.coverageToBitFlag=void 0;e.coverageToBitFlag=function(t){return(t.sellerPageTag?1:0)|(t.sellerMonitoringTag?2:0)|(t.buyerMonitoringTag?4:0)}},1064:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getAncestorWindows=void 0;var n=i(2328),s=function(t,e,i,n){if(!(i>=n||t===t.top)){var r=t.parent;r!==t&&(e.unshift(r),s(r,e,i+1,n))}};e.getAncestorWindows=function(t,e){void 0===e&&(e=n.MAX_WINDOW_DEPTH);var i=[];try{s(t,i,0,e)}catch(t){}return i}},1665:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCorrespondentWindow=void 0;var n=i(1064);e.getCorrespondentWindow=function(t,e){var i=(0,n.getAncestorWindows)(t);return i.length===e?t:i.length>e?i[e]:null}},6172:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCurrentTimestamp=void 0;e.getCurrentTimestamp=function(){var t,e;try{return null!==(e=null===(t=null===Date||void 0===Date?void 0:Date.now)||void 0===t?void 0:t.call(Date))&&void 0!==e?e:0}catch(t){}return 0}},8839:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDescendantWindows=void 0;var n=i(2328),s=function(t,e,i,n){if(!(i>=n))for(var r=0;r<t.length;r++){var o=t[r];e.push(o),s(o,e,i+1,n)}};e.getDescendantWindows=function(t,e){void 0===e&&(e=n.MAX_WINDOW_DEPTH);var i=[];try{s(t,i,0,e)}catch(t){}return i}},135:function(t,e,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,i,n){void 0===n&&(n=i),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),s=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||n(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),e.validateWindow=e.getDescendantWindows=e.getCurrentTimestamp=e.getCorrespondentWindow=e.getAncestorWindows=e.coverageToBitFlag=e.Container=void 0,s(i(2328),e);var r=i(9522);Object.defineProperty(e,"Container",{enumerable:!0,get:function(){return r.Container}});var o=i(443);Object.defineProperty(e,"coverageToBitFlag",{enumerable:!0,get:function(){return o.coverageToBitFlag}});var a=i(1064);Object.defineProperty(e,"getAncestorWindows",{enumerable:!0,get:function(){return a.getAncestorWindows}});var c=i(1665);Object.defineProperty(e,"getCorrespondentWindow",{enumerable:!0,get:function(){return c.getCorrespondentWindow}});var u=i(6172);Object.defineProperty(e,"getCurrentTimestamp",{enumerable:!0,get:function(){return u.getCurrentTimestamp}});var d=i(8839);Object.defineProperty(e,"getDescendantWindows",{enumerable:!0,get:function(){return d.getDescendantWindows}});var l=i(7924);Object.defineProperty(e,"validateWindow",{enumerable:!0,get:function(){return l.validateWindow}})},7924:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateWindow=void 0;e.validateWindow=function(t){try{return null!=t&&null!=t.top&&null!=t.parent&&null!=t.length&&t.window===t&&"function"==typeof t.postMessage}catch(t){return!1}}},6777:function(t,e,i){"use strict";var n=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},s=this&&this.__read||function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,s,r=i.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=r.next()).done;)o.push(n.value)}catch(t){s={error:t}}finally{try{n&&!n.done&&(i=r.return)&&i.call(r)}finally{if(s)throw s.error}}return o},r=this&&this.__spreadArray||function(t,e,i){if(i||2===arguments.length)for(var n,s=0,r=e.length;s<r;s++)!n&&s in e||(n||(n=Array.prototype.slice.call(e,0,s)),n[s]=e[s]);return t.concat(n||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.DataNode=void 0;var o=i(135),a=i(6240),c=i(2749),u=i(4419),d=function(){function t(t,e){void 0===e&&(e=!1),this.sharedState=(0,u.getEmptyState)(),this.correspondents=[],this.localTagSubscriptions=[],this.dispatchMessageListeners=[],this.hostWindow=t,this.hostWindowDepth=(0,o.getAncestorWindows)(this.hostWindow).length,this.hubWindow=this.hostWindow,this.hubWindowDepth=this.hostWindowDepth,this.broadcastingDisabled=e}return Object.defineProperty(t.prototype,"depth",{get:function(){return this.hostWindowDepth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onDispatchMessage",{set:function(t){this.dispatchMessageListeners.push(t)},enumerable:!1,configurable:!0}),t.prototype.isHub=function(){return this.hubWindow===this.hostWindow},t.prototype.isAllowedToCorrespond=function(){return this.localTagSubscriptions.length>0},t.prototype.mergeState=function(t){var e=(0,a.updateSharedState)(this.sharedState,t),i=e.newState,n=e.stateWasUpdated,s=e.inputWasIncomplete;return this.sharedState=i,{stateWasUpdated:n,inputWasIncomplete:s}},t.prototype.composeMessage=function(t){return void 0===t&&(t=!1),{sharedState:(0,c.copyState)(this.sharedState),source:{windowDepth:this.hostWindowDepth,canBecomeHub:!0,responseRequired:t}}},t.prototype.registerCorrespondent=function(t,e,i){t===this.hostWindow||this.correspondents.includes(t)||(this.correspondents.push(t),i&&(null==this.hubWindow||e<this.hubWindowDepth)&&(this.hubWindow=t,this.hubWindowDepth=e))},t.prototype.dispatchMessage=function(t,e){var i,s,r,a;if(0!==e.length){var c={command:"data-transparency-update",payload:t,timestamp:(0,o.getCurrentTimestamp)()};try{for(var u=n(e),d=u.next();!d.done;d=u.next()){var l=d.value;try{l.postMessage(c,"*")}catch(t){}}}catch(t){i={error:t}}finally{try{d&&!d.done&&(s=u.return)&&s.call(u)}finally{if(i)throw i.error}}try{for(var h=n(this.dispatchMessageListeners),v=h.next();!v.done;v=h.next()){(0,v.value)(c,e)}}catch(t){r={error:t}}finally{try{v&&!v.done&&(a=h.return)&&a.call(h)}finally{if(r)throw r.error}}}},t.prototype.notifyLocalTags=function(){var t,e;try{for(var i=n(this.localTagSubscriptions),s=i.next();!s.done;s=i.next()){(0,s.value)(this.sharedState)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},t.prototype.notifyAllowedCorrespondents=function(t){if(this.isAllowedToCorrespond()){var e=[];this.isHub()?e.push.apply(e,r([],s(this.correspondents.filter((function(e){return e!==t}))),!1)):this.hubWindow!==t&&e.push(this.hubWindow),this.dispatchMessage(this.composeMessage(),e)}},t.prototype.notifyCorrespondent=function(t){this.isAllowedToCorrespond()&&this.dispatchMessage(this.composeMessage(),[t])},t.prototype.broadCastState=function(){var t=this;if(!this.broadcastingDisabled&&this.isAllowedToCorrespond())if(this.notifyAllowedCorrespondents(),this.isHub())this.dispatchMessage(this.composeMessage(!0),r(r([],s((0,o.getAncestorWindows)(this.hostWindow)),!1),s((0,o.getDescendantWindows)(this.hostWindow)),!1).filter((function(e){return!t.correspondents.includes(e)})));else{var e=(0,o.getAncestorWindows)(this.hubWindow);e.length>0&&this.dispatchMessage(this.composeMessage(!0),e)}},t.prototype.ingestMessageFromCorrespondent=function(t,e){var i=t.sharedState,n=t.source,s=(0,o.getCorrespondentWindow)(e,n.windowDepth);if(null!=s){this.registerCorrespondent(s,n.windowDepth,n.canBecomeHub);var r=this.mergeState(i),a=r.stateWasUpdated,c=r.inputWasIncomplete;a&&(this.notifyLocalTags(),this.isHub()&&this.notifyAllowedCorrespondents(s));var u=this.isHub()&&c,d=this.isHub()&&n.responseRequired,l=s===this.hubWindow&&n.responseRequired;(u||d||l)&&this.notifyCorrespondent(s)}},t.prototype.registerLocalTagAndSubscribe=function(t,e){void 0===e&&(e=function(){});var i=this.mergeState(t).stateWasUpdated,n=0===this.localTagSubscriptions.length;this.localTagSubscriptions.includes(e)||this.localTagSubscriptions.push(e),i?this.notifyLocalTags():e(this.sharedState),n?this.broadCastState():i&&this.notifyAllowedCorrespondents()},t}();e.DataNode=d},4614:function(t,e,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,i,n){void 0===n&&(n=i),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),s=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||n(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),s(i(6777),e),s(i(8119),e),s(i(6240),e),s(i(3665),e)},8119:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},457:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compareLinkingPriority=void 0;e.compareLinkingPriority=function(t,e){return t.sharedId===e.sharedId?0:null==t.sharedId?2:null==e.sharedId?1:t.depth>e.depth?2:t.depth<e.depth?1:t.sharedId>e.sharedId?2:1}},5208:function(t,e){"use strict";var i=this&&this.__read||function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,s,r=i.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=r.next()).done;)o.push(n.value)}catch(t){s={error:t}}finally{try{n&&!n.done&&(i=r.return)&&i.call(r)}finally{if(s)throw s.error}}return o};Object.defineProperty(e,"__esModule",{value:!0}),e.compareRecordPriority=void 0;e.compareRecordPriority=function(t,e,n){return null!=t&&null!=e?function(t,e){return Object.entries(t).every((function(t){var n=i(t,2),s=n[0],r=n[1];return e[s]===r}))}(t,e)?0:n:null==t&&null==e?0:null==e?1:2}},6240:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.updateSharedState=void 0;var n=i(9276);Object.defineProperty(e,"updateSharedState",{enumerable:!0,get:function(){return n.updateSharedState}})},9276:function(t,e,i){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var s in e=arguments[i])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t},n.apply(this,arguments)},s=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.updateSharedState=void 0;var r=i(2749),o=i(457),a=i(5208);e.updateSharedState=function(t,e){var i,c,u={newState:(0,r.copyState)(t),stateWasUpdated:!1,inputWasIncomplete:!1},d=(0,o.compareLinkingPriority)(t.linking,e.linking);2===d?(u.stateWasUpdated=!0,u.newState.linking=n({},e.linking)):1===d&&(u.inputWasIncomplete=!0);try{for(var l=s(Object.keys(t.coverage)),h=l.next();!h.done;h=l.next()){var v=h.value;e.coverage[v]?t.coverage[v]||(u.stateWasUpdated=!0,u.newState.coverage[v]=!0):t.coverage[v]&&(u.inputWasIncomplete=!0)}}catch(t){i={error:t}}finally{try{h&&!h.done&&(c=l.return)&&c.call(l)}finally{if(i)throw i.error}}var p=(0,a.compareRecordPriority)(t.visit,e.visit,d);2===p?(u.stateWasUpdated=!0,u.newState.visit=n({},e.visit)):1===p&&(u.inputWasIncomplete=!0);var f=(0,a.compareRecordPriority)(t.sellerDimensions,e.sellerDimensions,d);return 2===f?(u.stateWasUpdated=!0,u.newState.sellerDimensions=n({},e.sellerDimensions)):1===f&&(u.inputWasIncomplete=!0),u}},2749:function(t,e){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var s in e=arguments[i])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t},i.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.copyState=void 0;e.copyState=function(t){var e={linking:i({},t.linking),coverage:i({},t.coverage)};return null!=t.visit&&(e.visit=i({},t.visit)),null!=t.sellerDimensions&&(e.sellerDimensions=i({},t.sellerDimensions)),e}},4419:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getEmptyState=void 0;var n=i(135);e.getEmptyState=function(){return{linking:{sharedId:null,depth:0,timestamp:(0,n.getCurrentTimestamp)()},coverage:{sellerPageTag:!1,sellerMonitoringTag:!1,buyerMonitoringTag:!1}}}},3665:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateSharedState=e.validateMessageData=void 0;var n=i(5571);Object.defineProperty(e,"validateMessageData",{enumerable:!0,get:function(){return n.validateMessageData}});var s=i(1149);Object.defineProperty(e,"validateSharedState",{enumerable:!0,get:function(){return s.validateSharedState}})},5571:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateMessageData=void 0;var n=i(1149);e.validateMessageData=function(t){var e=t.command,i=t.payload,s=t.timestamp;if("data-transparency-update"!==e||null==i||"number"!=typeof s)return!1;var r=i.sharedState,o=i.source;return null!=r&&(0,n.validateSharedState)(r)&&(null==o||"number"==typeof o.windowDepth&&"boolean"==typeof o.responseRequired)}},1149:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateSharedState=void 0;e.validateSharedState=function(t){return null!=t.linking&&(null==t.linking.sharedId||"string"==typeof t.linking.sharedId)&&"number"==typeof t.linking.depth&&"number"==typeof t.linking.timestamp&&null!=t.coverage&&"boolean"==typeof t.coverage.sellerPageTag&&"boolean"==typeof t.coverage.sellerMonitoringTag&&"boolean"==typeof t.coverage.buyerMonitoringTag&&(null==t.visit||"string"==typeof t.visit.pageUrl&&"string"==typeof t.visit.userAgent)&&(null==t.sellerDimensions||Object.values(t.sellerDimensions).every((function(t){return"string"==typeof t})))}},659:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.subscribe=e.initialize=e.coverageToBitFlag=void 0;var n=i(135),s=i(4614),r=i(422),o=i(135);Object.defineProperty(e,"coverageToBitFlag",{enumerable:!0,get:function(){return o.coverageToBitFlag}});e.initialize=function(t){try{(0,r.maybeInitializeDataNode)(t)}catch(t){}};e.subscribe=function(t,e,i){var o;try{o=(0,r.maybeInitializeDataNode)(t)}catch(t){return}if(null!=o){var a={linking:{sharedId:i.impressionId,depth:o.depth,timestamp:(0,n.getCurrentTimestamp)()},coverage:{sellerPageTag:!1,sellerMonitoringTag:i.isSellerTag,buyerMonitoringTag:!i.isSellerTag},sellerDimensions:i.sellerDimensions};try{(0,s.validateSharedState)(a)&&o.registerLocalTagAndSubscribe(a,e)}catch(t){}}}},422:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.maybeInitializeDataNode=void 0;var n,s=i(135),r=i(4614),o=i(8266),a=(n=!1,function(t){if(!n){n=!0;try{var e=t[s.MONITORING_TAG_ON_TOP_LEVEL_KEY];null!=e&&e()}catch(t){}}});e.maybeInitializeDataNode=function(t){if(!(0,s.validateWindow)(t))return null;if(t===t.top)return a(t),null;var e=t[s.DATA_NODE_KEY];return null==e&&(e=new r.DataNode(t),(0,o.setMessageListener)(t,e),t[s.DATA_NODE_KEY]=e),e}},8266:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setMessageListener=void 0;var n=i(135),s=i(4614);e.setMessageListener=function(t,e){try{t.addEventListener("message",(function(t){(0,n.validateWindow)(t.source)&&(0,s.validateMessageData)(t.data)&&e.ingestMessageFromCorrespondent(t.data.payload,t.source)}))}catch(t){}}},3314:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.o=void 0;const n=i(7360),s=i(9450),r=i(749),o=i(712),a=i(549),c=i(3868),u=i(815);e.o=class{constructor(){this.timeoutReference=null,this.shouldRetry=!0,this.numberOfRetries=0,this.retryInterval=0}get shortName(){return`dal${this.bit}`}start(){n.u.addEventListener(n.DvEvents.adSelected,this.clearTimeoutReference.bind(this)),this.findAdCandidate()}retry(t,e=0){this.timeoutReference=(0,a.scheduleTask)((()=>{t(e,this.reportCandidate.bind(this),this.reportError.bind(this));const i=e+1;this.shouldRetry&&i<this.numberOfRetries?this.retry(t,i):this.shouldRetry=!1}),0===e?0:this.retryInterval)}reportCandidate(t,e=!1){this.shouldRetry=!1,this.clearTimeoutReference(),t._=this.bit,t.locatorMethods=this.bit,t.windowElement=c.S.getDefaultWindow(t.domElement)||c.S.workingWindow(),t.candidateSource="v2",e||n.u.dispatchEvent(n.DvEvents.adCandidateLocated,new s.AdCandidateEventData(t))}reportError(t,e=!0){this.shouldRetry=e,r.A.sendError(o.ClientErrorType.AdLocationError,t)}onClearTimeoutReference(){}clearTimeoutReference(){this.onClearTimeoutReference(),null!=this.timeoutReference&&((0,u.clearSafeTimeout)(this.timeoutReference),this.timeoutReference=null)}}},5647:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.O=void 0;const n=i(319),s=i(7749),r=i(712),o=i(7360),a=i(9349),c=i(455),u=i(734),d=i(3314),l=i(7596);class h extends d.o{constructor(){super(),this.numberOfRetries=10,this.retryInterval=500,this.diagnosticData=new l.T(this),this.containerAttribute=s.I.getPartnerContainerId()}get bit(){return r.D.DisplayGenX}findAdCandidate(){o.u.dispatchEvent(o.DvEvents.C,new u.j(this.diagnosticData,this.bit)),this.retry(((t,e,i)=>{try{const i=(0,n.getElementById)(this.containerAttribute);if(null!=i){const n=new c.AdCandidateData(i);this.diagnosticData.addSuccessAttempt(t,n.domElement),e(n)}else this.diagnosticData.addFailureAttempt(t,"No ad candidate found")}catch(e){this.diagnosticData.addFailureAttempt(t,e),i((0,a.toError)(e))}}))}}e.O=h},7596:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.T=e.V=void 0;const n=i(9721),s=i(319),r=i(7749),o=i(3380);class a{constructor(t,e,i){this.attempt=t,null!=e&&(this.candidateDistanceToDvScript=o.Utilities.getElementsDistance(e,r.I.getDVScript()),this.candidateTagName=e.tagName,this.candidateSize=o.Utilities.formatElementSize((0,s.getElementSize)(e))),null!=i&&(this.errorMessage=o.Utilities.errorToJSONString(i))}toJSON(){return{d:this.candidateDistanceToDvScript,t:this.candidateTagName,s:this.candidateSize,e:this.errorMessage}}}e.V=a;class c extends n.R{constructor(t){super(),this.P=t,this.attempts=[],this.successAttempt=null}get k(){return this.P}addFailureAttempt(t,e){this.attempts[t]=new a(t,null,e)}addSuccessAttempt(t,e){this.successAttempt=new a(t,e,null),this.attempts[t]=this.successAttempt}toJSON(){const t={r:this.k.numberOfRetries,i:this.k.retryInterval,a:this.attempts.map((t=>t.toJSON()))};if(this.successAttempt){const e={n:this.successAttempt.attempt,d:this.successAttempt.candidateDistanceToDvScript,t:this.successAttempt.candidateTagName,s:this.successAttempt.candidateSize};t.c=e}return t}}e.T=c},5219:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.N=void 0;const n=i(712),s=i(7360),r=i(749),o=i(549),a=i(815),c=i(3868),u=i(9450);e.N=class{constructor(t,e=500){this.maxNumberOfTries=t,this.interval=e,this.numberOfTries=0,this.isSupported()&&(this.L="al"+this.getMethod().toString(),s.u.addEventListener(s.DvEvents.adSelected,this.clearTimeoutReference.bind(this)))}getNumberOfTries(){return this.numberOfTries}getNumberOfAdSizeValidationFailures(){return 0}getScanDiagnosticData(){return new Map}reportAdNotLocated(){}start(){this.isSupported()&&(this.timeoutReference=(0,o.scheduleTask)((()=>{this.tryGetAds()})))}processAdCandidates(t){const e=this.getSupportedDeliveryType(),i=this.getMethod(),n=c.S.workingWindow();return null==t||t.forEach((t=>{t.supportedDeliveryType=e,t.locatorMethods=i,t.windowElement=c.S.getDefaultWindow(t.domElement)||n,t.priority=this.getPriority(t),t.candidateSource="v1"})),t}tryGetAds(){(0,o.invokeWithPerformanceMeasures)({name:this.L},(()=>{this.numberOfTries+=1;try{const t=this.getAds();s.u.dispatchEvent(s.DvEvents.adLocationTry,u.B.F(this)),(null==t?void 0:t.length)?(this.processAdCandidates(t).forEach((t=>{s.u.dispatchEvent(s.DvEvents.adCandidateLocated,new u.AdCandidateEventData(t))})),this.clearTimeoutReference()):this.numberOfTries<this.maxNumberOfTries?this.timeoutReference=(0,o.scheduleTask)((()=>{this.tryGetAds()}),this.interval):this.reportAdNotLocated()}catch(t){r.A.sendError(n.ClientErrorType.AdLocationError,t)}}))}clearTimeoutReference(){this.timeoutReference&&((0,a.clearSafeTimeout)(this.timeoutReference),this.timeoutReference=void 0)}}},8844:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.U=void 0;const n=i(455),s=i(712),r=i(7360),o=i(3314),a=i(7162),c=i(7749),u=i(734),d=i(3868),l=i(425),h="google_ads_iframe";class v extends o.o{constructor(){super(),this.numberOfRetries=10,this.retryInterval=500,this.diagnosticData=new a.q(this)}get bit(){return s.D.GAM}checkIfElementIsGAM(t){var e,i;return null!==(i=null===(e=t.getAttribute("id"))||void 0===e?void 0:e.startsWith(h))&&void 0!==i&&i}findAdCandidate(){r.u.dispatchEvent(r.DvEvents.C,new u.j(this.diagnosticData,this.bit)),this.retry(((t,e,i)=>{var s,r;try{const i=d.S.getFrameElement(d.S.workingWindow());if("iframe"===(null==i?void 0:i.tagName.toLowerCase())&&this.checkIfElementIsGAM(i)){let r=i;l.W.isSameOriginIframe(i)&&"div"===(null===(s=i.parentElement)||void 0===s?void 0:s.tagName.toLowerCase())&&this.checkIfElementIsGAM(i.parentElement)&&(r=i.parentElement),this.diagnosticData.addSuccessAttempt(t,r,"advertiser-served",null);return void e(new n.AdCandidateData(r),!0)}const o=c.I.getDVScript(),{parentElement:a}=o;if(!a)return void this.diagnosticData.addFailureAttempt(t,"Cannot find parent");if(null===(r=a.getAttribute("id"))||void 0===r?void 0:r.startsWith(h)){this.diagnosticData.addSuccessAttempt(t,a,"site-served",!0);return void e(new n.AdCandidateData(a),!0)}const u=a.querySelector(`[id^=${h}]`);if(null!==u){this.diagnosticData.addSuccessAttempt(t,u,"site-served",!1);e(new n.AdCandidateData(u),!0)}}catch(e){this.diagnosticData.addFailureAttempt(t,e),i(e)}}))}}e.U=v},7162:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.q=e.H=void 0;const n=i(9721),s=i(319),r=i(7749),o=i(3380);class a{constructor(t,e,i,n,a){this.attempt=t,null!=e&&(this.candidateDistanceToDvScript=o.Utilities.getElementsDistance(e,r.I.getDVScript()),this.candidateTagName=e.tagName,this.candidateSize=o.Utilities.formatElementSize((0,s.getElementSize)(e)),this.candidateAdType=null!=n?n:void 0,this.candidateCameThroughParent=null!=a?a:void 0,this.candidateBtregPresent=o.Utilities.checkIfElementHasBtreg(e,r.I.getBtreg())),null!=i&&(this.errorMessage=o.Utilities.errorToJSONString(i))}toJSON(){return{d:this.candidateDistanceToDvScript,t:this.candidateTagName,s:this.candidateSize,e:this.errorMessage,b:this.candidateBtregPresent,a:this.candidateAdType,p:this.candidateCameThroughParent}}}e.H=a;class c extends n.R{constructor(t){super(),this.P=t,this.attempts=[],this.successAttempt=null}get k(){return this.P}addFailureAttempt(t,e){this.attempts[t]=new a(t,null,e,null,null)}addSuccessAttempt(t,e,i,n){this.successAttempt=new a(t,e,null,i,n),this.attempts[t]=this.successAttempt}toJSON(){const t={r:this.k.numberOfRetries,i:this.k.retryInterval,a:this.attempts.map((t=>t.toJSON()))};if(this.successAttempt){const e={n:this.successAttempt.attempt,d:this.successAttempt.candidateDistanceToDvScript,t:this.successAttempt.candidateTagName,s:this.successAttempt.candidateSize,b:this.successAttempt.candidateBtregPresent,a:this.successAttempt.candidateAdType,p:this.successAttempt.candidateCameThroughParent};t.c=e}return t}}e.q=c},3822:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.$=void 0;const n=i(712),s=i(3314),r=i(7360),o=i(734),a=i(455),c=i(1167),u=i(6634);class d extends s.o{constructor(){super(),this.abortController=new AbortController,this.adFormatId=2,this.diagnosticData=new c.G(this)}get bit(){return n.D.CUSTOM}findAdCandidate(){r.u.dispatchEvent(r.DvEvents.C,new o.j(this.diagnosticData,this.bit)),this.retry(this.locateCeltraElement.bind(this))}async locateCeltraElement(t,e,i){try{const i=await u.AdLocationModuleWrapper.getInstance().locateCeltraElement(this.abortController.signal);if(null!=i){const n=new a.AdCandidateData(i);this.diagnosticData.addSuccessAttempt(t,n.domElement),e(n)}else this.diagnosticData.addFailureAttempt(t,"No ad candidate found")}catch(e){this.diagnosticData.addFailureAttempt(t,e),i(e)}}onClearTimeoutReference(){this.abortController.abort()}}e.$=d},1167:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.G=e.J=void 0;const n=i(9721),s=i(319),r=i(3380),o=i(7749);class a{constructor(t,e,i){this.attempt=t,null!=e&&(this.candidateDistanceToDvScript=r.Utilities.getElementsDistance(e,o.I.getDVScript()),this.candidateTagName=e.tagName,this.candidateSize=r.Utilities.formatElementSize((0,s.getElementSize)(e))),null!=i&&(this.errorMessage=r.Utilities.errorToJSONString(i))}toJSON(){return{d:this.candidateDistanceToDvScript,t:this.candidateTagName,s:this.candidateSize,e:this.errorMessage}}}e.J=a;class c extends n.R{constructor(t){super(),this.P=t,this.attempts=[],this.successAttempt=null,this.detectedAdFormat=t.adFormatId}get k(){return this.P}addFailureAttempt(t,e){this.attempts[t]=new a(t,null,e)}addSuccessAttempt(t,e){this.successAttempt=new a(t,e,null),this.attempts[t]=this.successAttempt}toJSON(){const t={r:this.k.numberOfRetries,i:this.k.retryInterval,e:{m:this.detectedAdFormat},a:this.attempts.map((t=>t.toJSON()))};return this.successAttempt&&(t.c={n:this.successAttempt.attempt,d:this.successAttempt.candidateDistanceToDvScript,t:this.successAttempt.candidateTagName,s:this.successAttempt.candidateSize}),t}}e.G=c},6634:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.AdLocationModuleWrapper=void 0;const n=i(5382),s=i(3868);class r{constructor(){this.celtraElementDetectionInitiated=!1,this.celtraElementLocatorFn=null}static getInstance(){return null==this.instance&&(this.instance=new r),this.instance}detectCeltraElement(t=s.S.getTopAccessibleWindow().document.body){this.celtraElementDetectionInitiated=!0;try{this.celtraElementLocatorFn=n.celtraAdFormat.detect(t)}catch(t){}return null!=this.celtraElementLocatorFn}async locateCeltraElement(t){if(!this.celtraElementDetectionInitiated)throw new Error("Must detect Celtra element before trying to locate");return null==this.celtraElementLocatorFn?null:this.celtraElementLocatorFn(t)}}e.AdLocationModuleWrapper=r},3311:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.K=e.DEFAULT_TAGS_TO_SCAN=void 0;const n=i(712),s=i(7360),r=i(3868),o=i(455),a=i(734),c=i(3314),u=i(807);e.DEFAULT_TAGS_TO_SCAN=["div","span","iframe","img","a","embed","object","image","canvas","svg"];class d extends c.o{constructor(){super(),this.numberOfRetries=10,this.retryInterval=500,this.diagnosticData=new u.Z(this)}get bit(){return n.D.DFA}findAdCandidate(){s.u.dispatchEvent(s.DvEvents.C,new a.j(this.diagnosticData,this.bit)),this.retry(((t,i)=>{const n=r.S.workingDocument(),s=Array.from(n.querySelectorAll(e.DEFAULT_TAGS_TO_SCAN.join(",")));for(const e of s)for(const n of Array.from(e.attributes))if(n.value.includes("DfaVisibilityIdentifier")){this.diagnosticData.addAttempt(t,e,n.name,n.value);return void i(new o.AdCandidateData(e))}}))}}e.K=d},807:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.Z=e.tt=void 0;const n=i(9721),s=i(319),r=i(3380);class o{constructor(t,e,i,n){this.attempt=t,this.candidateTagName=e.tagName,this.candidateSize=r.Utilities.formatElementSize((0,s.getElementSize)(e)),this.attributeName=i,this.attributeValue=n}toJSON(){return{t:this.candidateTagName,s:this.candidateSize,a:this.attributeName,v:this.attributeValue}}}e.tt=o;class a extends n.R{constructor(t){super(),this.P=t,this.attempts=[],this.successAttempt=null}get k(){return this.P}addAttempt(t,e,i,n){const s=new o(t,e,i,n);this.attempts[t]=s,this.successAttempt=s}toJSON(){const t={r:this.k.numberOfRetries,i:this.k.retryInterval,a:this.attempts.map((t=>null==t?void 0:t.toJSON()))};if(this.successAttempt){const e={n:this.successAttempt.attempt,t:this.successAttempt.candidateTagName,s:this.successAttempt.candidateSize,a:this.successAttempt.attributeName,v:this.successAttempt.attributeValue};t.c=e}return t}}e.Z=a},5954:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.validateMinimumAdSize=e.MIN_AD_HEIGHT=e.MIN_AD_WIDTH=void 0;const n=i(319);e.MIN_AD_WIDTH=20,e.MIN_AD_HEIGHT=20;e.validateMinimumAdSize=t=>{if(null==t)return!1;const i=(0,n.getElementSize)(t);return null!=i&&(i.height>e.MIN_AD_WIDTH&&i.width>e.MIN_AD_HEIGHT)}},6619:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSellerAdSize=e.ACCEPTED_AD_SIZE_MISTAKE=void 0;const n=i(319),s=i(7749);e.ACCEPTED_AD_SIZE_MISTAKE=15;e.validateSellerAdSize=t=>{if(null==t||!0!==s.I.isSellerTag())return!1;const i=s.I.getSellerAdSize();if(0===i.width||0===i.height)return!1;const r=(0,n.getElementSize)(t);return null!=r&&(r.width-i.width>=-e.ACCEPTED_AD_SIZE_MISTAKE&&r.height-i.height>=-e.ACCEPTED_AD_SIZE_MISTAKE)}},9296:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.et=void 0;const n=i(712),s=i(455),r=i(194),o=i(5219);class a extends o.N{constructor(){super(1,0)}getPriority(t){return n.LocatorPriority.ByReference}getMethod(){return n.LocatorMethods.ByReference}getSupportedDeliveryType(){return[1,2,0]}isSupported(){return!0}getAds(){const t=r.it.getTagScriptElem().dvAdElement;return null==t?[]:t.nodeType===Node.ELEMENT_NODE?[new s.AdCandidateData(t)]:[]}}e.et=a},5955:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.nt=void 0;const n=i(5464),s=i(7146),r=i(7360),o=i(9450);class a extends s.st{constructor(){super(...arguments),this.selectionDelayed=!1}getAds(){let t=this.getScanner().scan(this.getValidator());t.some((t=>!t.isFullyLoaded))&&!this.selectionDelayed&&(this.selectionDelayed=!0,r.u.dispatchEvent(r.DvEvents.rt,new o.ot(this.getPriority()))),t=t.filter((t=>!!t.domElement));const e=this.filterByAdSizeValidators(t);return this.mapDomAdsDataToAdCandidates(e)}transformToAdElement(t){const e=super.transformToAdElement(t);return e.celtraTagSearchMethod=t.celtraTagSearchMethod,e}getValidator(){return new n.CeltraValidator}}e.nt=a},4620:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ct=void 0;const n=i(7146),s=i(7581),r=i(7749),o=i(712),a=i(6352),c=i(3868),u=i(3285);class d extends n.st{getScanner(){return new a.GetElementsByTagName(c.S.workingWindow(),!0)}getValidator(){return new s.DfaValidator}isSupported(){return super.isSupported()&&r.I.getAdServerId()==u.DFA_AD_SERVER_ID}getPriority(t){const e=t.depth||0;return o.LocatorPriority.DisplayDFA-e}getMethod(){return o.LocatorMethods.DisplayDFA}}e.ct=d},7146:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.st=void 0;const n=i(7749),s=i(870),r=i(455),o=i(5219),a=i(5954);class c extends o.N{constructor(){super(7,1e3),this.numberOfAdSizeValidationFailures=0,this.scanDiagnosticData=new Map,this.adSizeValidators=[a.validateMinimumAdSize]}isSupported(){return!s.omidAdapter.isSupported()&&0==n.I.getTagType()}getNumberOfAdSizeValidationFailures(){return this.numberOfAdSizeValidationFailures}getScanDiagnosticData(){return this.scanDiagnosticData}getSupportedDeliveryType(){return[1,2,0]}getAds(){this.clearScanDiagnosticData();const t=this.getScanner().scan(this.getValidator(),this.saveScanDiagnosticData.bind(this)),e=this.filterByAdSizeValidators(t);return e.length<t.length&&(this.numberOfAdSizeValidationFailures=t.length-e.length),this.mapDomAdsDataToAdCandidates(e)}filterByAdSizeValidators(t){return this.adSizeValidators.reduce(((t,e)=>t.filter((({domElement:t})=>e(t)))),t)}mapDomAdsDataToAdCandidates(t){return t.map((t=>{const e=this.transformToAdElement(t);return e.depth=t.depth||0,e}))}transformToAdElement(t){const e=new r.AdCandidateData(t.domElement);return e.foundBiggerChildElement=t.foundBiggerChildElement,e}clearScanDiagnosticData(){this.scanDiagnosticData=new Map}saveScanDiagnosticData(t,e){this.scanDiagnosticData.set(t,e)}}e.st=c},7368:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ut=void 0;const n=i(7749),s=i(7146),r=i(712),o=i(3903),a=i(749);class c extends s.st{constructor(){super(),this.parameterAttributeFound=n.I.isDisplayGenXEnabled(),this.containerAttribute=n.I.getValueOfTagAttribute("data-doubleverify-container"),this.containerAttributeFound=null!=this.containerAttribute&&""!=this.containerAttribute,this.parameterAttributeFound&&this.containerAttributeFound?a.A.sendMessage({dvp_atali:0}):this.containerAttributeFound||a.A.sendMessage({dvp_atali:1})}getScanner(){return new o.GetElementByID(this.containerAttribute)}getValidator(){return null}isSupported(){return super.isSupported()&&this.parameterAttributeFound&&this.containerAttributeFound}getPriority(){return r.LocatorPriority.DisplayGenX}getMethod(){return r.LocatorMethods.DisplayGenX}reportAdNotLocated(){a.A.sendMessage({dvp_atali:2})}}e.ut=c},9969:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ht=void 0;const n=i(7749),s=i(7754),r=i(7146),o=i(712);class a extends r.st{getScanner(){return new s.GetElementsByClassName(n.I.getBtreg())}getValidator(){return null}isSupported(){return super.isSupported()&&!!n.I.getBtreg()&&n.I.getFindClass()}getPriority(t){const e=t.depth||0;return o.LocatorPriority.DisplayFindClass-e}getMethod(){return o.LocatorMethods.DisplayFindClass}}e.ht=a},8130:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.vt=void 0;const n=i(3868),s=i(5219),r=i(455),o=i(712),a=i(7749),c=i(870);class u extends s.N{constructor(){super(1)}getAds(){const t=n.S.getFrameElement(n.S.workingWindow())||n.S.workingDocumentElement();if(t)return[new r.AdCandidateData(t)]}isSupported(){return!c.omidAdapter.isSupported()&&0==a.I.getTagType()&&n.S.workingWindow()!=n.S.windowTop()}getSupportedDeliveryType(){return[1,2,0]}getPriority(){return o.LocatorPriority.DisplayIframeFallback}getMethod(){return o.LocatorMethods.DisplayIframeFallback}}e.vt=u},172:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ft=void 0;const n=i(3868),s=i(5219),r=i(455),o=i(712),a=i(870);class c extends s.N{constructor(){super(1)}getAds(){const t=n.S.workingDocumentElement();if(t)return[new r.AdCandidateData(t)]}isSupported(){return!a.omidAdapter.isSupported()}getSupportedDeliveryType(){return[3]}getPriority(){return o.LocatorPriority.DefaultInApp}getMethod(){return o.LocatorMethods.DefaultInApp}}e.ft=c},8476:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.gt=void 0;const n=i(7749),s=i(712),r=i(5955),o=i(4179),a=i(3285);class c extends r.nt{getScanner(){return o.CeltraDeepScannerSingleton}isSupported(){return super.isSupported()&&n.I.getAdServerId()===a.CELTRA_AD_SERVER_ID}getPriority(t){return s.LocatorPriority.DisplayIntegratedCeltra}getMethod(){return s.LocatorMethods.DisplayIntegratedCeltra}}e.gt=c},1634:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.bt=void 0;const n=i(7146),s=i(631),r=i(7749),o=i(6352),a=i(712);class c extends n.st{constructor(){super(...arguments),this.mediaplexAdServerId="8"}getScanner(){return o.GetElementsByTagName.getInstance()}getValidator(){return new s.MediaplexValidator(r.I.getBtreg(),r.I.getBtadsrv())}isSupported(){return super.isSupported()&&r.I.getAdServerId()==this.mediaplexAdServerId&&!!r.I.getBtreg()}getPriority(t){const e=t.depth||0;return a.LocatorPriority.DisplayMediaPlex-e}getMethod(){return a.LocatorMethods.DisplayMediaPlex}}e.bt=c},3820:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.wt=void 0;const n=i(7146),s=i(483),r=i(540),o=i(712);class a extends n.st{getScanner(){return s.NearestAdScannerSingleton}getValidator(){return new r.ValidateByAdTypeAndSize}isSupported(){return super.isSupported()}getPriority(t){const e=t.depth||0;return o.LocatorPriority.DisplayNearestAd-e}getMethod(){return o.LocatorMethods.DisplayNearestAd}}e.wt=a},7257:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e._t=void 0;const n=i(7749),s=i(712),r=i(5955),o=i(4179),a=i(3285);class c extends r.nt{getScanner(){return o.CeltraScannerSingleton}isSupported(){return super.isSupported()&&n.I.getAdServerId()!==a.CELTRA_AD_SERVER_ID}getPriority(t){return s.LocatorPriority.DisplayNonIntegratedCeltra}getMethod(){return s.LocatorMethods.DisplayNonIntegratedCeltra}}e._t=c},6018:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.yt=void 0;const n=i(7749),s=i(5223),r=i(7146),o=i(6352),a=i(3868),c=i(712),u=i(8457);class d extends r.st{getScanner(){const t=a.S.getWindowParent(a.S.workingWindow()),e=new o.GetElementsByTagName(t);return new u.GetElementByIdOrTagName(t,e,n.I.getBtreg(),this.getMethod())}getValidator(){return new s.BtregValidator(n.I.getBtreg(),n.I.getBtadsrv())}isSupported(){return super.isSupported()&&2==(2&a.S.getScenarioType())&&!!n.I.getBtreg()&&!!a.S.getWindowParent(a.S.workingWindow())}getPriority(t){return c.LocatorPriority.DisplayParentWindow}getMethod(){return c.LocatorMethods.DisplayParentWindow}}e.yt=d},1153:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.St=void 0;const n=i(7749),s=i(5223),r=i(7146),o=i(6352),a=i(712),c=i(3868),u=i(8457);class d extends r.st{getScanner(){return new u.GetElementByIdOrTagName(c.S.workingWindow(),o.GetElementsByTagName.getInstance(),n.I.getBtreg(),this.getMethod())}getValidator(){return new s.BtregValidator(n.I.getBtreg(),n.I.getBtadsrv())}isSupported(){return super.isSupported()&&!!n.I.getBtreg()}getPriority(t){const e=t.depth||0;return a.LocatorPriority.DisplayRegex-e}getMethod(){return a.LocatorMethods.DisplayRegex}}e.St=d},6707:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.Mt=void 0;const n=i(7749),s=i(712),r=i(7360),o=i(3868),a=i(9450),c=i(5223),u=i(8457),d=i(6352),l=i(5954),h=i(6619),v=i(7146);class p extends v.st{constructor(){super(...arguments),this.adSizeValidators=[l.validateMinimumAdSize,h.validateSellerAdSize]}getScanner(){return new u.GetElementByIdOrTagName(o.S.workingWindow(),d.GetElementsByTagName.getInstance(),n.I.getBtreg(),this.getMethod())}getValidator(){return new c.BtregValidator(n.I.getBtreg(),n.I.getBtadsrv())}isSupported(){const t=super.isSupported()&&n.I.isSellerTag()&&!!n.I.getBtreg();return t&&!this.delayEventSent&&(r.u.dispatchEvent(r.DvEvents.delayAdSelection,new a.DelayTimerData(3100)),this.delayEventSent=!0),t}getPriority(t){return s.LocatorPriority.DisplaySellerTag}getMethod(){return s.LocatorMethods.DisplaySellerTag}}e.Mt=p},5223:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.BtregValidator=void 0;const n=i(319),s=i(7749),r=i(8170),o=i(3783);e.BtregValidator=class{constructor(t,e){this.innerHtmlValidationTypes=new Set(["img","iframe","a","object","embed"]),this.btadsrvValidationTypes=new Set(["img","iframe","a","object","embed"]),this.btreg=t,this.btregRegex=new RegExp(this.btreg),this.btadsrv=e,this.btadsrvRegex=new RegExp(this.btadsrv)}validate(t){let e=!1;if(this.btreg&&this.btreg.length>=5){const i=(0,n.getElementType)(t),r=[];r.push((0,n.safeGetAttribute)(t,"id")),r.push((0,n.safeGetAttribute)(t,"src")),r.push((0,n.safeGetAttribute)(t,"href")),r.push((0,n.safeGetAttribute)(t,"name")),s.I.getCustomAttributes().forEach((e=>r.push((0,n.safeGetAttribute)(t,e)))),r.push((0,n.safeGetAttribute)(t,"class")),this.innerHtmlValidationTypes.has(i)&&r.push((0,n.safeGetAttribute)(t,"innerHTML")),r.some((t=>this.validateBtreg(t)))&&(e=!0,this.btadsrvValidationTypes.has(i)&&(e=r.some((t=>this.validateBtadsrv(t)))))}else o.DiagnosticParamsReporterSingleton.reportOnce(r.DiagnosticParams.btregValueInvalid,1);return e}validateBtreg(t){return this.validateString(t,this.btreg,this.btregRegex)}validateBtadsrv(t){return this.validateString(t,this.btreg,this.btadsrvRegex)}validateString(t,e,i){let n=!1;if(t&&e)try{i.exec(t)&&(n=!0)}catch(i){o.DiagnosticParamsReporterSingleton.reportOnce(r.DiagnosticParams.regexNotAvailable,1),n=t.includes(e)}return n}}},5464:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.CeltraValidator=void 0;e.CeltraValidator=class{constructor(){this.celtraClassString="celtra-ad-v"}validate(t){return 0==t.className.indexOf(this.celtraClassString)}}},7581:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.DfaValidator=void 0;const n=i(319),s=i(3380),r=i(7749);e.DfaValidator=class{constructor(){this.dcmValidationTypes={div:!0,span:!0},this.maxDistance=10}validate(t){let e=!1;const i=(0,n.getElementType)(t),o=s.Utilities.getElementsDistance(t,r.I.getDVScript());return this.dcmValidationTypes[i]&&o>=0&&o<=this.maxDistance&&(e=(0,n.hasAttributeValueInclude)(t,"DfaVisibilityIdentifier")),e}}},631:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.MediaplexValidator=void 0;const n=i(5223);class s extends n.BtregValidator{constructor(t,e){super(t,e),this.multiplexRegexp=/[0-9]+-[0-9]+-[0-9]+-[0-9]+/,this.hyphenFreeRegexp=/-/g}validateBtreg(t){return this.validateByMediaplex(t,this.btreg)||super.validateBtreg(t)}validateBtadsrv(t){return this.validateByMediaplex(t,this.btadsrv)||super.validateBtadsrv(t)}validateByMediaplex(t,e){let i=!1;if(t&&e){const n=this.multiplexRegexp.exec(t);if(n){i=n.toString().replace(this.hyphenFreeRegexp,"")==e}}return i}}e.MediaplexValidator=s},7939:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ValidateByAdSize=void 0;const n=i(319),s=i(3971);e.ValidateByAdSize=class{getAdSize(t){return(0,n.getElementSize)(t)}isStandardAdSize(t,e){return s.StandardSizes.isStandardAdSize(t,e,15)}}},540:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ValidateByAdTypeAndSize=void 0;const n=i(319),s=i(7939);class r extends s.ValidateByAdSize{constructor(){super(...arguments),this.standardAdTypes=["object","embed","img","iframe","svg","canvas"]}validate(t){return this.isStandardAdType(t)&&this.isStandardAdSize(this.getAdSize(t),0)}isStandardAdType(t){let e=!1;if(t){const i=(0,n.getElementType)(t);e=this.standardAdTypes.includes(i)}return e}}e.ValidateByAdTypeAndSize=r},3469:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.At=void 0;const n=i(7749),s=i(712),r=i(7360),o=i(3868),a=i(455),c=i(734),u=i(3314),d=i(8630);class l extends u.o{constructor(){super(),this.diagnosticData=new d.DeterministicIframeFallbackLocatorDiagnostics(this)}get bit(){return s.D.DISPLAY_IFRAME_FALLBACK}findAdCandidate(){var t;if(r.u.dispatchEvent(r.DvEvents.C,new c.j(this.diagnosticData,this.bit)),0===n.I.getTagType()&&o.S.workingWindow()!==o.S.windowTop())try{const e=null!==(t=o.S.getFrameElement(o.S.workingWindow()))&&void 0!==t?t:o.S.workingDocumentElement();if(null!=e){this.diagnosticData.addSuccessAttempt(e);const t=new a.AdCandidateData(e);this.reportCandidate(t)}}catch(t){this.diagnosticData.addFailureAttempt(t),this.reportError(t)}}}e.At=l},8630:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.DeterministicIframeFallbackLocatorDiagnostics=void 0;const n=i(9721),s=i(319),r=i(3380);class o extends n.R{constructor(t){super(),this.P=t,this.adCandidate=void 0,this.error=void 0}get k(){return this.P}addFailureAttempt(t){this.error=r.Utilities.errorToJSONString(t)}addSuccessAttempt(t){const e={t:t.tagName,s:r.Utilities.formatElementSize((0,s.getElementSize)(t))};this.adCandidate=e}toJSON(){return{c:this.adCandidate,e:this.error}}}e.DeterministicIframeFallbackLocatorDiagnostics=o},5293:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.Et=void 0;const n=i(712),s=i(7360),r=i(3868),o=i(455),a=i(734),c=i(3314),u=i(5373);class d extends c.o{constructor(){super(),this.diagnosticData=new u.Ot(this)}get bit(){return n.D.IN_APP_DEFAULT}findAdCandidate(){s.u.dispatchEvent(s.DvEvents.C,new a.j(this.diagnosticData,this.bit));try{const t=r.S.workingDocumentElement();if(null==t)return void this.diagnosticData.addAbortMessage("No working document element found");this.diagnosticData.addSuccessAttempt(t);const e=new o.AdCandidateData(t);this.reportCandidate(e)}catch(t){this.diagnosticData.addFailureAttempt(t),this.reportError(t)}}}e.Et=d},5373:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.Ot=void 0;const n=i(9721),s=i(3380),r=i(319);class o extends n.R{constructor(t){super(),this.P=t,this.adCandidate=null,this.abortMessage=null,this.error=null}get k(){return this.P}addFailureAttempt(t){this.error=s.Utilities.errorToJSONString(t)}addAbortMessage(t){this.abortMessage=t}addSuccessAttempt(t){var e;const i={t:null!==(e=null==t?void 0:t.tagName)&&void 0!==e?e:"null",s:null!=t?s.Utilities.formatElementSize((0,r.getElementSize)(t)):void 0};this.adCandidate=i}toJSON(){var t,e,i;return{c:null!==(t=this.adCandidate)&&void 0!==t?t:void 0,a:null!==(e=this.abortMessage)&&void 0!==e?e:void 0,e:null!==(i=this.error)&&void 0!==i?i:void 0}}}e.Ot=o},1865:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.Tt=void 0;const n=i(712),s=i(7360),r=i(455),o=i(734),a=i(3314),c=i(4622),u=i(194);class d extends a.o{constructor(){super(),this.diagnosticData=new c.It(this)}get bit(){return n.D.BY_REFERENCE}findAdCandidate(){s.u.dispatchEvent(s.DvEvents.C,new o.j(this.diagnosticData,this.bit));try{const t=u.it.getTagScriptElem().dvAdElement;if(null==t)return void this.diagnosticData.setElementReferenceFound(!1);if(this.diagnosticData.setElementReferenceFound(!0),t.nodeType===Node.ELEMENT_NODE){this.diagnosticData.setValidDomNode(!0);const e=new r.AdCandidateData(t);this.reportCandidate(e)}else this.diagnosticData.setValidDomNode(!1)}catch(t){this.reportError(t,!1)}}}e.Tt=d},4622:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.It=void 0;const n=i(9721);class s extends n.R{constructor(t){super(),this.P=t,this.hasElementReference=!1,this.isValidDomNode=!1}get k(){return this.P}setElementReferenceFound(t){this.hasElementReference=t}setValidDomNode(t){this.isValidDomNode=t}toJSON(){return{f:this.hasElementReference,v:this.isValidDomNode}}}e.It=s},5166:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.Dt=void 0;const n=i(712),s=i(7360),r=i(734),o=i(3314),a=i(7749),c=i(228),u=i(2747),d=i(3868),l=i(5954),h=i(2558);class v extends o.o{constructor(t=7,e=l.validateMinimumAdSize){super(),this.maxParentWindowDepth=t,this.adSizeValidator=e,this.numberOfRetries=10,this.retryInterval=500,this.diagnosticData=new c.Ct(this)}get bit(){return n.D.MARKED}findAdCandidate(){s.u.dispatchEvent(s.DvEvents.C,new r.j(this.diagnosticData,this.bit));const t=this.getBtregValues();if(null==t)return;const e={btreg:t,tagsToScan:this.getTagsToScan(),attributesToScan:this.getAttributesToScan(),canSearchInParentWindow:this.canSearchInParentWindow(),adSizeValidator:this.adSizeValidator};this.diagnosticData.setExecutionData(e),this.retry(((t,i,n)=>{const s=new c.jt(t,this.diagnosticData);this.diagnosticData.attempts[t]=s;u.Vt.create(this,s).findAdCandidate(e,i,n)}))}getBtregValues(){const t=a.I.getBtreg();if(null==t||t.length<5)return;const e=this.sanitizeBtreg(t);return{raw:t,sanitized:e,sanitizedAndCssEscaped:this.cssEscapeBtreg(e)}}sanitizeBtreg(t){let e=t;return e.startsWith("^")&&(e=e.slice(1)),e.endsWith("$")&&(e=e.slice(0,-1)),e}cssEscapeBtreg(t){const e="function"==typeof(null===CSS||void 0===CSS?void 0:CSS.escape),i=/^\d+.*/.test(t);return e&&!i?CSS.escape(t):t}getTagsToScan(){const t=a.I.getCustomTags();return t.length>0?t:h.MARKED_AD_LOCATOR_DEFAULT_TAGS_TO_SCAN}getAttributesToScan(){const t=a.I.getCustomAttributes();return t.length>0?t:h.MARKED_AD_LOCATOR_DEFAULT_ATTRIBUTES_TO_SCAN}canSearchInParentWindow(){return 2==(2&d.S.getScenarioType())}}e.Dt=v},2747:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.Vt=void 0;const n=i(3868),s=i(1740),r=i(6817),o=i(2899);e.Vt=class{static create(t,e){return new this(t,e)}constructor(t,e){this.xt=t,this.diagnostics=e}get maxParentWindowDepth(){return this.xt.maxParentWindowDepth}findCandidateWithMethod(t,e){const i=o.elementLocators[e],{candidate:n,attribute:a}=i(this.currentWindow,t);if(null==n)return;if(this.diagnostics.setCandidateForDepth(this.windowDepth,n,e,a),t.adSizeValidator(n))return this.diagnostics.setSelectedAdCandidate(n,this.windowDepth,e,a),(0,s.toAdCandidateData)(n,this.currentWindow);const c=(0,r.maybeExtractAdFromCandidates)(t,n);return null!=c?(this.diagnostics.setChildCandidateForDepth(c,e),t.adSizeValidator(c)?(this.diagnostics.setSelectedAdCandidate(c,this.windowDepth,e,a),(0,s.toAdCandidateData)(c,this.currentWindow)):void 0):void 0}findAdCandidate(t,e,i){this.currentWindow=n.S.workingWindow(),this.windowDepth=0;try{for(;null!=this.currentWindow;){for(const i of["id","class","frame","tag"]){const n=this.findCandidateWithMethod(t,i);if(null!=n)return void e(n)}this.maybeMoveToParentWindow(t.canSearchInParentWindow)}}catch(t){i(t)}}maybeMoveToParentWindow(t){if(!t)return void(this.currentWindow=null);if(this.windowDepth>=this.maxParentWindowDepth-1)return void(this.currentWindow=null);const e=n.S.getWindowParent(this.currentWindow);if(e!==this.currentWindow)return this.windowDepth+=1,void(this.currentWindow=e);this.currentWindow=null}}},2558:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.MARKED_AD_LOCATOR_DEFAULT_ATTRIBUTES_TO_SCAN=e.MARKED_AD_LOCATOR_DEFAULT_TAGS_TO_SCAN=void 0,e.MARKED_AD_LOCATOR_DEFAULT_TAGS_TO_SCAN=["div","span","iframe","img","a","embed","object","image","canvas","svg"],e.MARKED_AD_LOCATOR_DEFAULT_ATTRIBUTES_TO_SCAN=["src","href","name"]},228:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.Ct=e.jt=void 0;const n=i(9721),s=i(3380),r=i(7749),o=i(5954),a=i(319),c=i(2558);e.jt=class{constructor(t,e,i=o.validateMinimumAdSize){this.attempt=t,this.parent=e,this.adSizeValidator=i,this.candidates={id:void 0,class:void 0,frame:void 0,tag:void 0}}setSelectedAdCandidate(t,e,i,n){this.parent.setSelectedAdCandidate(t,this.attempt,e,n,i)}assignCandidateObject(t,e){this.candidates[t]=e}getCandidateObject(t){return this.candidates[t]}setCandidateForDepth(t,e,i,n=void 0){this.windowDepth=t;const o={candidateDistance:s.Utilities.getElementsDistance(e,r.I.getDVScript()),candidateTag:e.tagName,candidateSize:s.Utilities.formatElementSize((0,a.getElementSize)(e)),candidateSizeValid:this.adSizeValidator(e),candidateBtregAttribute:n};this.assignCandidateObject(i,o)}setChildCandidateForDepth(t,e){null==this.candidates[e]&&(this.candidates[e]={}),this.candidates[e].childCandidate={distance:s.Utilities.getElementsDistance(t,r.I.getDVScript()),tag:t.tagName,size:s.Utilities.formatElementSize((0,a.getElementSize)(t)),sizeValid:this.adSizeValidator(t)}}toJSON(){if(null==this.windowDepth)return;const t={w:this.windowDepth};for(const e of Object.keys(this.candidates)){const i=this.candidates[e];null!=i&&(t[e[0]]=this.adCandidateDiagnosticsToJSON(i))}return t}adCandidateDiagnosticsToJSON(t){const e={d:t.candidateDistance,t:t.candidateTag,s:t.candidateSize,v:t.candidateSizeValid?1:0};return null!=t.candidateBtregAttribute&&(e.a=t.candidateBtregAttribute),null!=t.childCandidate&&(e.c={d:t.childCandidate.distance,t:t.childCandidate.tag,s:t.childCandidate.size,v:t.childCandidate.sizeValid?1:0}),e}};class u extends n.R{constructor(t){super(),this.P=t,this.attempts=[]}get k(){return this.P}setExecutionData(t){this.Rt=t}setSelectedAdCandidate(t,e,i,n,s){null==this.selectedAdCandidate&&(this.selectedAdCandidate={candidate:t,attempt:e,windowDepth:i,attribute:n,method:s})}toJSON(){return Object.assign(this.Pt(),{a:this.attempts.map((t=>t.toJSON())),e:this.kt(),c:this.getSelectedCandidateJSON()})}kt(){if(null!=this.Rt)return{sb:this.Rt.btreg.sanitized,seb:this.Rt.btreg.sanitizedAndCssEscaped,t:this.Rt.tagsToScan===c.MARKED_AD_LOCATOR_DEFAULT_TAGS_TO_SCAN?void 0:this.Rt.tagsToScan,a:this.Rt.attributesToScan===c.MARKED_AD_LOCATOR_DEFAULT_ATTRIBUTES_TO_SCAN?void 0:this.Rt.attributesToScan,p:this.Rt.canSearchInParentWindow?1:0}}getSelectedCandidateJSON(){if(null==this.selectedAdCandidate)return;const{candidate:t,attempt:e,method:i,windowDepth:n,attribute:o}=this.selectedAdCandidate;return{m:i[0],n:e,w:n,d:s.Utilities.getElementsDistance(t,r.I.getDVScript()),t:t.tagName,s:s.Utilities.formatElementSize((0,a.getElementSize)(t)),a:o}}}e.Ct=u},6817:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.adExtractors=e.maybeExtractAdFromCandidates=e.maybeExtractBiggestNestedChildElement=e.findBiggestNestedElement=e.extractAdFromAnchor=void 0;const n=i(5309),s=i(3380),r=i(319);e.extractAdFromAnchor=(t,e)=>{const i=(0,r.getElementsByTagNameFromDomElement)(e,"img");return null==i||0===i.length?null:i[0]};const o=["embed","iframe","object","img","span","div","svg","canvas"],a=t=>o.indexOf((0,r.getElementType)(t));e.findBiggestNestedElement=(t,e)=>{const i=s.Utilities.arrayLikeToArray(e.querySelectorAll(o.join(","))).filter(t.adSizeValidator);let n=null,c=-1;for(const t of i){const e=(0,r.getElementSize)(t),i=e.width*e.height;(i>c||i===c&&a(t)>a(n))&&(n=t,c=i)}return n};e.maybeExtractBiggestNestedChildElement=(t,i)=>n.biggestNestedChildElementExperiment.isEnabled()?(0,e.findBiggestNestedElement)(t,i):null;e.maybeExtractAdFromCandidates=(t,i)=>{const n=(0,r.getElementType)(i),s=e.adExtractors[n];return null==s?null:s(t,i)},e.adExtractors={a:e.extractAdFromAnchor,div:e.maybeExtractBiggestNestedChildElement,object:e.maybeExtractBiggestNestedChildElement,span:e.maybeExtractBiggestNestedChildElement}},2899:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.elementLocators=e.locateElementByTag=e.locateElementByFrame=e.locateElementByClass=e.locateElementById=void 0;const n=i(319),s=i(3868);e.locateElementById=(t,e)=>{var i,s;return{candidate:null!==(s=null!==(i=(0,n.getElementById)(e.btreg.sanitized,t.document))&&void 0!==i?i:(0,n.querySelector)(`[id*="${e.btreg.sanitizedAndCssEscaped}"]`,t.document))&&void 0!==s?s:void 0,attribute:"id"}};e.locateElementByClass=(t,e)=>({candidate:(0,n.getElementsByClassName)(e.btreg.sanitizedAndCssEscaped,t.document).shift(),attribute:"class"});e.locateElementByFrame=(t,e)=>{const i=s.S.getFrameElement(t);if(null==i)return{candidate:void 0,attribute:void 0};const n=e.attributesToScan.find((t=>{var n;return i.getAttribute(t)===e.btreg.sanitized||(null===(n=i.getAttribute(t))||void 0===n?void 0:n.includes(e.btreg.sanitized))}));return{candidate:void 0===n?void 0:i,attribute:n}};e.locateElementByTag=(t,e)=>{for(const i of e.tagsToScan)for(const s of e.attributesToScan){const r=(0,n.querySelector)(`${i}[${s}*="${e.btreg.sanitizedAndCssEscaped}"]`,t.document);if(null!=r)return{candidate:r,attribute:s}}return{candidate:void 0,attribute:void 0}},e.elementLocators={id:e.locateElementById,class:e.locateElementByClass,frame:e.locateElementByFrame,tag:e.locateElementByTag}},1740:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.toAdCandidateData=void 0;const n=i(455);e.toAdCandidateData=(t,e)=>{const i=new n.AdCandidateData(t);return i.windowElement=e,i}},8522:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.Nt=void 0;const n=i(712),s=i(7360),r=i(455),o=i(734),a=i(3314),c=i(540),u=i(230),d=i(7749);class l extends a.o{constructor(){super(),this.numberOfRetries=10,this.retryInterval=500,this.maxDistance=10,this.validator=new c.ValidateByAdTypeAndSize,this.diagnosticData=new u.Lt(this)}get bit(){return n.D.NEAREST_AD}searchNearestAd(){const t=d.I.getDVScript(),e=new WeakSet,i=[t];e.add(t);let n=0,s=1,r=0;for(;i.length>0&&n<this.maxDistance;){const t=i.shift();if(this.validator.validate(t))return t;const o=t.parentElement;if(o&&!e.has(o)&&(e.add(o),i.push(o),r++),o){const n=Array.from(o.children);for(const s of n)s===t||e.has(s)||(e.add(s),i.push(s),r++)}const a=Array.from(t.children);for(const t of a)e.has(t)||(e.add(t),i.push(t),r++);s--,0===s&&(n++,s=r,r=0)}return null}findAdCandidate(){s.u.dispatchEvent(s.DvEvents.C,new o.j(this.diagnosticData,this.bit)),this.retry(((t,e,i)=>{try{const i=this.searchNearestAd();if(null!=i){this.diagnosticData.addSuccessAttempt(t,i);e(new r.AdCandidateData(i))}}catch(e){this.diagnosticData.addFailureAttempt(t,e),i(e)}}))}}e.Nt=l},230:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.Lt=e.Ft=void 0;const n=i(9721),s=i(319),r=i(7749),o=i(3380);class a{constructor(t,e,i){this.attempt=t,null!=e&&(this.candidateDistanceToDvScript=o.Utilities.getElementsDistance(e,r.I.getDVScript()),this.candidateTagName=e.tagName,this.candidateSize=o.Utilities.formatElementSize((0,s.getElementSize)(e))),null!=i&&(this.errorMessage=o.Utilities.errorToJSONString(i))}toJSON(){return{d:this.candidateDistanceToDvScript,t:this.candidateTagName,s:this.candidateSize,e:this.errorMessage}}}e.Ft=a;class c extends n.R{constructor(t){super(),this.P=t,this.attempts=[],this.successAttempt=null}get k(){return this.P}addFailureAttempt(t,e){this.attempts[t]=new a(t,null,e)}addSuccessAttempt(t,e){this.successAttempt=new a(t,e,null),this.attempts[t]=this.successAttempt}toJSON(){const t={r:this.k.numberOfRetries,i:this.k.retryInterval,a:this.attempts.map((t=>t.toJSON()))};if(this.successAttempt){const e={n:this.successAttempt.attempt,d:this.successAttempt.candidateDistanceToDvScript,t:this.successAttempt.candidateTagName,s:this.successAttempt.candidateSize};t.c=e}return t}}e.Lt=c},4124:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.Bt=void 0;const n=i(712),s=i(7360),r=i(455),o=i(734),a=i(3314),c=i(8069);class u extends a.o{constructor(){super(),this.diagnosticData=new c.Ut(this)}get bit(){return n.D.OMID}findAdCandidate(){s.u.dispatchEvent(s.DvEvents.C,new o.j(this.diagnosticData,this.bit));const t=new r.AdCandidateData(null);t.omidMeasuredElementType=0,this.reportCandidate(t)}}e.Bt=u},8069:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.Ut=void 0;const n=i(9721);class s extends n.R{constructor(t){super(),this.P=t}get k(){return this.P}toJSON(){return{e:!0}}}e.Ut=s},4179:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.CeltraScannerSingleton=e.CeltraDeepScannerSingleton=e.CeltraScanner=void 0;const n=i(7749),s=i(749),r=i(5261),o=i(8170),a=i(3783),c=i(319);class u{constructor(t){this.scanSiblingTwoLevelsDown=t}scan(t){var e,i;this.reportDiagnosticParamPerScanMethodInitialization(),this.dvTag||(this.dvTag=n.I.getDVScript());const s=null===(e=this.dvTag)||void 0===e?void 0:e.parentElement;a.DiagnosticParamsReporterSingleton.reportOnce(o.DiagnosticParams.celtraScannerParentElementFound,s?1:0);const c=this.getCeltraElementByDomApiSearch(s);c&&c.length>0&&(this.celtraTagSearchMethod=1);const u=[],d=c&&c.length>0?c:this.getElementsToSearchCeltraAttribute();for(const e of d)if(t.validate(e)){const t=new r.CeltraDomAdData(this.celtraTagSearchMethod,null,0,!1);if(null===(i=e.celtra)||void 0===i?void 0:i.viewabilityObservee){const i=e.celtra.viewabilityObservee;t.domElement=i,t.isFullyLoaded=!0}u.push(t)}return u}getElementsToSearchCeltraAttribute(){var t;this.celtraTagSearchMethod=2;let e=[];const i=null===(t=this.dvTag)||void 0===t?void 0:t.parentElement;if(i&&this.shouldSearchOnTagParent()&&e.push(i),this.shouldSearchOnTagSiblings()){const t=(0,c.getSiblingsNodes)(this.dvTag);e=[...e,...t],this.shouldSearchTwoLevelUnderTagSiblings()&&t.forEach((t=>{const i=(0,c.getElementChildren)(t);e=[...e,...i],i.forEach((t=>{const i=(0,c.getElementChildren)(t);e=[...e,...i]}))}))}return e}shouldSearchOnTagParent(){return!0}shouldSearchOnTagSiblings(){return!0}shouldSearchTwoLevelUnderTagSiblings(){return this.scanSiblingTwoLevelsDown}getCeltraElementByDomApiSearch(t){if(t&&"function"==typeof t.querySelectorAll){const e=t.querySelectorAll("[class^=celtra-ad-v]");if(e)return e.length>1&&s.A.sendMessage({dvp_csmc:e.length}),Array.prototype.slice.call(e)}}reportDiagnosticParamPerScanMethodInitialization(){this.shouldSearchTwoLevelUnderTagSiblings()?a.DiagnosticParamsReporterSingleton.reportOnce(o.DiagnosticParams.celtraDeepScannerCalled,1):a.DiagnosticParamsReporterSingleton.reportOnce(o.DiagnosticParams.celtraScannerCalled,1)}}e.CeltraScanner=u,e.CeltraDeepScannerSingleton=new u(!0),e.CeltraScannerSingleton=new u(!1)},3924:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.BaseScanElement=void 0;const n=i(3868),s=i(3380);e.BaseScanElement=class{constructor(t=n.S.workingWindow()){this.elementsList=[],this.scanValidityTime=1e3,this.searchWin=t}scan(){return(!this.lastScanTime||s.Utilities.getCurrentTime()-this.lastScanTime>this.scanValidityTime)&&(this.elementsList=this.tagScan(),this.lastScanTime=s.Utilities.getCurrentTime()),this.elementsList}extractAd(t){return t}extractBiggestNestedAdOrFallback(t){return this.extractAd(t)}}},4211:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ScanCanvasElement=void 0;const n=i(3924),s=i(319);class r extends n.BaseScanElement{constructor(){super(...arguments),this.scanElementName="canvas"}getTargetTagName(){return this.scanElementName}tagScan(){return(0,s.getElementsByTagNameFromDocument)(this.scanElementName,this.searchWin.document)}}e.ScanCanvasElement=r},4933:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ScanContainerElement=void 0;const n=i(3924),s=i(319),r=i(5954);class o extends n.BaseScanElement{extractAd(t){return(0,r.validateMinimumAdSize)(t)?t:this.getBiggestNestedElement(t)}extractBiggestNestedAdOrFallback(t){return this.getBiggestNestedElement(t)}getBiggestNestedElement(t){let e=t;const i=["embed","iframe","object","img","span","div","svg","canvas"];let n=[];const r=(0,s.getElementsByTagNameFromDomElement)(t,"*");r.unshift(t);for(const t of r){const e=(0,s.getElementType)(t);if(i.includes(e)){const i=(0,s.getElementSize)(t);i&&n.push({area:i.width*i.height,width:i.width,height:i.height,type:e,elem:t})}}return n=n.sort(((t,e)=>e.area-t.area||i.indexOf(e.type)-i.indexOf(t.type))),n.length>0&&(e=n[0].elem),e}}e.ScanContainerElement=o},3158:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ScanCustomElement=void 0;const n=i(4933),s=i(319);class r extends n.ScanContainerElement{constructor(t,e){super(t),this.elementName=e}getTargetTagName(){return this.elementName}tagScan(){return(0,s.getCustomElementsByTagName)(this.elementName,this.searchWin.document)}}e.ScanCustomElement=r},9670:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ScanDivElement=void 0;const n=i(4933),s=i(319);class r extends n.ScanContainerElement{constructor(){super(...arguments),this.scanElementName="div"}getTargetTagName(){return this.scanElementName}tagScan(){return(0,s.getElementsByTagNameFromDocument)(this.scanElementName,this.searchWin.document)}}e.ScanDivElement=r},163:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ScanEmbedElement=void 0;const n=i(319),s=i(3924);class r extends s.BaseScanElement{constructor(){super(...arguments),this.scanElementName="embed"}getTargetTagName(){return this.scanElementName}tagScan(){return(0,n.getElementsByTagNameFromDocument)(this.scanElementName,this.searchWin.document)}}e.ScanEmbedElement=r},1346:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ScanFrameElement=void 0;const n=i(3924),s=i(3868);class r extends n.BaseScanElement{getTargetTagName(){return"frame"}tagScan(){const t=[],e=s.S.getFrameElement(this.searchWin);return e&&t.push(e),t}}e.ScanFrameElement=r},8689:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ScanIframeElement=void 0;const n=i(3924),s=i(319);class r extends n.BaseScanElement{constructor(){super(...arguments),this.scanElementName="iframe"}getTargetTagName(){return this.scanElementName}tagScan(){return(0,s.getElementsByTagNameFromDocument)(this.scanElementName,this.searchWin.document)}}e.ScanIframeElement=r},9038:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ScanImageElement=void 0;const n=i(3924),s=i(319);class r extends n.BaseScanElement{constructor(){super(...arguments),this.scanElementName="img"}getTargetTagName(){return this.scanElementName}tagScan(){return(0,s.getElementsByTagNameFromDocument)(this.scanElementName,this.searchWin.document)}}e.ScanImageElement=r},2978:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ScanLinkElement=void 0;const n=i(3924),s=i(319);class r extends n.BaseScanElement{constructor(){super(...arguments),this.scanElementName="a"}getTargetTagName(){return this.scanElementName}tagScan(){return(0,s.getElementsByTagNameFromDocument)(this.scanElementName,this.searchWin.document)}extractAd(t){const e=(0,s.getElementsByTagNameFromDomElement)(t,"img");return e.length>0?e[0]:void 0}}e.ScanLinkElement=r},6635:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ScanSpanElement=void 0;const n=i(4933),s=i(319);class r extends n.ScanContainerElement{constructor(){super(...arguments),this.scanElementName="span",this.adunitAttribute="adunit"}getTargetTagName(){return this.scanElementName}tagScan(){return(0,s.getElementsByTagNameFromDocument)(this.scanElementName,this.searchWin.document)}extractAd(t){return"1"===(0,s.safeGetAttribute)(t,this.adunitAttribute)?t:super.extractAd(t)}extractBiggestNestedAdOrFallback(t){return"1"===(0,s.safeGetAttribute)(t,this.adunitAttribute)?t:super.extractBiggestNestedAdOrFallback(t)}}e.ScanSpanElement=r},1765:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ScanSvgElement=void 0;const n=i(3924),s=i(319);class r extends n.BaseScanElement{constructor(){super(...arguments),this.scanElementName="svg"}getTargetTagName(){return this.scanElementName}tagScan(){return(0,s.getElementsByTagNameFromDocument)(this.scanElementName,this.searchWin.document)}}e.ScanSvgElement=r},3903:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.GetElementByID=void 0;const n=i(3380),s=i(7749),r=i(8564),o=i(319);e.GetElementByID=class{constructor(t){this.elementId=t}scan(){const t=[],e=(0,o.getElementById)(this.elementId);if(e){const i=new r.DomAdData(e,n.Utilities.getElementsDistance(e,s.I.getDVScript()));t.push(i)}return t}}},7754:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.GetElementsByClassName=void 0;const n=i(3380),s=i(7749),r=i(8564),o=i(319);e.GetElementsByClassName=class{constructor(t){this.btreg=t}scan(){const t=[],e=(0,o.getElementsByClassName)(this.btreg);for(const i of e){const e=new r.DomAdData(i,n.Utilities.getElementsDistance(i,s.I.getDVScript()));t.push(e)}return t}}},8457:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.GetElementByIdOrTagName=void 0;const n=i(7749),s=i(319),r=i(3380),o=i(8170),a=i(8564),c=i(5954),u=i(4211),d=i(3158),l=i(9670),h=i(163),v=i(1346),p=i(8689),f=i(9038),m=i(2978),g=i(6635),b=i(1765);e.GetElementByIdOrTagName=class{constructor(t,e,i,n){this.searchWin=t,this.fallbackScanner=e,this.elementId=i,this.locatorMethod=n,this.tagScanners={EMBED:h.ScanEmbedElement,LINK:m.ScanLinkElement,IMG:f.ScanImageElement,SPAN:g.ScanSpanElement,IFRAME:p.ScanIframeElement,DIV:l.ScanDivElement,FRAME:v.ScanFrameElement,CANVAS:u.ScanCanvasElement,SVG:b.ScanSvgElement}}scan(t,e=(()=>{})){var i;const{domAdData:n,btregOptimizationSuccess:s}=this.scanElementsById(t);return e(o.DiagnosticParams.btregOptimizationSuccess,s.toString()),n.length>0?n:null!==(i=this.scanElementsByTagName(t,e))&&void 0!==i?i:[]}scanElementsById(t){const e=(0,s.getElementById)(this.elementId,this.searchWin.document);if(!e)return{domAdData:[],btregOptimizationSuccess:0};const i=this.getTagScanner(e);if(!i)return{domAdData:[],btregOptimizationSuccess:1};if(!t.validate(e))return{domAdData:[],btregOptimizationSuccess:2};const o=i.extractAd(e),u=o!==e&&(0,c.validateMinimumAdSize)(o)&&!(0,c.validateMinimumAdSize)(e);return{domAdData:[new a.DomAdData(o,r.Utilities.getElementsDistance(o,n.I.getDVScript()),u)],btregOptimizationSuccess:3}}scanElementsByTagName(t,e=(()=>{})){var i,n;return null!==(n=null===(i=this.fallbackScanner)||void 0===i?void 0:i.scan(t,e))&&void 0!==n?n:[]}getTagScanner(t){const{tagName:e}=t,i=this.tagScanners[e];return null!=i?new i:n.I.getCustomTags().includes(e)?new d.ScanCustomElement(this.searchWin,e):null}}},6352:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.GetElementsByTagName=void 0;const n=i(163),s=i(2978),r=i(9038),o=i(6635),a=i(8689),c=i(9670),u=i(1346),d=i(7749),l=i(3158),h=i(4211),v=i(1765),p=i(3868),f=i(3380),m=i(8564),g=i(8170),b=i(5954);class w{constructor(t,e=!1){this.byTagScanners=[new n.ScanEmbedElement(t),new s.ScanLinkElement(t),new r.ScanImageElement(t),new o.ScanSpanElement(t),new a.ScanIframeElement(t),new c.ScanDivElement(t),new u.ScanFrameElement(t),new h.ScanCanvasElement(t),new v.ScanSvgElement(t)],this.searchForBiggestNested=e,d.I.getCustomTags().forEach((e=>this.byTagScanners.unshift(new l.ScanCustomElement(t,e))))}scan(t,e){const i=[],n=[];for(const e of this.byTagScanners){const s=e.scan(),r=s.filter((e=>t.validate(e))),o={tagName:e.getTargetTagName(),numberOfScannedElements:s.length,numberOfValidScannedElements:r.length};for(const t of r){let i;i=this.searchForBiggestNested?e.extractBiggestNestedAdOrFallback(t):e.extractAd(t);const s=i!==t&&(0,b.validateMinimumAdSize)(i)&&!(0,b.validateMinimumAdSize)(t),r=new m.DomAdData(i,f.Utilities.getElementsDistance(i,d.I.getDVScript()),s);n.push(r)}i.push(o)}return e&&e(g.DiagnosticParams.byTagScanner,i.filter((({numberOfScannedElements:t})=>t>0)).map((({tagName:t,numberOfScannedElements:e,numberOfValidScannedElements:i})=>[t,e,i].map((t=>null!=t?t:"n")).join("-"))).join("/")),n}static getInstance(){return null==w.instance&&(w.instance=new w(p.S.workingWindow())),w.instance}}e.GetElementsByTagName=w},483:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.NearestAdScannerSingleton=e.NearestAdScanner=void 0;const n=i(3380),s=i(7749),r=i(8564),o=i(319);class a{constructor(){this.maxScanDepth=20,this.scanValidityTime=1e3,this.elementsList=[]}scan(t){this.dvTag||(this.dvTag=s.I.getDVScript());const e=[];let i=[];if(0==this.elementsList.length||n.Utilities.getCurrentTime()-this.lastScanTime>this.scanValidityTime){const t=this.getStartElement();t&&(this.getElements(t.domElement,t.depth),this.lastScanTime=n.Utilities.getCurrentTime())}for(const i of this.elementsList)if(t.validate(i)){const t=new r.DomAdData(i,n.Utilities.getElementsDistance(i,this.dvTag));e.push(t)}return e.length>0&&(i=e.sort((function(t,e){return t.depth-e.depth})).slice(0,5)),i}getStartElement(){let t,e=this.dvTag;for(t=0;t<this.maxScanDepth;t++){const t=n.Utilities.getElementParent(e);if(!t)break;e=t}return new r.DomAdData(e,t)}getElements(t,e){if(t&&Math.abs(e)<=this.maxScanDepth){this.elementsList.push(t);const i=(0,o.getElementChildren)(t);i&&i.length>0&&i.forEach((t=>{this.getElements(t,e-1)}))}}}e.NearestAdScanner=a,e.NearestAdScannerSingleton=new a},4846:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.zt=void 0;const n=i(5219),s=i(7749),r=i(455),o=i(712),a=i(870),c=i(319);class u extends n.N{constructor(){super(1)}getAds(){const[t]=(0,c.getElementsByTagNameFromDocument)("video");if(t)return[new r.AdCandidateData(t)]}isSupported(){return!a.omidAdapter.isSupported()&&1==s.I.getTagType()}getSupportedDeliveryType(){return[3]}getPriority(){return o.LocatorPriority.VideoInAppHtml5}getMethod(){return o.LocatorMethods.VideoInAppHtml5}}e.zt=u},8066:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.qt=void 0;const n=i(7749),s=i(5219),r=i(455),o=i(712),a=i(870),c=i(1063);class u extends s.N{constructor(){super(5,1e3)}isSupported(){return!a.omidAdapter.isSupported()&&1==n.I.getTagType()&&!!n.I.getAdID()}getAds(){var t;const e=c.VpaidWrapper.getDvVpaid();if(e&&(null===(t=e.asset)||void 0===t?void 0:t.player)){return[new r.AdCandidateData(e.asset.player)]}}getSupportedDeliveryType(){return[3]}getPriority(){return o.LocatorPriority.VideoInAppVpaid}getMethod(){return o.LocatorMethods.VideoInAppVpaid}}e.qt=u},9260:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.Wt=void 0;const n=i(5219),s=i(870),r=i(7749),o=i(712),a=i(455),c=i(9450),u=i(7360),d=i(8426);class l extends n.N{constructor(){super(5,1e3),this.isSupported()&&(u.u.dispatchEvent(u.DvEvents.delayAdSelection,new c.DelayTimerData(3100)),d.InmobiWrapper.addEventListenerWithHistory(this.handleInmobiAdLoadedEvent.bind(this)))}isSupported(){return!s.omidAdapter.isSupported()&&1==r.I.getTagType()&&d.InmobiWrapper.isSupported()}getAds(){if(this.adElement){return[new a.AdCandidateData(this.adElement)]}}getSupportedDeliveryType(){return[3]}getPriority(){return o.LocatorPriority.VideoInAppInmobi}getMethod(){return o.LocatorMethods.VideoInAppInmobi}handleInmobiAdLoadedEvent(t){var e;t&&"AdLoaded"==t.type&&(null===(e=t.detail)||void 0===e?void 0:e.element)&&(this.adElement=t.detail.element)}}e.Wt=l},554:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.Ht=void 0;const n=i(7749),s=i(5219),r=i(455),o=i(712),a=i(870),c=i(1063);class u extends s.N{constructor(){super(5,1e3)}isSupported(){return!a.omidAdapter.isSupported()&&1==n.I.getTagType()&&!!n.I.getAdID()}getAds(){var t;const e=c.VpaidWrapper.getDvVpaid();if(e&&(null===(t=e.asset)||void 0===t?void 0:t.player)){return[new r.AdCandidateData(e.asset.player)]}}getSupportedDeliveryType(){return[1,2,0]}getPriority(){return o.LocatorPriority.VideoNonInAppVpaid}getMethod(){return o.LocatorMethods.VideoNonInAppVpaid}}e.Ht=u},1129:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.$t=void 0;const n=i(712),s=i(455),r=i(3314),o=i(514),a=i(1063),c=i(7360),u=i(734);class d extends r.o{constructor(){super(),this.diagnosticData=new o.Gt(this)}get bit(){return n.D.VPAID}findAdCandidate(){var t;c.u.dispatchEvent(c.DvEvents.C,new u.j(this.diagnosticData,this.bit));const e=a.VpaidWrapper.getDvVpaid();if(null!=(null===(t=null==e?void 0:e.asset)||void 0===t?void 0:t.player)){const t=new s.AdCandidateData(e.asset.player);this.diagnosticData.setVpaidPlayerFound(!0),this.reportCandidate(t)}else this.diagnosticData.setVpaidPlayerFound(!1)}}e.$t=d},514:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.Gt=void 0;const n=i(9721);class s extends n.R{constructor(t){super(),this.P=t,this.vpaidPlayerFound=!1}get k(){return this.P}setVpaidPlayerFound(t){this.vpaidPlayerFound=t}toJSON(){return{f:this.vpaidPlayerFound}}}e.Gt=s},1545:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.ErrorHandler=void 0;e.ErrorHandler=(t,e,i,n)=>({createErrorRequestParamsObject:(t,e="")=>Object.assign({flvr:"1",ee_dp_ctx:i.getClientCode()||"",ee_dp_cmp:i.getAdServerCampaignCode(),ee_dp_plc:i.getPlacementId()||"",ee_dp_sid:i.getAdServerSiteCode()||"",ctx:"818052",cmp:"1619415",dvp_isLostImp:"1",ssl:"1",gdpr:i.getGDPR()||"",gdpr_consent:i.getGDPRConsent()||"",ver:n.getDvtpScriptVersion(),cerrt:t.toString()},e&&{cemsg:e}),generateErrorQueryString:t=>e.serializeObjectToQueryString(t,!1),reportError(e,i=""){const n=this.createErrorRequestParamsObject(e,i),s=`https://rtb0.doubleverify.com/verify.js?${this.generateErrorQueryString(n)}`;t.sendBeacon(s,!0)}})},6625:function(t,e,i){e.M=void 0;const n=i(712),s=i(7360),r=i(749),o=i(9349),a=i(815),c=i(1545),u=i(1457);e.M=(t,e,i,d,l,h,v)=>({displayGenXBlockingCallback(t){const e=this.getPartnerBlockingCallbackFunctionName();if(!e)return;const i=this.resolvePartnerBlockingCallback(e);if("function"==typeof i)(0,a.setSafeTimeout)((()=>{try{i({block:t})}catch(t){r.A.sendError(n.ClientErrorType.DisplayGenXBlockingCallbackError,(0,o.toError)(t),`invocationError ${e}`)}}),0);else{const t=`Failed to resolve callback: ${i} is not a function.`;r.A.sendError(n.ClientErrorType.DisplayGenXBlockingCallbackError,new Error(t),`callbackResolutionError ${e}`)}},partnerVideoBlockingCallback(t){if(t)try{const t=l.getVideoBlockingCallbackUrl();if(t&&"string"==typeof t){const e=decodeURIComponent(t);navigator.sendBeacon(e)}}catch(t){this.errorHandler().reportError(4096,(0,o.toError)(t).message)}},blockingDecisionCallback(i){const n=[1,5].includes(i),s=this.resolveExecutionMode(),o=[2,0].includes(s);if(r.A.sendMessage({blkmode:s}),o){if(1===l.getTagType())return void this.partnerVideoBlockingCallback(n);2===s&&this.displayGenXBlockingCallback(n)}if(!n&&4!==i)if(l.getIsMonitoringEnabled())e(t);else if(2===s){const t=this.resolvePartnerCreativeContainer();try{t&&(t.style.visibility="")}catch(t){}}},initDvbsGlobalObject(){window.$dvbs||(window.$dvbs=window.$dv,window.$dvbs.pubSub||(window.$dvbs.pubSub=s.Jt))},resolvePartnerCreativeContainer(){const t=l.getPartnerContainerId();return t?document.getElementById(t):null},getPartnerBlockingCallbackFunctionName:()=>l.getPartnerBlockingCallbackFnName(),resolvePartnerBlockingCallback:t=>window[t],errorHandler:()=>(0,c.ErrorHandler)(i,v,l,d),resolveExecutionMode:()=>1===l.getTagType()?0:l.isDisplayGenXEnabled()?2:1,extractComponent:t=>t.innerHTML.replace(/<\/scr\+ipt>/g,"<\/script>").trim(),extractDisplayLegacyTagComponents(t){var e;const i=t=>{var e;return"text/adtag"===(null===(e=null==t?void 0:t.getAttribute("type"))||void 0===e?void 0:e.toLowerCase())},n=t=>{var e;return"text/passback"===(null===(e=null==t?void 0:t.getAttribute("type"))||void 0===e?void 0:e.toLowerCase())},s=[null==t?void 0:t.previousElementSibling,null===(e=null==t?void 0:t.previousElementSibling)||void 0===e?void 0:e.previousElementSibling].filter((t=>t&&"script"===t.tagName.toLowerCase()&&(t=>t.innerHTML.trim())(t)&&(i(t)||n(t))));if(1===s.length){const[t]=s;if(i(t))return{isBadImplementation:!1,passback:null,adTag:this.extractComponent(t)}}else if(2===s.length){const[t,e]=s;if(n(t)&&i(e))return{isBadImplementation:!1,passback:this.extractComponent(t),adTag:this.extractComponent(e)}}return{isBadImplementation:!0,passback:null,adTag:null}},buildBlockingContext(){const t=this.resolveExecutionMode();switch(t){case 2:return{executionMode:t,creativeContainer:this.resolvePartnerCreativeContainer()};case 1:return Object.assign({executionMode:t},this.extractDisplayLegacyTagComponents(d.getTagScriptElem()));case 0:return{executionMode:t}}},execute(){try{this.initDvbsGlobalObject();const n=this.buildBlockingContext(),s=(0,u.VerifyHandler)(t,h,i,v,l,d,n,this.blockingDecisionCallback.bind(this),this.errorHandler(),e);try{s.doVerifyRequest()}catch(t){this.errorHandler().reportError(1024,"Send verify request failed. "+(0,o.toError)(t).message)}}catch(t){this.errorHandler().reportError(8192,(0,o.toError)(t).message)}}})},3872:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.requiredTpsParams=e.optionalTpsParams=e.collectedTpsParams=void 0,e.collectedTpsParams=["additionalUrlDepth","browserId","browserIdUserAgent","browserVersion","cookieLength","documentElementCount","domainLookupTime","historyLength","historyLength","idcResults","idcVersion","iframeCount","innerHeight","innerWidth","isChrome","numberOfCores","outerHeight","outerWidth","postMessageSupported","referrerDepth","referrerUrlExtractedFromSafeFrame","screenHeight","screenWidth","jsver","uid","widgetCount","windowDepth","timeToFirstReportMs"],e.optionalTpsParams=["eparams","referrerUrl","vastWrapperUrl"],e.requiredTpsParams=["adid","adsrv","advid","app","cmp","crt","ctx","dup","gmnpo","isdvvid","plc","sid","supplySource","tagtype","unit"]},1457:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.VerifyHandler=void 0;const n=i(7658),s=i(749),r=i(3872),o=i(7183),a=i(9532),c=i(815);e.VerifyHandler=(t,e,i,u,d,l,h,v,p,f)=>({impressionId:"",isJSONPCalled:!1,serverPublicDns:"",appendTpsParam:(e,i)=>Object.assign(e,{[n.TPSDataMapping[i]]:t[i]}),assertRequiredParams(t){const e=Object.assign({},t);return r.requiredTpsParams.forEach((i=>{i in t||(e[i]="")})),e},buildRequestUrl(t,e){let i=`https://rtb0.doubleverify.com/verify.js?${u.serializeObjectToQueryString(t,!1)}`,n=!1;return Object.keys(e).filter((t=>Object.prototype.hasOwnProperty.call(e,t)&&!!e[t])).forEach((t=>{const s=e[t],r=u.serializeObjectToQueryString({[t]:s},!1),o=i.length+r.length+1;u.isExceedingMaxUrlLength(o)?n=!0:i+="&"+r})),n&&(i+="&dvf=3"),i},buildVerifyRequestObj(){const e=d.getLowerCaseParams(),i=this.assertRequiredParams(e),s=r.collectedTpsParams.reduce(((t,e)=>this.appendTpsParam(t,e)),{}),o=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({num:6,dvp_isOnHead:0,flvr:"1",ver:9018,jsCallback:this.generateVerifyCallbackName(),jsTagObjCallback:this.generateTagCallbackName(),ssl:1},1===h.executionMode&&h.isBadImplementation&&{isbadimp:1}),t.isMraid&&{[n.TPSDataMapping.isMraid]:1}),t.isPreRender&&{prndr:1}),t.dvpParamsFlags&&{dvf:t.dvpParamsFlags}),t.safeFrameExists&&{sfe:1}),t.hijackedDeviceSignatureBits>0&&{hdsig:t.hijackedDeviceSignatureBits}),t.idcError&&{dvp_idcerr:t.idcError}),t.browserFeatures&&{m1:t.browserFeatures}),t.browserSignatureBits&&t.browserSignatureFamilyBits&&{bsig:t.browserSignatureFamilyBits,usig:t.browserSignatureBits}),{blkmode:h.executionMode,ee_dp_rdystreq:document.readyState}),a=r.optionalTpsParams.reduce(((t,e)=>this.appendTpsParam(t,e)),{});Object.keys(a).forEach((t=>{try{delete i[t]}catch(t){}}));const c=Object.assign({},i,s,o,t.additionalParams);return{params:this.filterRequestObject(c),lowPriorityParams:this.filterRequestObject(a)}},doVerifyRequest(){this.initPerformanceMetrics();const{params:t,lowPriorityParams:e}=this.buildVerifyRequestObj(),i=this.buildRequestUrl(t,e),n=this.generateScriptId(),s=this.generateOnErrorCallback(),r=this.generateOnLoadCallback(),o=this.generateTagCallbackName(),a=this.generateVerifyCallbackName();this.injectTagObjectCallback(o),this.injectVerifyCallback(a),this.injectVerifyTag(i,n,s,r),l.setVerifyInjectedMS(u.getCurrentTime())},filterRequestObject(t){const e=Object.keys(t).filter((e=>{const i=t[e];return!(null==i)&&(!!("number"==typeof i||"string"==typeof i||"boolean"==typeof i)||(Array.isArray(i)?i.length>0:Object.keys(i).length>0))}));return u.pick(t,e)},injectTagObjectCallback(i){const n=e.currentWindow(),s=this;n[i]=e=>{var i;const n=l.Qt(),r=e.ImpressionID;s.impressionId=r,t.bsimpid=r,s.serverPublicDns=e.ServerPublicDns,n.tagData||(n.tagData={}),n.tags[r]=this.buildTagObject(e);const o=l.Qt();(null===(i=o.pubSub)||void 0===i?void 0:i.excludeFrameId)&&o.pubSub.excludeFrameId(e.ImpressionID),d.setBlockingServerPrefix(`https://${e.ServerPublicDns}/`)}},generateDefaultPassback:(t,e)=>decodeURIComponent("%3Cdiv%20style%3D%22display%3A%20flex%3B%20align-items%3A%20center%3B%20justify-content%3A%20center%3B%20width%3A%20"+t+"px%3B%20height%3A%20"+e+"px%3B%20outline-offset%3A%20-1px%3B%20background%3A%20url('data%3Aimage%2Fpng%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAADoAAAA6CAYAAAGWvHq%2BAAAABmJLR0QA%2FwD%2FAP%2BgvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH5AQBECEbFuFN7gAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAFBklEQVRo3uUby3arOEzxAbxIyKLt%2F%2F9gIQtIF4aFZ5ERVxhJyIbcnjmjTZLast4vQ%2BG762OMMX53fQzTFIfxGenfKvgXvj4%2FoOsfy3eECgBgmmcYhnFZ6PoHeO%2F%2FbBiGEQAAxufPghlC%2BLOBYqa%2FHezAJcYYOUz87QAA7vd2g4lMAsrLfQJ%2BQeUM43PZsMJEwN8L58gMfgIAAMVKv6syX4bxGVF9qTiuvV2Byouf7e0Kl%2B%2Buj6kJU8aktV07aFClTkThfm9hGMbNGu53dCNd%2FPr8gBCm5TsnAivz%2BPwBqkHvPaDiVvpAW6Nh0FBhmpagSdfQV0Q7oVySPrz3LyO3t%2BvCKrJIHTtdG58%2FvLycZk%2Bzr1uFkgFWuYHKZHHNEMIr4lMb0pO5v7e3qyyj983KATYydv1jswFZneZ5wzaKVaEMVnNgjsw2B8pcbMdLmKbY1PVG5dTl0rVpnsGlSDReOcfo%2Bgc0df3SagrTPC8m4aDrH1ClaR4AgHKRmgN%2FL9HBbeI4wdKVitXUtYpLGXPSgpUg1lBaPzWCWW6wJ4lkB9aFUL1pQkXOvW9WBDltULNM8wwhTEtIcQn88t31kdpEU7FmOwsemqiiqtPsQvufXMCmCulUSKy9XaG9XYGrLhbv1iSlWU0NGdyQqlPKBHQfh0vxVkQ1abSQybX3oQ7nUPWUpEQ1oaokLVAnSfG4cy8xxpjrEFyVtuCJNt3rETDgu%2F6xiT9zRqKSci0DxzHdZ5E0zXabjGTtwSxr9FyqjazSJkmTi%2Bckb01BS5HaGnems%2BZWzdb62qQTfQdwDDl2Wj0RuKnYpX1sDrJljcvHTqow4%2FNn5SBNXYuzPD0Y8agDsRlpr3NIg1vyYGnSS%2BPUURVIcRhC2A0ZyYPxTKqNyuo8IYRlpMSGLYRJDRdOYyEEqEpDIIfY5qYhhLBrL0s%2BLS7imqq995tijYVdCxlx0EMnaW9XlvD93m4aZ0s4cZ3gqspYOjppRKcMcXipGZyU7Ju63iXIhVOKx53trCWqtMpwZzor8n%2BqynBnnlJlNGa5M51VSmlksBSDlOHlKk%2FzUq0KcVVEYgidytz3coS19lPrFh1y2fUP1Xu1HKsRxHWakao9hLNglZHeESaal3vvocKx3zKP7BXnLJtaxgNkjKY1Wp1y7inYUVG7Akg79vSeKefKwHJ1kEtTikBxJrYkmpIBr1TgPdgbrZ1WkPbuz84UEiNZG1ZLhdydE0sqeqlytGG2pEt4%2B0Ccc9H8zs4kS1Br0542F0fqR0lesOCwyehoIioZq86gqcWq6XbZwrTGqMSAhmOhKWVpjp74PObIsLt3R3g0g1oETs8R32woFbLEHUuEs9CiZa6SslZJmpcuf%2F4GcNc0tDf9lYcxvwGVrI3mkDVeY0NjbumOui9XCtkYlZJIbjt3pF8tzQ0czZTvTXnJSdlHSstRXAlPUpQ4vRy1TK4nnNEwaDTd2ZNE6fQSQiieevBiprjXLamjpco5Mv1YSuH%2Fpry4o%2BMPN70cgZI4tYyG7h3J4evzI1tJ%2BIynBLTHMdnlpXQKsTQCkoAaPakZEctL%2BpbK0Y7FMkloCnrXHMsKileMpS0ZR3zvveez2kDJG6szRiSuJqaulfbOaQJ5KfcYH5wnLK82v2uMCmHaPDz%2BDVj%2BfSNNBGdZmIu9v6EIKWbVZHTmVYrl9clSRVsS0urOKDdlW1J%2B6SubFoH3SiF13X8A3uobUgsAG3MAAAAASUVORK5CYII%3D')%20repeat%3B%20outline%3A%20solid%201px%20%23969696%3B%22%3E%3C%2Fdiv%3E"),generateEmptyPassback:(t,e)=>decodeURIComponent("%3Cstyle%3E%0A.dvbs_container%20%7B%0A%09border%3A%201px%20solid%20%233b599e%3B%0A%09overflow%3A%20hidden%3B%0A%09filter%3A%20progid%3ADXImageTransform.Microsoft.gradient(startColorstr%3D%27%23315d8c%27%2C%20endColorstr%3D%27%2384aace%27)%3B%0A%7D%0A%3C%2Fstyle%3E%0A%3Cdiv%20class%3D%22dvbs_container%22%20style%3D%22width%3A%20"+t+"px%3B%20height%3A%20"+e+"px%3B%22%3E%09%0A%3C%2Fdiv%3E"),exposeContainer(t){t.style.visibility=""},generateIframeElement(t,e=null,i=null){const n=`\n      <html style="margin:0; padding:0; overflow:hidden;">\n        <head></head>\n        <body style="margin:0; padding:0; overflow:hidden;">\n          ${t}\n        </body>\n      </html>`,s=document.createElement("iframe");return s.style.border="0",s.style.height=i?`${i}px`:"100%",s.style.width=e?`${e}px`:"100%",s.style.overflow="hidden",s.src="data:text/html,"+encodeURIComponent(n),s},injectPassbackContent(t,e=null,i=null){const n=this.generateIframeElement(t,e,i);try{if(1===h.executionMode)e&&i?l.getTagScriptElem().insertAdjacentElement("afterend",n):l.getTagScriptElem().insertAdjacentHTML("afterend",t);else if(2===h.executionMode){const t=h.creativeContainer;t.innerHTML="",t.appendChild(n)}}catch(t){}},injectVerifyCallback(n){const r=e.currentWindow(),v=this;r[n]=n=>{var r;this.isJSONPCalled=!0,v.shouldInvokeVpaidCallback()&&(0,c.setSafeTimeout)((()=>{(0,o.VpaidHandler)(n,u,i,t,v.impressionId,d.getBlockingServerPrefix(),d.getAdID(),d.getBlockingPartnerCallbackName(),f).execute()}),0);const p=d.getAdSize(),m=p?p.width:null,g=p?p.height:null;switch(n.ResultID){case 1:{let t;1===h.executionMode&&h.passback?t=h.passback:n.Passback?t=decodeURIComponent(n.Passback):m&&g&&(t=this.generateDefaultPassback(m,g)),t&&(this.injectPassbackContent(t,m,g),2===h.executionMode&&this.exposeContainer(h.creativeContainer));break}case 2:case 3:if(1===h.executionMode){const t=document.readyState;let i;if("loading"===document.readyState){e.currentDocument().write(h.adTag);try{const t=h.adTag.trim().substring(0,10),e=document.querySelector('script[src*="verify.js"][src*="plc='+d.getPlacementId()+'"]'),n=null===(r=null==e?void 0:e.nextElementSibling)||void 0===r?void 0:r.outerHTML.trim().substring(0,10);i=t==n?1:0}catch(t){i=-1}const n={ee_dp_rdystres:t,ee_dp_atcatd:i};s.A.registerEventCall(this.impressionId,n,!1)}else{const t=document.createRange().createContextualFragment(h.adTag);l.getTagScriptElem().parentElement.appendChild(t)}}break;case 4:if(m&&g){const t=this.generateEmptyPassback(m,g);this.injectPassbackContent(t),2===h.executionMode&&this.exposeContainer(h.creativeContainer)}s.A.registerEventCall(this.impressionId,{ee_dp_blkprmv:d.getParamValue("blk")})}(0,a.TagExtensionsHandler)(v.impressionId,n.ServerContext||{}).execute(),this.reportPerformanceMetrics(),this.reportBlockDecision(n.ResultID)}},generateOnErrorCallback(){return()=>{this.reportError(2),this.renderAdFromError("VFTL")}},generateOnLoadCallback(){return()=>{this.isJSONPCalled||(this.reportError(1),this.renderAdFromError("VCF"))}},generateScriptId:()=>`verify-call-${l.getTagUniqueKey()}`,generateTagCallbackName:()=>`__tagObject_callback_${t.uid}`,generateVerifyCallbackName:()=>`__verify_callback_${t.uid}`,initPerformanceMetrics(){e.isPerformanceAPISupported()&&e.workingWindow().performance.mark("dv_create_req_start");const i=l.getTagLoadedMS(),n=u.getCurrentTime();t.timeToFirstReportMs=n-i},injectVerifyTag(t,n,s,r){const o=e.currentDocument(),a=e.getCurrentScript()||o.body;1!==h.executionMode||"loading"!==document.readyState?i.addScriptAsync(t.toString(),a,n,s,r):i.addScriptSync(t.toString(),o)},renderAdFromError(t=""){let e="AdRenderedUponVerifyFailure__"+t;try{2===h.executionMode&&this.exposeContainer(h.creativeContainer)}catch(t){e+="__RenderingMethodFailed"}this.reportError(512,e)},reportBlockDecision(t){try{v(t)}catch(t){}},reportPerformanceMetrics(){try{const t=e.currentWindow(),i=e.monitorScriptsPerformance(t,{verify:["duration","transferSize"],dvbm:["duration"]});s.A.registerEventCall(this.impressionId,{tgdur:i.dvbm_duration,vfdur:i.verify_duration,vfsz:i.verify_transferSize,tuveims:l.getVerifyInjectedMS()-l.getTagLoadedMS(),tuveems:u.getCurrentTime()-l.getTagLoadedMS()})}catch(t){}},reportError(t,e){p.reportError(t,null!=e?e:"")},buildTagObject(e){const i={dv_protocol:"https:"};return i.ServerPublicDns=e.ServerPublicDns,i.tagElement=l.getTagScriptElem(),i.type="blocking",i.uid=t.uid,i},shouldInvokeVpaidCallback(){const t=d.getAdID();return 1===d.getTagType()&&t.length>0}})},7183:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.VpaidHandler=void 0;const n=i(815);e.VpaidHandler=(t,e,i,s,r,o,a,c,u)=>({wasMonitoringInjected:!1,execute(){this.reportBsEvent({ee_dp_vfinit:1}),this.injectResponseReceivedCallback(),this.bindVideoEvents()},bindOrReportVideoEvent(t,e){const i=this.getPreviousVpaidEvents(),n=this;if(i.indexOf(t)>-1)n.reportVideoTimingEvent(e);else{const i=()=>{n.reportVideoTimingEvent(e)};this.getVpaidWrapper().subscribe(i,t)}},bindVideoEvents(){try{const t=this.getVpaidWrapper();if((null==t?void 0:t.getPreviousEvents)&&"function"==typeof t.getPreviousEvents){if(t.getPreviousEvents().includes("AdStarted"))this.initiateMonitoring("ad_started_triggered");else{const e=this.initiateMonitoring.bind(this);t.subscribe((()=>{e("ad_started_subscribe")}),"AdStarted")}this.bindOrReportVideoEvent("AdError","ee_dp_ader"),this.bindOrReportVideoEvent("AdStopped","ee_dp_adstp"),this.bindOrReportVideoEvent("AdVideoStart","ee_dp_avse"),this.bindOrReportVideoEvent("AdImpression","ee_dp_aie")}else this.reportBsEvent({cerrt:16,cemsg:"vpaidWrapper.getPreviousEvents not a function"})}catch(t){this.reportBsEvent({cerrt:8,cemsg:t.message,ee_dp_vwn:a,ee_dp_vwt:typeof window[a]})}},buildEventUrl(t){return`${this.generateBsEventBaseUrl()}&${e.serializeObjectToQueryString(t,!0)}`},generateBsEventBaseUrl(){const t="impid="+encodeURIComponent(r);return`${o}bsevent.gif?${t}`},generateResponseReceivedCallbackName:()=>`responseReceived_${r}`,generateTimestamp(){try{return Date.now()}catch(t){return(new Date).getTime()}},getEventParams(t){const e=this.resolveOriginalResultId();let i,n=e;if(!t)switch(n=2,e){case 1:i=21;break;case 2:i=20;break;case 3:i=22;break;case 4:i=23}const s=t?"1":"0";return Object.assign({bres:n,ee_dp_bdu:s},i&&{breason:i})},getPreviousVpaidEvents(){return this.getVpaidWrapper().getPreviousEvents()},getVpaidWrapper:()=>window[a](),initiateMonitoring(t){this.wasMonitoringInjected||(this.wasMonitoringInjected=!0,this.reportBsEvent({ee_dp_moninit:1,ee_dp_dvm_inj:t}),"undefined"!=typeof process&&void 0!==process.env||u(s))},injectResponseReceivedCallback(){const t=this.resolveOriginalResultId(),e=this.generateResponseReceivedCallbackName();if("function"==typeof window[c]){let i=!1;const s=this;(0,n.setSafeTimeout)((()=>{s.reportBsEvent({ee_dp_wcb:i})}),1e3),window[e]=function(t,e,n,r,o,a,c){i=!0;try{if(c)s.reportBsEvent({ee_dp_cbst:c});else{const i=s.generateTimestamp();s.reportBsEvent({ee_dp_pcbc:i});const a=s.getEventParams(e);s.reportBsEvent(Object.assign(Object.assign({},a),{ee_dp_cst:n,ee_dp_cet:r,ee_dp_drt:o,ee_dp_wap:t})),t&&s.initiateMonitoring("adplayed")}}catch(t){s.reportBsEvent({cerrt:4,cemsg:t.message})}};try{const i=this.generateTimestamp();s.reportBsEvent({ee_dp_vcbc:i}),window[c](t,e)}catch(t){this.reportBsEvent({cerrt:32,cemsg:t.message})}}else this.reportBsEvent({cerrt:64,ee_dp_pcbn:c,ee_dp_pcbt:typeof window[c]})},reportBsEvent(t){const e=this.buildEventUrl(t);i.sendBeacon(e,!0)},reportVideoTimingEvent(t){const e={};e[t]=this.generateTimestamp(),this.reportBsEvent(e)},resolveOriginalResultId(){let e;switch(t.ResultID){case 5:e=1;break;case 6:e=2;break;default:e=t.ResultID}return e}})},5765:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.AdDomElementObserverBL=void 0;const n=i(7360),s=i(6751),r=i(3322);class o extends s.BaseAdBL{isSupported(){return!0}getEventsAndCallbacksToRegister(){return{[n.DvEvents.adSelected]:this.startObservingDomElement.bind(this)}}startObservingDomElement(t){var e,i;const n=null===(e=null==t?void 0:t.adCandidate)||void 0===e?void 0:e.domElement,s=null===(i=null==t?void 0:t.adCandidate)||void 0===i?void 0:i.windowElement;if(n&&s){r.ScriptDynamicFlags.getInstance().turnOn(4);const t=new MutationObserver(function(e){this.handleDomElementRemoval(t,n,s)}.bind(this)),e={subtree:!0,childList:!0};t.observe(s.document,e)}}handleDomElementRemoval(t,e,i){i.document.contains(e)||(r.ScriptDynamicFlags.getInstance().turnOn(8),t.disconnect())}init(){}}e.AdDomElementObserverBL=o},3502:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.AdElementInfoExtractorBL=void 0;const n=i(7360),s=i(6751),r=i(3380),o=i(540);class a extends s.BaseAdBL{isSupported(){return!0}getEventsAndCallbacksToRegister(){return{[n.DvEvents.adSelected]:this.adSelected.bind(this)}}adSelected(t){let e=this.extractAdElementType(t);e=this.logAdDimensionDataPoints(t)||e,e&&n.u.dispatchEvent(n.DvEvents.reportData,t)}extractAdElementType(t){var e;return!!(null===(e=null==t?void 0:t.adCandidate)||void 0===e?void 0:e.domElement)&&(t.adCandidate.adElementType=r.Utilities.extractElementType(t.adCandidate.domElement),!0)}logAdDimensionDataPoints(t){var e;try{const i=null===(e=null==t?void 0:t.adCandidate)||void 0===e?void 0:e.domElement;if(!r.Utilities.isNullOrEmpty(i)){const{tagName:e}=i;if("IFRAME"===(null==e?void 0:e.toUpperCase())){const e=this.getIframeDocument(i);if(void 0!==e){const i=this.getBiggestChildElement(e);if(void 0!==i){const{scrollHeight:e,scrollWidth:n}=i;return t.adCandidate.largestChildElementHeight=e,t.adCandidate.largestChildElementWidth=n,!0}}}}return!1}catch(t){return!1}}getIframeDocument(t){try{return t.contentDocument||t.contentWindow.document}catch(t){return}}getBiggestChildElement(t){try{const e=this.getPotentialAdChildren(t);return this.findBiggestChild(e)}catch(t){}}findBiggestChild(t){const e=new o.ValidateByAdTypeAndSize;return t.filter((t=>e.validate(t))).reduce(((t,e)=>t.scrollHeight*t.scrollWidth>=e.scrollHeight*e.scrollWidth?t:e))}getPotentialAdChildren(t){const e=t.querySelectorAll(["object","embed","img","iframe","svg","canvas"].join(","));return Array.prototype.slice.call(e)}init(){}}e.AdElementInfoExtractorBL=a},9721:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.AdLocationDiagnosticsLogger=e.R=void 0;const n=i(7360),s=i(749),r=i(8170),o=i(9064),a=i(5309),c=i(6751);e.R=class{Pt(){return{r:this.k.numberOfRetries,i:this.k.retryInterval}}};class u extends c.BaseAdBL{constructor(){super(...arguments),this.didLogDiagnosticData=!1,this.Kt={}}getActionName(){return"AdLocationDiagnosticsLogger"}isSupported(){return!0}init(){}getEventsAndCallbacksToRegister(){return{[n.DvEvents.C]:this.Yt.bind(this),[n.DvEvents.adSelected]:this.logDiagnosticData.bind(this),[n.DvEvents.unloadData]:this.logDiagnosticData.bind(this)}}Yt(t){this.Kt[t._]=t.diagnosticData}logDiagnosticData(){if(this.didLogDiagnosticData)return;this.didLogDiagnosticData=!0;const t=a.fullDiagnosticsPayloadFeatureFlag.isEnabled(),e=this.serializeDiagnosticData(!t);s.A.sendMessage({[(0,r.getDiagnosticQueryParamName)(r.DiagnosticParams.adLocatingDiagnostics)]:e})}serializeDiagnosticData(t){if(t)return JSON.stringify({s:o.adLocationSelectionDiagnostics.toJSON()});const e={};for(const[t,i]of Object.entries(this.Kt))e[t]=i.toJSON();return e.s=o.adLocationSelectionDiagnostics.toJSON(),JSON.stringify(e)}}e.AdLocationDiagnosticsLogger=u},9064:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.adLocationSelectionDiagnostics=e.AdLocationSelectionDiagnostics=void 0;class i{constructor(){this.legacyFound=!1,this.detFound=!1,this.Xt=!1}}var n;!function(t){t[t.MATCH=1]="MATCH",t[t.NO_MATCH=0]="NO_MATCH",t[t.NULL_MATCH=2]="NULL_MATCH"}(n||(n={}));class s{constructor(){this.state=new i}recordFound(t){"v1"===t?this.state.legacyFound||(this.state.legacyFound=!0):this.state.detFound||(this.state.detFound=!0)}recordLegacySelectedBitMask(t){this.state.legacySelectedBitMask=t}recordDetSelectedBit(t){this.state.detSelectedBit=t}recordSelectedElement(t,e){"v1"===t?(this.state.legacySelectedElement=e,this.state.legacySelectedElementType=null==e?void 0:e.tagName):(this.state.deterministicSelectedElement=e,this.state.deterministicSelectedElementType=null==e?void 0:e.tagName)}Zt(t){this.state.Xt=t}checkSelectedElementsMatch(){const t=this.state;return null==t.legacySelectedElement||null==t.deterministicSelectedElement?n.NULL_MATCH:t.legacySelectedElement===t.deterministicSelectedElement?n.MATCH:n.NO_MATCH}toJSON(){const t=this.state;return{lf:t.legacyFound,df:t.detFound,ls:t.legacySelectedBitMask,ds:t.detSelectedBit,lt:t.legacySelectedElementType,dt:t.deterministicSelectedElementType,em:this.checkSelectedElementsMatch(),c:t.Xt}}}e.AdLocationSelectionDiagnostics=s,e.adLocationSelectionDiagnostics=new s},1899:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.te=void 0;const n=i(7360),s=i(749),r=i(8170),o=i(6751),a=(t,e,i)=>{const n=[];return n.length=t,e.forEach((t=>{n[t.ee-1]=i(t)})),n.every((t=>null==t))?null:n.join(";")},c=t=>(e,i)=>a(e,i,(e=>{var i;return null!==(i=e.scanDiagnosticData.get(t))&&void 0!==i?i:null})),u=new Map([[r.DiagnosticParams.adCandidatesLocatorMethodTries,(t,e)=>a(t,e,(t=>t.numberOfAdSizeValidationFailures.toString()))],[r.DiagnosticParams.btregOptimizationSuccess,c(r.DiagnosticParams.btregOptimizationSuccess)],[r.DiagnosticParams.byTagScanner,c(r.DiagnosticParams.byTagScanner)]]);class d extends o.BaseAdBL{constructor(){super(...arguments),this.ie=new Map}getEventsAndCallbacksToRegister(){return{[n.DvEvents.adLocationTry]:this.onAdLocationTry.bind(this),[n.DvEvents.adSelected]:this.onAdSelected.bind(this)}}getActionName(){return"AdLocatorLogger"}init(){}isSupported(){return!0}onAdLocationTry(t){this.ie.has(t.ne)||this.ie.set(t.ne,[]),this.ie.get(t.ne).push(t)}onAdSelected(t){const e=new Set([r.DiagnosticParams.adCandidatesLocatorMethodTries]);Array.from(this.ie.values()).forEach((t=>{t.forEach((({scanDiagnosticData:t})=>{t.forEach(((t,i)=>{e.add(i)}))}))})),e.forEach((t=>{s.A.sendMessage({[(0,r.getDiagnosticQueryParamName)(t)]:this.se(t)})}))}se(t){return Array.from(this.ie.keys()).sort(((t,e)=>t-e)).map((e=>this.re(e,t))).filter((t=>null!=t)).join(",")}re(t,e){const i=this.ie.get(t),n=Math.max(...i.map((t=>t.ee))),s=u.get(e),r=null==s?void 0:s(n,i);return null==r?null:[t,n,`(${r})`].join(":")}}e.te=d},4021:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.AdSelector=e.DEFAULT_CONSOLIDATION_TIMEOUT=void 0;const n=i(194),s=i(7749),r=i(712),o=i(7360),a=i(749),c=i(815),u=i(8170),d=i(3783),l=i(9450),h=i(9064),v=i(6751);e.DEFAULT_CONSOLIDATION_TIMEOUT=2100;class p extends v.BaseAdBL{constructor(t){super(),this.Xt=t}getActionName(){return"AdSelector"}init(){this.adCandidates=[],this.wasImpressionServed=!1,this.wasAdSelected=!1,this.timeoutOccurred=!1,this.adSelectedDelayTime=-1}isSupported(){return!0}getEventsAndCallbacksToRegister(){return{[o.DvEvents.adCandidateLocated]:this.adCandidateLocated.bind(this),[o.DvEvents.impressionServed]:this.impressionServed.bind(this),[o.DvEvents.unloadData]:this.unloadData.bind(this),[o.DvEvents.delayAdSelection]:this.delayAdSelectionCalled.bind(this),[o.DvEvents.rt]:this.rt.bind(this)}}adCandidateLocated(t){const e=t.adCandidate;null!=e&&"v2"!==e.candidateSource&&(h.adLocationSelectionDiagnostics.recordFound("v1"),this.wasAdSelected||null==e.locatorMethods||e.locatorMethods===r.LocatorMethods.None||(this.fillAdCandidates(e),this.trySelectAd(),this.timeoutOccurred&&this.reportSelectedAd()))}impressionServed(){this.wasImpressionServed=!0,this.adSelectedDefaultDelayTime=e.DEFAULT_CONSOLIDATION_TIMEOUT,this.detectedDeliveryType=n.it.getDetectedDeliveryType(),1!=s.I.getTagType()&&3!=this.detectedDeliveryType||(this.adSelectedDefaultDelayTime=0),this.trySelectAd(),this.registerAdSelectionTimeout(this.adSelectedDefaultDelayTime)}fillAdCandidates(t){const e=this.adCandidates.find((e=>e.domElement==t.domElement));e&&this.isSameDetectedDeliveryType(e,t)?(e.priority+=t.priority,e.locatorMethods=e.locatorMethods|t.locatorMethods,e.state=4==e.state?t.state:e.state):(this.adCandidates.push(t),o.u.dispatchEvent(o.DvEvents.adCandidateApproved,new l.AdCandidateEventData(t)))}isSameDetectedDeliveryType(t,e){return t.supportedDeliveryType.every((t=>e.supportedDeliveryType.includes(t)))}trySelectAd(){if(!this.wasImpressionServed||!this.adCandidates.length)return;let t=this.adCandidates.filter((t=>{var e;return(null!==(e=t.supportedDeliveryType)&&void 0!==e?e:[]).some((t=>t==this.detectedDeliveryType))&&1==t.state}));if(this.adPriorityToReserve&&(t=t.filter((t=>t.priority>=this.adPriorityToReserve))),t.length){const e=t.reduce(((t,e)=>t.priority>=e.priority?t:e));this.currentSelectedAd!==e&&(this.currentSelectedAd=e,o.u.dispatchEvent(o.DvEvents.bestAdCandidateChanged,new l.AdCandidateEventData(e)))}}reportSelectedAd(){var t;if(this.timeoutOccurred=!0,this.currentSelectedAd&&!this.wasAdSelected)if(this.adPriorityToReserve&&this.currentSelectedAd.priority<this.adPriorityToReserve)this.currentSelectedAd=null;else{const e=new l.AdCandidateEventData(this.currentSelectedAd);h.adLocationSelectionDiagnostics.recordLegacySelectedBitMask(this.currentSelectedAd.locatorMethods),(null===(t=this.currentSelectedAd)||void 0===t?void 0:t.domElement)&&h.adLocationSelectionDiagnostics.recordSelectedElement("v1",this.currentSelectedAd.domElement),this.Xt||(this.currentSelectedAd.state=2,o.u.dispatchEvent(o.DvEvents.adSelected,e),this.currentSelectedAd.foundBiggerChildElement&&d.DiagnosticParamsReporterSingleton.reportOnce(u.DiagnosticParams.foundBiggerChildElement,1)),this.setDestroySelectedAdTimeout(e),this.wasAdSelected=!0}this.destroyAds()}setDestroySelectedAdTimeout(t){(0,c.setSafeTimeout)((()=>{o.u.dispatchEvent(o.DvEvents.adDestroy,t)}),12e5)}unloadData(t){if(!this.wasImpressionServed)return;const e=t.relevantData;this.reportSelectedAd(),this.wasAdSelected||this.reportNotMeasured||(this.reportNotMeasured=!0,a.A.sendMessage({isnmms:e.updateTime}))}destroyAds(){this.adCandidates.filter((t=>1==t.state)).forEach((t=>{o.u.dispatchEvent(o.DvEvents.adDestroy,new l.AdCandidateEventData(t)),t.state=3}))}rt(t){this.adPriorityToReserve=t.adPriority}delayAdSelectionCalled(t){const e=t.delayTimeMS;this.registerAdSelectionTimeout(e)}registerAdSelectionTimeout(t){!this.wasAdSelected&&t>this.adSelectedDelayTime&&(this.adSelectedDelayTime=t,this.adSelectionTimeoutId&&(0,c.clearSafeTimeout)(this.adSelectionTimeoutId),this.adSelectionTimeoutId=(0,c.setSafeTimeout)(this.reportSelectedAd.bind(this),this.adSelectedDelayTime))}}e.AdSelector=p},1847:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.AdSelectorLogger=void 0;const n=i(7360),s=i(712),r=i(6751),o=i(749),a=i(8170),c=i(3380),u=i(3783);class d extends r.BaseAdBL{init(){this.adCandidatesLocatorMethods=0,this.numberOfAdCandidates=0,this.wasAdSelected=!1}isSupported(){return!0}getEventsAndCallbacksToRegister(){return{[n.DvEvents.adCandidateLocated]:this.adCandidateLocated.bind(this),[n.DvEvents.adCandidateApproved]:this.adCandidateApproved.bind(this),[n.DvEvents.adSelected]:this.adSelected.bind(this)}}adCandidateLocated(t){this.wasAdSelected||(this.adCandidatesLocatorMethods=this.adCandidatesLocatorMethods|t.adCandidate.locatorMethods)}adCandidateApproved(){this.numberOfAdCandidates++}adSelected(t){this.wasAdSelected=!0,o.A.sendMessage({msrcanlm:this.adCandidatesLocatorMethods,msrcannum:this.numberOfAdCandidates,[(0,a.getDiagnosticQueryParamName)(a.DiagnosticParams.timeTillAdSelected)]:c.Utilities.getTimeDiff()}),t.adCandidate.locatorMethods&(s.LocatorMethods.DisplayIntegratedCeltra|s.LocatorMethods.DisplayNonIntegratedCeltra)&&(u.DiagnosticParamsReporterSingleton.reportOnce(a.DiagnosticParams.oe,t.adCandidate.celtraTagSearchMethod),o.A.sendMessage({dvp_csm:t.adCandidate.celtraTagSearchMethod}))}}e.AdSelectorLogger=d},8720:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.AdSizeBL=void 0;const n=i(6751),s=i(7360),r=i(9450),o=i(7749),a=i(8170),c=i(3783);class u extends n.BaseAdBL{init(){}isSupported(){return!0}getEventsAndCallbacksToRegister(){return{[s.DvEvents.exposureData]:this.handleAdSizeData.bind(this),[s.DvEvents.adSelected]:this.handleSelectedAd.bind(this)}}handleAdSizeData(t){const e=2==t.adCandidate.state,i=t.adCandidate,n=t.relevantData;if(1==o.I.getTagType()&&!n.adIsPlaying||i.adWidth&&i.adHeight||!n.adSize)return;const a=i.adWidth,c=i.adHeight;if(i.adWidth=n.adSize.width?n.adSize.width:i.adWidth,i.adHeight=n.adSize.height?n.adSize.height:i.adHeight,a!=i.adWidth||c!=i.adHeight){const t=new r.AdCandidateEventData(i);s.u.dispatchEvent(s.DvEvents.adSizeChangedData,t),s.u.dispatchEvent(s.DvEvents.reportData,t),e&&this.reportAdSizeDiagnostics(i.adWidth,i.adHeight)}}handleSelectedAd(t){const e=null==t?void 0:t.adCandidate,i=null==e?void 0:e.adWidth,n=null==e?void 0:e.adHeight;this.reportAdSizeDiagnostics(i,n)}reportAdSizeDiagnostics(t,e){c.DiagnosticParamsReporterSingleton.report(a.DiagnosticParams.selectedAdWidth,t),c.DiagnosticParamsReporterSingleton.report(a.DiagnosticParams.selectedAdHeight,e)}}e.AdSizeBL=u},3738:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.AdWrapperSizeBL=void 0;const n=i(6751),s=i(7360),r=i(712),o=i(3380),a=i(3868),c=i(749);class u extends n.BaseAdBL{init(){}isSupported(){return!(1&a.S.getScenarioType()||4&a.S.getScenarioType())}getEventsAndCallbacksToRegister(){return{[s.DvEvents.exposureData]:this.handleWrapperAdSizeData.bind(this)}}handleWrapperAdSizeData(t){var e,i;try{const n=t.relevantData,r=null===(e=null==t?void 0:t.adCandidate)||void 0===e?void 0:e.adWrapperHeight,a=null===(i=null==t?void 0:t.adCandidate)||void 0===i?void 0:i.adWrapperWidth,{wrapperSize:{height:c,width:u}={}}=n;if(!o.Utilities.isNullOrEmpty(c)&&!o.Utilities.isNullOrEmpty(u)){const e=Math.round(c),i=Math.round(u);t.adCandidate.adWrapperHeight=e,t.adCandidate.adWrapperWidth=i,e===r&&i===a||s.u.dispatchEvent(s.DvEvents.reportData,t)}}catch(t){c.A.sendError(r.ClientErrorType.MeasurementError,t,"couldn't extract wrapper Size")}}}e.AdWrapperSizeBL=u},6751:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.BaseAdBL=void 0;const n=i(7360);e.BaseAdBL=class{constructor(){this.isSupported()&&(this.init(),n.u.addEventsListener(this.getEventsAndCallbacksToRegister(),this.getActionName()))}getActionName(){return"BaseAdBL"}}},7127:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.BaseAdDataLoggerBL=void 0;const n=i(7360),s=i(194),r=i(9450),o=i(3380);e.BaseAdDataLoggerBL=class{constructor(){this.isSupported()&&o.Utilities.isPercentageCriteriaPassed(this.getTrafficPercentage())&&this.init()}init(){n.u.addEventListener(n.DvEvents.impressionServed,(()=>{this.isSupportedDetectedDeliveryType()&&n.u.addEventsListener(this.getEventsAndCallbacksToRegister(),this.getActionName())}))}report(t){n.u.dispatchEvent(n.DvEvents.reportData,new r.AdCandidateEventData(t))}isSupportedDetectedDeliveryType(){return this.getSupportedDetectedDeliveryType().some((t=>t==s.it.getDetectedDeliveryType()))}}},4998:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.CdnDomainBL=void 0;const n=i(194),s=i(7749),r=i(7360),o=i(3868),a=i(8170),c=i(3783),u=i(6751);class d extends u.BaseAdBL{constructor(){super(...arguments),this.DOT_COM_URL_PREFIX="https://cdn.doubleverify.com",this.DOT_TECH_URL_PREFIX="https://cdn.dv.tech"}isSupported(){return!o.S.isDomlessEnvironment()&&!0}getEventsAndCallbacksToRegister(){return{[r.DvEvents.impressionServed]:this.reportCdnDomain.bind(this)}}reportCdnDomain(){const t=this.getCdnDomain();c.DiagnosticParamsReporterSingleton.reportOnce(a.DiagnosticParams.cdnDomain,t)}getCdnDomain(){const t=this.getScriptTagUrl();return(null==t?void 0:t.length)?t.startsWith(this.DOT_COM_URL_PREFIX)?1:t.startsWith(this.DOT_TECH_URL_PREFIX)?2:0:0}getScriptTagUrl(){var t,e;switch(s.I.getParamUrlExtractionMethod()){case 0:case 4:return"";case 1:return null!==(e=null===(t=null===n.it||void 0===n.it?void 0:n.it.getTagScriptElem())||void 0===t?void 0:t.src)&&void 0!==e?e:"";default:return s.I.getDVScriptUrl()}}init(){}getActionName(){return"CdnDomainBL"}}e.CdnDomainBL=d},6991:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.CreativeVsContainerBL=void 0;const n=i(7360),s=i(6751),r=i(9450),o=i(1914),a=i(9759),c=i(8170),u=i(3380),d=i(3783);class l extends s.BaseAdBL{isSupported(){return!0}getEventsAndCallbacksToRegister(){return{[n.DvEvents.adSelected]:this.processMeasuredElementData.bind(this)}}processMeasuredElementData(t){const e=t.adCandidate,i=this.extractMeasuredElementType(e);u.Utilities.isNullOrEmpty(i)||this.sendUpdatedMeasuredElementData(i)}extractMeasuredElementType(t){const e=[o.OmidMeasuredElementExtractor,a.DefaultMeasuredElementExtractor];for(const i of e){const e=new i(t);if(e.isSupported())return t.measuredElementExtractorId=e.getMeasuredElementExtractorId(),t.measuredElementType=e.extract(),t}return null}sendUpdatedMeasuredElementData(t){d.DiagnosticParamsReporterSingleton.reportDiagnosticParam(c.DiagnosticParams.cvcMethodId,t.measuredElementExtractorId),n.u.dispatchEvent(n.DvEvents.reportData,new r.AdCandidateEventData(t))}init(){}}e.CreativeVsContainerBL=l},3723:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.DataTransparencyBL=void 0;const n=i(659),s=i(194),r=i(7749),o=i(7360),a=i(749),c=i(3868),u=i(6751),d=["sadv","ord","litm","scrt","invs","splc","adu","spos"];class l extends u.BaseAdBL{constructor(){super(...arguments),this.timesMessageSent=0}getActionName(){return"DataTransparency"}init(){(0,n.initialize)(c.S.workingWindow())}isSupported(){return!c.S.isDomlessEnvironment()&&c.S.isPostMessageSupported()}getEventsAndCallbacksToRegister(){return{[o.DvEvents.impressionServed]:this.subscribe.bind(this)}}getSellerDimensionsFromTag(){const t=r.I.getLowerCaseParams(),e={};for(const i of d)null!=t[i]&&(e[i]=t[i]);return e}getSellerDimensionsFromState(t){return r.I.isSellerTag()||null==t.sellerDimensions?{}:t.sellerDimensions}onSharedStateUpdated(t){if(this.timesMessageSent>=5)return;this.timesMessageSent++;const e=(0,n.coverageToBitFlag)(t.coverage);if(t.coverage.buyerMonitoringTag&&(t.coverage.sellerMonitoringTag||t.coverage.sellerPageTag)){const i=t.linking.sharedId,n=this.getSellerDimensionsFromState(t);a.A.sendMessage(Object.assign({mascid:i,dvp_dtcov:e},n))}else a.A.sendMessage({dvp_dtcov:e})}subscribe(){const t=s.it.getImpressionId(c.S.currentWindow()),e=r.I.isSellerTag(),i={impressionId:t,isSellerTag:e};e&&(i.sellerDimensions=this.getSellerDimensionsFromTag()),(0,n.subscribe)(c.S.workingWindow(),this.onSharedStateUpdated.bind(this),i)}}e.DataTransparencyBL=l},5786:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.DeterministicAdSelector=e.SELECTION_TIMEOUT=void 0;const n=i(194),s=i(7749),r=i(7360),o=i(749),a=i(815),c=i(9450),u=i(9064),d=i(6751);e.SELECTION_TIMEOUT=2100;class l extends d.BaseAdBL{constructor(t,e){super(),this.ae=t,this.Xt=e,this.adCandidatesPerLocator={},this.wasImpressionServed=!1,this.adSelected=!1,this.timeoutOccurred=!1,this.didSendNotMeasuredMessage=!1,this.adSelectionTimeoutId=null,u.adLocationSelectionDiagnostics.Zt(this.Xt)}init(){}getActionName(){return"DeterministicAdSelector"}isSupported(){return!0}getEventsAndCallbacksToRegister(){return{[r.DvEvents.adCandidateLocated]:this.onAdCandidateLocated.bind(this),[r.DvEvents.impressionServed]:this.onImpressionServed.bind(this),[r.DvEvents.unloadData]:this.onUnloadData.bind(this)}}onAdCandidateLocated(t){var e,i,n;const s=t.adCandidate;null!=s&&"v1"!==s.candidateSource&&(u.adLocationSelectionDiagnostics.recordFound("v2"),null!==(e=(i=this.adCandidatesPerLocator)[n=s._])&&void 0!==e||(i[n]=[]),this.adCandidatesPerLocator[s._].push(t),r.u.dispatchEvent(r.DvEvents.adCandidateApproved,new c.AdCandidateEventData(s)),this.tryToSelectAd())}onImpressionServed(){this.wasImpressionServed=!0;const t=1===s.I.getTagType()||3===n.it.getDetectedDeliveryType()?0:e.SELECTION_TIMEOUT;this.adSelectionTimeoutId=(0,a.setSafeTimeout)(this.onAdSelectionTimeout.bind(this),t)}onAdSelectionTimeout(){this.timeoutOccurred=!0,this.tryToSelectAd()}onUnloadData(t){if(!this.wasImpressionServed)return;const e=t.relevantData;this.adSelected||this.didSendNotMeasuredMessage||(this.didSendNotMeasuredMessage=!0,o.A.sendMessage({isnmms:e.updateTime}))}tryToSelectAd(){var t,e,i,n;if(this.adSelected)return;if(!this.wasImpressionServed)return;const s=null===(t=this.adCandidatesPerLocator[this.ae.mainBit])||void 0===t?void 0:t[0];if(null!=s)return(null===(e=s.adCandidate)||void 0===e?void 0:e.domElement)&&u.adLocationSelectionDiagnostics.recordSelectedElement("v2",s.adCandidate.domElement),u.adLocationSelectionDiagnostics.recordDetSelectedBit(this.ae.mainBit),this.adSelected=!0,void this.reportSelectedAd(s);if(this.timeoutOccurred)for(const t of this.ae.fallbackBits){const e=null===(i=this.adCandidatesPerLocator[t])||void 0===i?void 0:i[0];if(null!=e)return(null===(n=null==e?void 0:e.adCandidate)||void 0===n?void 0:n.domElement)&&u.adLocationSelectionDiagnostics.recordSelectedElement("v2",e.adCandidate.domElement),u.adLocationSelectionDiagnostics.recordDetSelectedBit(t),this.adSelected=!0,void this.reportSelectedAd(e)}}reportSelectedAd(t){this.Xt&&(t.adCandidate.state=2,r.u.dispatchEvent(r.DvEvents.adSelected,t)),null!=this.adSelectionTimeoutId&&((0,a.clearSafeTimeout)(this.adSelectionTimeoutId),this.adSelectionTimeoutId=null),this.setDestroySelectedAdTimeout(t),this.destroyAds()}setDestroySelectedAdTimeout(t){(0,a.setSafeTimeout)((()=>{r.u.dispatchEvent(r.DvEvents.adDestroy,t)}),12e5)}destroyAds(){Object.entries(this.adCandidatesPerLocator).forEach((([t,e])=>{e.forEach((t=>{1==t.adCandidate.state&&(t.adCandidate.state=3,r.u.dispatchEvent(r.DvEvents.adDestroy,t))}))}))}}e.DeterministicAdSelector=l},8716:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.DisplayGenXLogger=void 0;const n=i(6751),s=i(7749),r=i(7360),o=i(749);class a extends n.BaseAdBL{constructor(t){super(),this.adContainerInspector=t.createAdContainerInspector()}getEventsAndCallbacksToRegister(){return{[r.DvEvents.impressionServed]:this.reportAdContainerData.bind(this)}}reportAdContainerData(){var t,e,i,n,s,r;const a={};a.dvp_ime=null===(t=this.adContainerInspector)||void 0===t?void 0:t.getDescendants(["img"]).length,a.dvp_dcime=null===(e=this.adContainerInspector)||void 0===e?void 0:e.getDirectChildren(["img"]).length,a.dvp_dcife=null===(i=this.adContainerInspector)||void 0===i?void 0:i.getDirectChildren(["iframe"]).length,a.dvp_dcde=null===(n=this.adContainerInspector)||void 0===n?void 0:n.getDirectChildren(["div"]).length,a.dvp_dcoe=null===(s=this.adContainerInspector)||void 0===s?void 0:s.getDirectChildren([],["img","iframe","div"]).length;const c=null===(r=this.adContainerInspector)||void 0===r?void 0:r.getMostPopularDirectChildElement(["img","iframe","div"]);c&&(a.dvp_mpdce=c),o.A.sendMessage(a)}init(){}isSupported(){return s.I.isDisplayGenXEnabled()&&0==s.I.getTagType()}}e.DisplayGenXLogger=a},9608:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.AdLocatedBL=void 0;const n=i(7360),s=i(6751),r=i(9450);class o extends s.BaseAdBL{init(){}isSupported(){return!0}getEventsAndCallbacksToRegister(){return{[n.DvEvents.adCandidateApproved]:this.handleEvent.bind(this)}}handleEvent(t){const e=t.adCandidate;e.timeMsUntilAdLocated=t.updateTime,n.u.dispatchEvent(n.DvEvents.reportData,new r.AdCandidateEventData(e))}}e.AdLocatedBL=o},6163:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.BaseInteractionBL=void 0;const n=i(7360),s=i(9450),r=i(6751);class o extends r.BaseAdBL{isSupported(){return!0}init(){}getEventsAndCallbacksToRegister(){return{[this.getInteractionEventName()]:this.handleEvent.bind(this)}}handleEvent(t){if(this.allowReport(t.adCandidate)){1==this.update(t.adCandidate,t.relevantData)&&n.u.dispatchEvent(n.DvEvents.reportData,new s.AdCandidateEventData(t.adCandidate))}}allowReport(t){return!t.wasAdStopped}}e.BaseInteractionBL=o},5648:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.EngagementReportRtsBL=void 0;const n=i(6751),s=i(7360),r=i(9450);class o extends n.BaseAdBL{init(){}isSupported(){return!0}getEventsAndCallbacksToRegister(){return{[s.DvEvents.orientationchangeLandscapeData]:this.TrySendEngagementInteraction.bind(this),[s.DvEvents.orientationChangePortraitData]:this.TrySendEngagementInteraction.bind(this),[s.DvEvents.mouseMoveData]:this.TrySendEngagementInteraction.bind(this),[s.DvEvents.keyPressData]:this.TrySendEngagementInteraction.bind(this),[s.DvEvents.firstTouchData]:this.TrySendEngagementInteraction.bind(this),[s.DvEvents.firstHoverData]:this.TrySendEngagementInteraction.bind(this),[s.DvEvents.focusData]:this.TrySendEngagementInteraction.bind(this),[s.DvEvents.firstClickOnAdElementData]:this.TrySendEngagementInteraction.bind(this),[s.DvEvents.firstFocusIntoAdElementData]:this.TrySendEngagementInteraction.bind(this),[s.DvEvents.omidClickData]:this.TrySendEngagementInteraction.bind(this),[s.DvEvents.abandonData]:this.TrySendEngagementInteraction.bind(this),[s.DvEvents.skipData]:this.TrySendEngagementInteraction.bind(this),[s.DvEvents.pauseData]:this.TrySendEngagementInteraction.bind(this),[s.DvEvents.adSizeData]:this.TrySendEngagementInteraction.bind(this),[s.DvEvents.resumeData]:this.TrySendEngagementInteraction.bind(this),[s.DvEvents.volumeData]:this.TrySendEngagementInteraction.bind(this),[s.DvEvents.unloadData]:this.TrySendEngagementUnload.bind(this)}}TrySendEngagementInteraction(t){const e=t.adCandidate,i=this.adEngagementReported(e),n=this.pageEngagementReported(e);i==e.adEngagement&&n==e.pageEngagement||(e.adEngagement=i,e.pageEngagement=n,s.u.dispatchEvent(s.DvEvents.reportData,new r.AdCandidateEventData(e)))}TrySendEngagementUnload(t){this.TrySendEngagementInteraction(t);const e=t.adCandidate;e.adEngagement||e.pageEngagement||(e.noEngagement=!0,s.u.dispatchEvent(s.DvEvents.reportData,new r.AdCandidateEventData(e)))}adEngagementReported(t){if(t.timeMsUntilAbandon||t.timeMsUntilSkip||t.timeMsUntilPause||t.timeMsUntilClick||t.timeMsUntilAdSizeIncrease||t.timeMsUntilResume||t.timeMsUntilTouch||t.timeMsUntilHover||t.timeMsUntilAdSizeDecrease||t.timeMsUntilVolumeIncrease||t.timeMsUntilVolumeDecrease||t.timeMsUntilVolumeUnMute||t.lastTimeMsVolumeMute)return!0}pageEngagementReported(t){if(t.timeMsUntilFocusOut||t.timeMsUntilFocusIn||t.timeMsUntilMouseMove||t.timeMsUntilKeyPress||t.timeMsUntilScroll||t.timeMsUntilOrientationChangeToLandscape||t.timeMsUntilOrientationChangeToPortrait)return!0}}e.EngagementReportRtsBL=o},5443:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionAdSizeBL=void 0;const n=i(7360),s=i(6163),r=i(9450),o=i(8170),a=i(3783);class c extends s.BaseInteractionBL{getInteractionEventName(){return n.DvEvents.adSizeData}getEventsAndCallbacksToRegister(){return{[n.DvEvents.adSizeMeasured]:t=>{this.handleAdSizeMeasured(t.adCandidate)},[n.DvEvents.adSizeData]:t=>{this.handleAdSizeEvent(t,1)},[n.DvEvents.omidAdSizeData]:t=>{this.handleAdSizeEvent(t,2)}}}handleAdSizeEvent(t,e){a.DiagnosticParamsReporterSingleton.reportOnce(o.DiagnosticParams.adSizeMeasurementMethod,e),t.adCandidate.adSizeMeasurementMethod=e,super.handleEvent(t)}handleAdSizeMeasured(t){void 0===t.isAdSizeChangeMeasured&&(t.isAdSizeChangeMeasured=1,n.u.dispatchEvent(n.DvEvents.reportData,new r.AdCandidateEventData(t)))}update(t,e){return this.updateAdSize(t,e)}updateAdSize(t,e){if(t.isPaused)return 2;const i=this.getAdSizeState(t.lastAdSize,e.adSize);return 2!==i||t.timeMsUntilAdSizeIncrease?1!==i||t.timeMsUntilAdSizeDecrease?(t.lastAdSize=e.adSize,2):(t.timeMsUntilAdSizeDecrease=e.updateTime,t.lastAdSize=e.adSize,1):(t.timeMsUntilAdSizeIncrease=e.updateTime,t.lastAdSize=e.adSize,1)}getAdSizeState(t,e){const i=this.getSurface(t),n=this.getSurface(e);return i&&n&&i!=n?n>i?2:1:3}getSurface(t){return(null==t?void 0:t.width)&&(null==t?void 0:t.height)?t.width*t.height:0}}e.InteractionAdSizeBL=c},7999:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionClickBL=void 0;const n=i(7360),s=i(6163),r=i(3322),o=i(9450),a=i(7749),c=i(8170),u=i(3783);class d extends s.BaseInteractionBL{init(){this.isFocusIntoAdElementLogicApplicable()&&r.ScriptDynamicFlags.getInstance().turnOn(67108864)}getInteractionEventName(){return n.DvEvents.firstClickOnAdElementData}getEventsAndCallbacksToRegister(){return{[n.DvEvents.firstClickOnAdElementData]:t=>{this.handleClickEvent(t,1)},[n.DvEvents.omidClickData]:t=>{this.handleClickEvent(t,2)},[n.DvEvents.firstFocusIntoAdElementData]:t=>{this.handleFocusIntoAdElementEvent(t,4)},[n.DvEvents.clickMeasured]:t=>{this.handleClickMeasured(t.adCandidate)},[n.DvEvents.firstClickOnDescendantIframe]:t=>{this.handleClickEvent(t,8)},[n.DvEvents.firstClickOnDeepDescendantIframe]:t=>{this.handleClickEvent(t,16)},[n.DvEvents.omidInvitationAcceptData]:t=>{this.handleOmidInvitationAccept()},[n.DvEvents.omidCustomInteractionData]:t=>{this.handleOmidCustomInteraction(t)}}}handleClickEvent(t,e){if(t.adCandidate.clickMeasurementMethod|=e,super.allowReport(t.adCandidate)){const i=t.adCandidate,n=t.relevantData;16==e?this.updateClickDeepDescendantIframe(i,n):this.update(i,n)}n.u.dispatchEvent(n.DvEvents.reportData,new o.AdCandidateEventData(t.adCandidate))}handleFocusIntoAdElementEvent(t,e){this.isFocusIntoAdElementLogicApplicable()&&this.handleClickEvent(t,e)}reportClickIsMeasured(t){void 0===t.isClickMeasured&&(t.isClickMeasured=1,n.u.dispatchEvent(n.DvEvents.reportData,new o.AdCandidateEventData(t)))}handleClickMeasured(t){const e=t;e.wasAdStopped||(e.isPaused?n.u.addEventListener(n.DvEvents.resumeData,(()=>{this.reportClickIsMeasured(t)})):this.reportClickIsMeasured(t))}isFocusIntoAdElementLogicApplicable(){return 0==a.I.getTagType()}update(t,e){let i=2;return t.isPaused||t.timeMsUntilClick||(t.timeMsUntilClick=e.updateTime,i=1),i}updateClickDeepDescendantIframe(t,e){t.isPaused||t.timeMsUntilClickDeepDescendantIframe||(t.timeMsUntilClickDeepDescendantIframe=e.updateTime)}handleOmidInvitationAccept(){u.DiagnosticParamsReporterSingleton.reportOnce(c.DiagnosticParams.omidInteractionInvitationAccept,1)}handleOmidCustomInteraction(t){var e;const i=null===(e=null==t?void 0:t.relevantData)||void 0===e?void 0:e.customInteraction,n=t.adCandidate.customInteractions;i&&!n.includes(i)&&(n.push(i),u.DiagnosticParamsReporterSingleton.report(c.DiagnosticParams.omidCustomInteractions,n.join(",")))}}e.InteractionClickBL=d},8874:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionFocusBL=void 0;const n=i(7360),s=i(6163);class r extends s.BaseInteractionBL{getInteractionEventName(){return n.DvEvents.focusData}update(t,e){let i=2;const{updateTime:n}=e;if(t.isPaused)return i;switch(this.getFocusState(t.lastFocus,e.focus)){case 3:break;case 1:if(t.timeMsUntilFocusIn)break;t.timeMsUntilFocusIn=n,i=1;break;case 2:if(t.timeMsUntilFocusOut)break;t.timeMsUntilFocusOut=n,i=1}return t.lastFocus=e.focus,i}getFocusState(t,e){let i;return null==t||null==e||t==e?i=3:0==t&&1==e?i=1:1==t&&0==e&&(i=2),i}}e.InteractionFocusBL=r},8463:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionHoverBL=void 0;const n=i(7360),s=i(6163);class r extends s.BaseInteractionBL{getInteractionEventName(){return n.DvEvents.firstHoverData}update(t,e){let i=2;return t.isPaused||t.timeMsUntilHover||(t.timeMsUntilHover=e.updateTime,i=1),i}}e.InteractionHoverBL=r},4183:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionTouchBL=void 0;const n=i(7360),s=i(6163),r=i(9450);class o extends s.BaseInteractionBL{getInteractionEventName(){return n.DvEvents.firstTouchData}getEventsAndCallbacksToRegister(){return{[n.DvEvents.firstTouchData]:t=>{this.handleEvent(t)},[n.DvEvents.firstTouchOnDescendantIframe]:t=>{this.handleEvent(t)},[n.DvEvents.firstTouchOnDeepDescendantIframe]:t=>{this.handleTouchOnDeepDescendantIframe(t)}}}update(t,e){let i=2;return t.isPaused||t.timeMsUntilTouch||(t.timeMsUntilTouch=e.updateTime,i=1),i}handleTouchOnDeepDescendantIframe(t){const{adCandidate:e,relevantData:i}=t;!super.allowReport(e)||e.isPaused||e.timeMsUntilTouchDeepDescendantIframe||(e.timeMsUntilTouchDeepDescendantIframe=i.updateTime,n.u.dispatchEvent(n.DvEvents.reportData,new r.AdCandidateEventData(e)))}}e.InteractionTouchBL=o},2359:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.PageInteractionKeyPressBL=void 0;const n=i(6163),s=i(7360);class r extends n.BaseInteractionBL{getInteractionEventName(){return s.DvEvents.keyPressData}update(t,e){let i=2;return t.timeMsUntilKeyPress||(t.timeMsUntilKeyPress=e.updateTime,i=1),i}}e.PageInteractionKeyPressBL=r},8345:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.PageInteractionMouseMoveBL=void 0;const n=i(6163),s=i(7360);class r extends n.BaseInteractionBL{getInteractionEventName(){return s.DvEvents.mouseMoveData}update(t,e){let i=2;return t.timeMsUntilMouseMove||(t.timeMsUntilMouseMove=e.updateTime,i=1),i}}e.PageInteractionMouseMoveBL=r},6355:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.PageInteractionOrientationChangeLandscapeBL=void 0;const n=i(6163),s=i(7360);class r extends n.BaseInteractionBL{getInteractionEventName(){return s.DvEvents.orientationchangeLandscapeData}update(t,e){let i=2;return t.timeMsUntilOrientationChangeToLandscape||(t.timeMsUntilOrientationChangeToLandscape=e.updateTime,i=1),i}}e.PageInteractionOrientationChangeLandscapeBL=r},8409:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.PageInteractionOrientationChangePortraitBL=void 0;const n=i(6163),s=i(7360);class r extends n.BaseInteractionBL{getInteractionEventName(){return s.DvEvents.orientationChangePortraitData}update(t,e){let i=2;return t.timeMsUntilOrientationChangeToPortrait||(t.timeMsUntilOrientationChangeToPortrait=e.updateTime,i=1),i}}e.PageInteractionOrientationChangePortraitBL=r},8076:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.PageInteractionScrollBL=void 0;const n=i(6163),s=i(7360),r=i(9450);class o extends n.BaseInteractionBL{getInteractionEventName(){return""}getEventsAndCallbacksToRegister(){return{[s.DvEvents.viewabilityIntervalData]:this.handleViewabilityIntervalDataEvent.bind(this)}}handleViewabilityIntervalDataEvent(t){const e=t.relevantData;if(!e.adGeometric)return;this.reportScrollIsMeasured(t.adCandidate);const i=this.adGeometric;this.adGeometric=e.adGeometric,i&&this.isPositionChanged(i,this.adGeometric)&&this.handleScrollEvent(t),this.scrollInteractionVerificationV2(e.adGeometric,t)}scrollInteractionVerificationV2(t,e){const i=e.adCandidate.position;e.adCandidate.position=t,i&&this.isPositionChanged(i,t)&&this.reportScrollIsInteractedV2(e)}isPositionChanged(t,e){return t.y!=e.y||t.x!=e.x}reportScrollIsMeasured(t){void 0===t.isScrollMeasured&&(t.isScrollMeasured=1,s.u.dispatchEvent(s.DvEvents.reportData,new r.AdCandidateEventData(t)))}handleScrollEvent(t){if(this.allowReport(t.adCandidate)){1==this.update(t.adCandidate,t.relevantData)&&s.u.dispatchEvent(s.DvEvents.reportData,new r.AdCandidateEventData(t.adCandidate))}}update(t,e){let i=2;return t.timeMsUntilScroll||(t.timeMsUntilScroll=e.updateTime,i=1),i}reportScrollIsInteractedV2(t){this.allowReport(t.adCandidate)&&(t.adCandidate.timeMsUntilScrollV2||(t.adCandidate.timeMsUntilScrollV2=t.updateTime,s.u.dispatchEvent(s.DvEvents.reportData,new r.AdCandidateEventData(t.adCandidate))))}}e.PageInteractionScrollBL=o},5465:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.UserPresenceBL=void 0;const n=i(6751),s=i(7360),r=i(749),o=i(7658),a=i(8170),c=i(3783);class u extends n.BaseAdBL{init(){this.reportedMeasuredInteractions=[]}isSupported(){return!0}getEventsAndCallbacksToRegister(){return{[s.DvEvents.keyPressMeasured]:this.reportIsMeasured.bind(this,o.AdDataMappingToReport.isKeyPressMeasured),[s.DvEvents.mouseMoveMeasured]:this.reportIsMeasured.bind(this,o.AdDataMappingToReport.isMouseMoveMeasured),[s.DvEvents.orientationChangeMeasured]:this.reportIsMeasured.bind(this,o.AdDataMappingToReport.isOrientationChangeMeasured),[s.DvEvents.tempFirstKeyPressData]:this.reportInteractionDiagnostic.bind(this,a.DiagnosticParams.isKeyPressed),[s.DvEvents.tempFirstMouseMoveData]:this.reportInteractionDiagnostic.bind(this,a.DiagnosticParams.isMouseMoved),[s.DvEvents.tempOrientationChangePortraitData]:this.reportInteractionDiagnostic.bind(this,a.DiagnosticParams.isOrientationChangedToPortrait),[s.DvEvents.tempOrientationChangeLandscapeData]:this.reportInteractionDiagnostic.bind(this,a.DiagnosticParams.isOrientationChangedToLandscape)}}reportIsMeasured(t){this.reportedMeasuredInteractions.includes(t)||(r.A.sendMessage({[t]:1}),this.reportedMeasuredInteractions.push(t))}reportInteractionDiagnostic(t){c.DiagnosticParamsReporterSingleton.reportOnce(t,1)}}e.UserPresenceBL=u},9289:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionAbandonBL=void 0;const n=i(7360),s=i(6163),r=i(7749);class o extends s.BaseInteractionBL{init(){}getInteractionEventName(){return n.DvEvents.abandonData}update(t,e){let i=2;return 1!=r.I.getTagType()||t.timeMsUntilSkip||t.timeMsUntilAbandon||(t.timeMsUntilAbandon=e.updateTime,i=1),i}}e.InteractionAbandonBL=o},1816:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionPauseBL=void 0;const n=i(7360),s=i(6163);class r extends s.BaseInteractionBL{getInteractionEventName(){return n.DvEvents.pauseData}update(t,e){let i=2;return t.isPaused||(t.timeMsUntilPause||(t.timeMsUntilPause=e.updateTime,i=1),t.isPaused=!0),i}}e.InteractionPauseBL=r},3363:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionResumeBL=void 0;const n=i(7360),s=i(6163);class r extends s.BaseInteractionBL{getInteractionEventName(){return n.DvEvents.resumeData}update(t,e){let i=2;return t.timeMsUntilResume||1!=t.isPaused||(t.isPaused=!1,t.timeMsUntilResume=e.updateTime,i=1),i}}e.InteractionResumeBL=r},1006:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionSkipBL=void 0;const n=i(7360),s=i(6163);class r extends s.BaseInteractionBL{getInteractionEventName(){return n.DvEvents.skipData}update(t,e){let i=2;return t.timeMsUntilSkip||(t.timeMsUntilSkip=t.adSkippedTime=e.updateTime,t.adSkippableMs||(t.adSkippableMs=e.updateTime),i=1),i}}e.InteractionSkipBL=r},6044:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionVolumeBL=void 0;const n=i(7360),s=i(6163),r=i(3567);class o extends s.BaseInteractionBL{getActionName(){return"InteractionVolumeBL"}getInteractionEventName(){return n.DvEvents.volumeData}update(t,e){let i=2;const{updateTime:n}=e;switch(this.getVolumeState(t.lastVideoVolume,e.volume)){case 5:break;case 3:if(t.timeMsUntilVolumeMute)break;t.timeMsUntilVolumeMute=n,i=1;break;case 1:if(t.timeMsUntilVolumeDecrease)break;t.timeMsUntilVolumeDecrease=n,i=1;break;case 4:if(t.timeMsUntilVolumeUnMute)break;t.timeMsUntilVolumeUnMute=n,i=1;break;case 2:if(t.timeMsUntilVolumeIncrease)break;t.timeMsUntilVolumeIncrease=n,i=1}return t.lastVideoVolume=e.volume,i}getVolumeState(t,e){return r.default.isVolumeLevelSupported(t)&&r.default.isVolumeLevelSupported(e)&&t!==e?r.default.isVolumeLevelMuted(e)&&!r.default.isVolumeLevelMuted(t)?3:e<t?1:r.default.isVolumeLevelMuted(t)&&!r.default.isVolumeLevelMuted(e)?4:e>t?2:void 0:5}}e.InteractionVolumeBL=o},9611:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.QuartileBucketsVolumeBL=void 0;const n=i(7360),s=i(9450),r=i(7749),o=i(6751);class a extends o.BaseAdBL{init(){}isSupported(){return 1==r.I.getTagType()}getEventsAndCallbacksToRegister(){return{[n.DvEvents.exposureData]:this.handleVolumeData.bind(this),[n.DvEvents.adVideoFirstQuartileData]:this.handleQuartileData.bind(this,1),[n.DvEvents.adVideoMidpointData]:this.handleQuartileData.bind(this,2),[n.DvEvents.adVideoThirdQuartileData]:this.handleQuartileData.bind(this,3),[n.DvEvents.adVideoCompleteData]:this.handleQuartileData.bind(this,4)}}handleVolumeData(t){const e=t.adCandidate,i=t.relevantData;if(!i.adIsPlaying)return;if(null==i.volume||i.volume<0)return;const n=i.volume?i.intervalDuration:0,s="q"+e.volumeDurationQuartileId+"ad";e[s]=e[s]?e[s]+n:n,i.volume&&e.markAdQuartile(2,e.volumeDurationQuartileId)}handleQuartileData(t,e){const i=e.adCandidate;i.volumeDurationQuartileId=t+1,n.u.dispatchEvent(n.DvEvents.reportData,new s.AdCandidateEventData(i))}}e.QuartileBucketsVolumeBL=a},876:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.VideoCompleteBL=void 0;const n=i(7360),s=i(6163);class r extends s.BaseInteractionBL{getInteractionEventName(){return n.DvEvents.adVideoCompleteData}update(t,e){return t.wasAdStopped=!0,2}}e.VideoCompleteBL=r},615:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.VideoLengthBL=void 0;const n=i(7360),s=i(9450),r=i(7749),o=i(6751);class a extends o.BaseAdBL{init(){}isSupported(){return 1==r.I.getTagType()}getEventsAndCallbacksToRegister(){return{[n.DvEvents.adVideoFirstQuartileData]:this.calculateVideoLengthDueToFirstQuartile.bind(this),[n.DvEvents.adVideoMidpointData]:this.calculateVideoLengthDueToSecondQuartile.bind(this),[n.DvEvents.adVideoCompleteData]:this.calculateVideoLengthDueToAdComplete.bind(this)}}calculateVideoLengthDueToFirstQuartile(t){const e=t.adCandidate;e.adVideoTimeLine&&5!==e.adDurationCalculationType&&(this.setAdDuration(e,4),e.adDurationCalculationType=2)}calculateVideoLengthDueToSecondQuartile(t){const e=t.adCandidate;e.adVideoTimeLine&&5!==e.adDurationCalculationType&&(e.videoLength=2*e.adVideoTimeLine,this.setAdDuration(e,2),e.adDurationCalculationType=3)}calculateVideoLengthDueToAdComplete(t){const e=t.adCandidate;e.adVideoTimeLine&&5!==e.adDurationCalculationType&&(this.setAdDuration(e),e.adDurationCalculationType=4,n.u.dispatchEvent(n.DvEvents.reportData,new s.AdCandidateEventData(e)))}setAdDuration(t,e=1){t.adDuration=Math.round(t.adVideoTimeLine*e)}}e.VideoLengthBL=a},1886:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.VideoMarkImpressionAsRenderedBL=void 0;const n=i(6751),s=i(7749),r=i(7360),o=i(9450),a=i(7196);class c extends n.BaseAdBL{getActionName(){return"VideoMarkImpressionAsRenderedBL"}init(){}isSupported(){return 1==s.I.getTagType()}getEventsAndCallbacksToRegister(){return{[r.DvEvents.impressionServed]:this.impressionServed.bind(this)}}impressionServed(){a.ExposureBL.getEventsAdIsPlayingTrue().forEach((t=>{r.u.addEventListener(t,this.videoRenderedCallback.bind(this))}))}videoRenderedCallback(t){const e=t.adCandidate;null==e.isVideoPreRendered&&(e.isVideoPreRendered=0,e.videoStartTime=t.updateTime,e.timeMsUntilVideoPlayed=t.updateTime,r.u.dispatchEvent(r.DvEvents.videoStartPlaying,new o.AdCandidateEventData(e)),r.u.dispatchEvent(r.DvEvents.reportData,new o.AdCandidateEventData(e)),r.u.dispatchEvent(r.DvEvents.beginToPlay,new o.AdCandidateEventData(e)))}}e.VideoMarkImpressionAsRenderedBL=c},6901:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.VideoSkippableBL=void 0;const n=i(7360),s=i(7749),r=i(6751);class o extends r.BaseAdBL{init(){}isSupported(){return 1==s.I.getTagType()}getEventsAndCallbacksToRegister(){return{[n.DvEvents.skippableData]:this.handleSkippableData.bind(this)}}handleSkippableData(t){const e=t.adCandidate,i=t.relevantData;i.adSkippable&&(e.adSkippableMs=i.updateTime)}}e.VideoSkippableBL=o},5784:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.VideoStoppedBL=void 0;const n=i(7360),s=i(6163);class r extends s.BaseInteractionBL{getInteractionEventName(){return n.DvEvents.stopData}update(t,e){return t.wasAdStopped=!0,2}}e.VideoStoppedBL=r},223:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.VolumeBL=void 0;const n=i(7360),s=i(7749),r=i(6751),o=i(3567);class a extends r.BaseAdBL{init(){}isSupported(){return 1==s.I.getTagType()}getEventsAndCallbacksToRegister(){return{[n.DvEvents.exposureData]:this.handleVolumeData.bind(this)}}handleVolumeData(t){const e=t.adCandidate,i=t.relevantData;i.adIsPlaying&&this.trySetVolumeValues(e,i)}trySetVolumeValues(t,e){let i=e.volume;o.default.isVolumeLevelSupported(i)&&(t.timeMsUntilVolumeMeasured||(t.timeMsUntilVolumeMeasured=e.updateTime),i=Math.max(Math.min(Math.ceil(100*i),100),0),o.default.isVolumeLevelMuted(i)&&null==t.lastTimeMsVolumeMute&&(t.lastTimeMsVolumeMute=e.updateTime),t.minVideoVolume=null==t.minVideoVolume||t.minVideoVolume>i?i:t.minVideoVolume,t.maxVideoVolume=null==t.maxVideoVolume||t.maxVideoVolume<i?i:t.maxVideoVolume)}}e.VolumeBL=a},7196:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ExposureBL=void 0;const n=i(7360),s=i(9450),r=i(6751),o=i(3380),a=i(870);class c extends r.BaseAdBL{static getEventsAdIsPlayingTrue(){return a.omidAdapter.isSupported()?[n.DvEvents.adVideoStartData,n.DvEvents.resumeData]:[n.DvEvents.adImpressionData,n.DvEvents.adVideoStartData,n.DvEvents.resumeData]}static getEventsAdIsPlayingFalse(){return[n.DvEvents.pauseData,n.DvEvents.abandonData,n.DvEvents.skipData,n.DvEvents.unloadData,n.DvEvents.adVideoCompleteData]}init(){}isSupported(){return!0}getEventsAndCallbacksToRegister(){return{[n.DvEvents.focusData]:this.collectFocusData.bind(this),[n.DvEvents.strictFocusData]:this.collectStrictFocusData.bind(this),[n.DvEvents.viewabilityIntervalData]:this.collectViewabilityData.bind(this),[n.DvEvents.secondaryViewabilityIntervalData]:this.collectSecondaryViewabilityData.bind(this),[n.DvEvents.boundariesViewabilityIntervalData]:this.collectBoundariesViewabilityData.bind(this),[n.DvEvents.adImpressionData]:this.collectAdIsPlayingData.bind(this,n.DvEvents.adImpressionData),[n.DvEvents.adVideoStartData]:this.collectAdIsPlayingData.bind(this,n.DvEvents.adVideoStartData),[n.DvEvents.pauseData]:this.collectAdIsPlayingData.bind(this,n.DvEvents.pauseData),[n.DvEvents.resumeData]:this.collectAdIsPlayingData.bind(this,n.DvEvents.resumeData),[n.DvEvents.abandonData]:this.collectAdIsPlayingData.bind(this,n.DvEvents.abandonData),[n.DvEvents.skipData]:this.collectAdIsPlayingData.bind(this,n.DvEvents.skipData),[n.DvEvents.unloadData]:this.collectAdIsPlayingData.bind(this,n.DvEvents.unloadData),[n.DvEvents.adVideoCompleteData]:this.collectAdIsPlayingData.bind(this,n.DvEvents.adVideoCompleteData),[n.DvEvents.volumeData]:this.collectAdVolumeData.bind(this),[n.DvEvents.videoLoadedData]:this.collectAdVolumeData.bind(this)}}collectViewabilityData(t){const e=t.adCandidate,i=t.relevantData;e.lastExposureTimeEvent||(e.lastExposureTimeEvent=i.updateTime);const r=Math.max(i.updateTime-e.lastExposureTimeEvent,100);e.viewabilityAdIsPlaying&&(e.adVideoTimeLine=e.adVideoTimeLine?e.adVideoTimeLine+r:r),n.u.dispatchEvent(n.DvEvents.exposureData,new s.AdCandidateEventData(e,{adSize:i.adGeometric,viewportSize:i.viewportSize,wrapperSize:i.wrapperSize,screenSize:i.screenSize,percentage:o.Utilities.isNumber(i.percentage)?Math.round(i.percentage):void 0,offScreenPercentage:i.offScreenPercentage,viewabilityCalculationType:i.viewabilityCalculationType,focus:e.viewabilityFocus,strictFocus:e.viewabilityStrictFocus&&e.viewabilityFocus,adIsPlaying:e.viewabilityAdIsPlaying,intervalDuration:r,adVideoTimeLine:e.adVideoTimeLine,volume:e.currentVideoVolume,boundariesViewability:e.boundariesViewability})),e.lastExposureTimeEvent=i.updateTime}collectSecondaryViewabilityData(t){const e=t.adCandidate,i=t.relevantData,r=Math.max(i.updateTime-e.lastExposureTimeEvent,100);n.u.dispatchEvent(n.DvEvents.secondaryExposureData,new s.AdCandidateEventData(e,{adSize:i.adGeometric,viewportSize:i.viewportSize,wrapperSize:i.wrapperSize,screenSize:i.screenSize,percentage:o.Utilities.isNumber(i.percentage)?Math.round(i.percentage):void 0,offScreenPercentage:i.offScreenPercentage,viewabilityCalculationType:i.viewabilityCalculationType,focus:e.viewabilityFocus,strictFocus:e.viewabilityStrictFocus&&e.viewabilityFocus,adIsPlaying:e.viewabilityAdIsPlaying,intervalDuration:r,adVideoTimeLine:e.adVideoTimeLine,volume:e.currentVideoVolume,boundariesViewability:e.boundariesViewability}))}collectBoundariesViewabilityData(t){const e=t.adCandidate,i=t.relevantData;e.boundariesViewability=i.boundariesViewability}collectFocusData(t){const e=t.adCandidate,i=t.relevantData;e.viewabilityFocus=i.focus}collectStrictFocusData(t){const e=t.adCandidate,i=t.relevantData;e.viewabilityStrictFocus=i.focus}collectAdIsPlayingData(t,e){const i=c.getEventsAdIsPlayingTrue(),n=c.getEventsAdIsPlayingFalse(),s=e.adCandidate;i.includes(t)?s.viewabilityAdIsPlaying=!0:n.includes(t)&&(s.viewabilityAdIsPlaying=!1),this.collectAdVolumeData(e)}collectAdVolumeData(t){const e=t.adCandidate,i=t.relevantData;o.Utilities.isNullOrEmpty(i.volume)||(e.currentVideoVolume=i.volume)}}e.ExposureBL=c},6265:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ExposureCompatibilityIndicator=void 0;const n=i(870),s=i(6681),r=i(6751),o=i(7749),a=i(194),c=i(7360),u=i(1063),d=i(749);class l extends r.BaseAdBL{getActionName(){return"ExposureCompatibilityIndicator"}init(){}isSupported(){return!0}getEventsAndCallbacksToRegister(){return{[c.DvEvents.impressionServed]:this.start.bind(this)}}start(){const t=a.it.getDetectedDeliveryType(),e=this.determineViewabilityIntegrationType(t)||0;this.report({vit:e})}report(t){d.A.sendMessage(t)}determineViewabilityIntegrationType(t){if(null==t||!o.I.isTagTypeValid())return null;if(a.it.isMobileApp()||a.it.isCTV())return n.omidAdapter.isSupported()?6:s.MraidWrapper.isSupported()?5:null;if(1==o.I.getTagType()){const t=u.VpaidWrapper.getDvVpaid();return(null==t?void 0:t.viewabilityIntegrationType)||null}return 2}}e.ExposureCompatibilityIndicator=l},7573:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.GandalfTheWhiteBL=e.GANDALF_THE_WHITE_AD_ID_DATA_ATTRIBUTE=void 0;const n=i(6751),s=i(7360),r=i(8170),o=i(7749),a=i(3783);e.GANDALF_THE_WHITE_AD_ID_DATA_ATTRIBUTE="data-gtwadid";class c extends n.BaseAdBL{init(){}isSupported(){return null!=o.I.getParamValue("dvp_gandalf_internal_ad_id")}getEventsAndCallbacksToRegister(){return{[s.DvEvents.adSelected]:this.handleSelectedAd.bind(this)}}getActionName(){return"GandalfTheWhiteBL"}handleSelectedAd(t){const i=t.adCandidate.domElement,n=null==i?void 0:i.getAttribute(e.GANDALF_THE_WHITE_AD_ID_DATA_ATTRIBUTE);if(null!=n)return void a.DiagnosticParamsReporterSingleton.reportDiagnosticParam(r.DiagnosticParams.gandalfTheWhiteAdId,n);if(!i)return void a.DiagnosticParamsReporterSingleton.reportDiagnosticParam(r.DiagnosticParams.gandalfTheWhiteAdId,"NO_DOM_ELEMENT");const s=i.getAttribute("id");null==s?a.DiagnosticParamsReporterSingleton.reportDiagnosticParam(r.DiagnosticParams.gandalfTheWhiteAdId,i.outerHTML.substring(0,50)):a.DiagnosticParamsReporterSingleton.reportDiagnosticParam(r.DiagnosticParams.gandalfTheWhiteAdId,s)}}e.GandalfTheWhiteBL=c},9604:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractMeasuredElementExtractor=void 0;e.AbstractMeasuredElementExtractor=class{constructor(t){this.measuredElementData=t}}},9759:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultMeasuredElementExtractor=void 0;const n=i(9604),s=i(3380);class r extends n.AbstractMeasuredElementExtractor{isSupported(){var t;return!!(null===(t=this.measuredElementData)||void 0===t?void 0:t.domElement)}extract(){var t;return 1===s.Utilities.extractElementType(null===(t=this.measuredElementData)||void 0===t?void 0:t.domElement)?2:1}getMeasuredElementExtractorId(){return 1}}e.DefaultMeasuredElementExtractor=r},1914:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.OmidMeasuredElementExtractor=void 0;const n=i(9604),s=i(3380);class r extends n.AbstractMeasuredElementExtractor{isSupported(){var t;return!s.Utilities.isNullOrEmpty(null===(t=this.measuredElementData)||void 0===t?void 0:t.omidMeasuredElementType)}extract(){var t;return null===(t=this.measuredElementData)||void 0===t?void 0:t.omidMeasuredElementType}getMeasuredElementExtractorId(){return 2}}e.OmidMeasuredElementExtractor=r},5500:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.MobileOrientationBL=void 0;const n=i(6751),s=i(7360),r=i(194);class o extends n.BaseAdBL{getActionName(){return"MobileOrientationBL"}init(){}isSupported(){return!0}getEventsAndCallbacksToRegister(){return{[s.DvEvents.impressionServed]:this.impressionServed.bind(this)}}impressionServed(){r.it.isMobile()&&s.u.addEventListener(s.DvEvents.exposureData,this.handleViewabilityData.bind(this))}handleViewabilityData(t){var e,i;const n=t.adCandidate,s=t.relevantData;(null===(e=s.viewportSize)||void 0===e?void 0:e.height)&&(null===(i=s.viewportSize)||void 0===i?void 0:i.width)?this.setOrientationData(n,s):n.initialOrientationType||(n.initialOrientationType=0)}setOrientationData(t,e){let i=0;e.viewportSize.width>e.viewportSize.height?(i=2,t.accumulativeTimeOrientationLandscape=t.accumulativeTimeOrientationLandscape?t.accumulativeTimeOrientationLandscape+e.intervalDuration:e.intervalDuration):(i=1,t.accumulativeTimeOrientationPortrait=t.accumulativeTimeOrientationPortrait?t.accumulativeTimeOrientationPortrait+e.intervalDuration:e.intervalDuration),t.initialOrientationType||(t.initialOrientationType=i)}}e.MobileOrientationBL=o},9616:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.MrcImpressionBL=void 0;const n=i(6751),s=i(7360),r=i(9450),o=i(7749),a=i(455),c=i(8170),u=i(3783);class d extends n.BaseAdBL{init(){this.beginToRender=!1,this.beginToPlay=!1,this.isImpressionServed=!1,this.isMrcImpressionSent=!1,this.adCandidateData=new a.AdCandidateData(null)}isSupported(){return!0}getEventsAndCallbacksToRegister(){return{[s.DvEvents.beginToRender]:this.handleBeginToRender.bind(this),[s.DvEvents.beginToPlay]:this.handleBeginToPlay.bind(this),[s.DvEvents.impressionServed]:this.handleImpressionServed.bind(this)}}handleImpressionServed(){this.isImpressionServed=!0,this.trySendMrcImpression()}handleBeginToRender(){this.beginToRender=!0,this.trySendMrcImpression()}handleBeginToPlay(t){this.beginToPlay=!0,this.trySendMrcImpression(t.adCandidate)}trySendMrcImpression(t=this.adCandidateData){!this.isMrcImpressionSent&&this.isImpressionServed&&this.beginToRender&&(0===o.I.getTagType()||this.beginToPlay)&&(t.isMrcImpression=!0,s.u.dispatchEvent(s.DvEvents.reportData,new r.AdCandidateEventData(t,{reportType:2,forceRTS:!0})),u.DiagnosticParamsReporterSingleton.report(c.DiagnosticParams.isMrcImpression,1),this.isMrcImpressionSent=!0)}}e.MrcImpressionBL=d},1074:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.NormalizedAdSizeBL=void 0;const n=i(6751),s=i(7360),r=i(9450),o=i(7749),a=i(3971);class c extends n.BaseAdBL{init(){}isSupported(){return!0}getEventsAndCallbacksToRegister(){return{[s.DvEvents.adSizeChangedData]:this.handleAdSizeChangedData.bind(this)}}handleAdSizeChangedData(t){const e=t.adCandidate;if(!e.adWidth||!e.adHeight)return;const i={width:e.adWidth,height:e.adHeight},n=a.StandardSizes.getNearestAdSize(i,o.I.getTagType(),1==o.I.getTagType()?20:5);n&&(e.normalizedAdWidth=n.width,e.normalizedAdHeight=n.height,s.u.dispatchEvent(s.DvEvents.reportData,new r.AdCandidateEventData(e)))}}e.NormalizedAdSizeBL=c},334:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.OmidImpressionEventInfoBL=void 0;const n=i(870),s=i(6751),r=i(7360),o=i(8379);class a extends s.BaseAdBL{isSupported(){return n.omidAdapter.isSupported()}getEventsAndCallbacksToRegister(){return{[r.DvEvents.adCandidateApproved]:t=>{this.adCandidateApproved(t)}}}init(){}adCandidateApproved(t){n.omidAdapter.addEventListener("impression",(e=>{this.handleImpressionEvent(e,t)}))}handleImpressionEvent(t,e){var i,n;(null===(i=null==t?void 0:t.data)||void 0===i?void 0:i.impressionType)&&(o.omidImpressionTypeMapping[t.data.impressionType]?e.adCandidate.omidImpressionType=o.omidImpressionTypeMapping[t.data.impressionType]:(e.adCandidate.omidImpressionType=o.omidImpressionTypeMapping.unknown,e.adCandidate.omidUnknownImpressionType=t.data.impressionType)),(null===(n=null==t?void 0:t.data)||void 0===n?void 0:n.creativeType)&&(o.omidCreativeTypeMapping[t.data.creativeType]?e.adCandidate.omidCreativeType=o.omidCreativeTypeMapping[t.data.creativeType]:(e.adCandidate.omidCreativeType=o.omidCreativeTypeMapping.unknown,e.adCandidate.omidUnknownCreativeType=t.data.creativeType))}}e.OmidImpressionEventInfoBL=a},4342:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.PageEventsLoggerBL=void 0;const n=i(7360),s=i(6751),r=i(3322),o=i(3868),a=i(3380),c=i(749),u=i(7658),d=i(815);class l extends s.BaseAdBL{constructor(){super(),this.isPageHideNonPersistedFired=!1}isSupported(){return!o.S.isDomlessEnvironment()}getEventsAndCallbacksToRegister(){return{[n.DvEvents.pageHideEventPersisted]:this.turnOnScriptDynamicFlag(16).bind(this),[n.DvEvents.pageHideEventNonPersisted]:this.logPageHideEventNonPersisted.bind(this)}}turnOnScriptDynamicFlag(t){return()=>{r.ScriptDynamicFlags.getInstance().turnOn(t)}}logPageHideEventNonPersisted(){this.isPageHideNonPersistedFired||(this.isPageHideNonPersistedFired=!0,c.A.sendMessage({[u.AdDataMappingToReport.timeUntilPageHideEventNonPersistedMs]:a.Utilities.getTimeDiff()})),this.turnOnScriptDynamicFlag(32)();const t=this.turnOnScriptDynamicFlag(64).bind(this);(0,d.setSafeTimeout)(t,20)}init(){}}e.PageEventsLoggerBL=l},2530:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.PerformanceApiBL=void 0;const n=i(6751),s=i(9450),r=i(7360),o=i(3868);class a extends n.BaseAdBL{getEventsAndCallbacksToRegister(){return{[r.DvEvents.performanceData]:this.aggregatePerformanceApiData.bind(this)}}aggregatePerformanceApiData({performanceData:t,adData:e}){isNaN(null==t?void 0:t.visitResponseSize)||(e.visitResponseSize=null==t?void 0:t.visitResponseSize,r.u.dispatchEvent(r.DvEvents.reportData,new s.AdCandidateEventData(e)))}init(){}isSupported(){return!o.S.isDomlessEnvironment()}}e.PerformanceApiBL=a},4372:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.PerformanceLongTasksBL=void 0;const n=i(6751),s=i(7360),r=i(6593),o=i(749);class a extends n.BaseAdBL{constructor(){super(...arguments),this.totalLongTaskDuration=0,this.totalLongTaskAmount=0}getEventsAndCallbacksToRegister(){return this.reportLongTaskMeasured(),{[s.DvEvents.performanceLongTasks]:this.handleLongTasks.bind(this)}}reportLongTaskMeasured(){o.A.sendMessage({pltm:1})}handleLongTasks(t){const{longTasks:e=[]}=t;e.length&&(this.totalLongTaskAmount+=e.length,this.totalLongTaskDuration+=e.reduce(((t,{duration:e})=>t+e),0),o.A.sendMessage({pltn:this.totalLongTaskAmount,pltd:Math.floor(this.totalLongTaskDuration)}))}init(){}isSupported(){return r.PerformanceLongTasksDataCollector.isPerformanceLongTasksSupported()}}e.PerformanceLongTasksBL=a},2727:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.PerformanceTaskTimingBL=void 0;const n=i(7360),s=i(549),r=i(495),o=i(8170),a=i(6751),c=i(3783);class u extends a.BaseAdBL{init(){this.timings=[],this.scheduledTaskRef=null}getEventsAndCallbacksToRegister(){return{[n.DvEvents.adSelected]:this.reportTaskTiming.bind(this),[n.DvEvents.globalUnloadData]:this.reportTaskTiming.bind(this),[n.DvEvents.performanceTaskTiming]:this.handleTaskTiming.bind(this)}}isSupported(){return(0,r.isPerformanceApiSupported)()}handleTaskTiming(t){const{taskTimings:e=[]}=t;e.length&&(this.timings.push(...e.map((({name:t,startTime:e,duration:i})=>({duration:Math.round(i),name:t,startTime:Math.round(e)})))),this.scheduleTrackingIfNecessary())}scheduleTrackingIfNecessary(){null===this.scheduledTaskRef&&(this.scheduledTaskRef=(0,s.scheduleTask)((()=>{this.reportTaskTiming()})))}reportTaskTiming(){null!=this.scheduledTaskRef&&(this.scheduledTaskRef=null,c.DiagnosticParamsReporterSingleton.reportDiagnosticParam(o.DiagnosticParams.taskTiming,this.getSerializedTaskTiming()))}getSerializedTaskTiming(){return this.timings.map((({name:t,startTime:e,duration:i})=>`${t},${e},${i}`)).join(";")}}e.PerformanceTaskTimingBL=u},2968:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.PerformanceMetricsBL=void 0;const n=i(6751),s=i(7360),r=i(3380),o=i(3868),a=i(749),c=i(194),u={tag:{loading:1,interactive:2,complete:4},measurement:{loading:8,interactive:16,complete:32},visit:{loading:64,interactive:128,complete:256}};class d extends n.BaseAdBL{getScriptExecIndicator(t,e){if(!e){e=o.S.currentDocument().readyState}return(u[t]||{})[e]||{}||0}init(){this.measurementScriptExecIndicator=this.getScriptExecIndicator("measurement")}isSupported(){return!o.S.isDomlessEnvironment()}getEventsAndCallbacksToRegister(){return{[s.DvEvents.impressionServed]:this.onImpressionServed.bind(this)}}getScriptDuration(t,e){return o.S.monitorScriptsPerformance(e,{[t]:["duration"]})[`${t}_duration`]||0}reportTagLoadTimeMs(){return{tltms:this.getScriptDuration("dvbm",o.S.workingWindow())}}reportTagExecTimeMs(){return{tetms:c.it.getTagExecTimeMs()}}getActionName(){return"PerformanceMetricsBL"}reportMeasurementScriptLoadTimeMs(){return{msltms:this.getScriptDuration("dv-measurements",o.S.currentWindow())}}reportVisitLoadTimeMs(){return{vltms:this.getScriptDuration("visit",o.S.currentWindow())}}reportVisitExecTimeMs(){const t=this.getScriptDuration("visit",o.S.currentWindow());return{vetms:r.Utilities.getCurrentTime()-c.it.getVisitInjectedMS()-t}}reportScriptExecIndicator(){const t=this.getScriptExecIndicator("visit",c.it.getVisitReadyState());return{sei:this.getScriptExecIndicator("tag",c.it.getTagReadyState())|this.measurementScriptExecIndicator|t}}reportTimeUntilVisitInjectedMs(){return{tuviims:c.it.getVisitInjectedMS()-c.it.getTagLoadedMS()}}reportTimeUntilVisitExecutedMs(){return{tuviems:r.Utilities.getCurrentTime()-c.it.getTagLoadedMS()}}onImpressionServed(){const t=this.reportTagLoadTimeMs();r.Utilities.extend(this.reportTagExecTimeMs(),t),r.Utilities.extend(this.reportMeasurementScriptLoadTimeMs(),t),r.Utilities.extend(this.reportVisitLoadTimeMs(),t),r.Utilities.extend(this.reportScriptExecIndicator(),t),r.Utilities.extend(this.reportVisitExecTimeMs(),t),r.Utilities.extend(this.reportTimeUntilVisitInjectedMs(),t),r.Utilities.extend(this.reportTimeUntilVisitExecutedMs(),t),a.A.sendMessage(t)}}e.PerformanceMetricsBL=d},2020:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.RenderingMethodLogger=void 0;const n=i(6751),s=i(7360),r=i(749),o=i(7026);class a extends n.BaseAdBL{getEventsAndCallbacksToRegister(){return{[s.DvEvents.impressionServed]:this.reportRenderingMethodIndicator.bind(this)}}reportRenderingMethodIndicator(){r.A.sendMessage({rmi:o.RenderLogicFactory.getRenderLogic().getRenderingMethodIndicator()})}init(){}isSupported(){return!0}}e.RenderingMethodLogger=a},9401:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ReportAdManagerRTS=void 0;const n=i(7360),s=i(194),r=i(6751),o=i(9450),a=i(3380),c=i(2874);class u extends r.BaseAdBL{init(){}isSupported(){return!0}getEventsAndCallbacksToRegister(){return{[n.DvEvents.reportData]:this.report.bind(this),[n.DvEvents.adSelected]:this.report.bind(this)}}report(t){const e=t.adCandidate,{reportType:i=2,forceRTS:n=!1}=t.relevantData;if(!(0===i||2===i)||2!=e.state&&!n)return;const s=a.Utilities.mapData(e,c.RTSDataMapping,!0),r=Object.keys(s);r.length&&this.sendRtsEvents(r,e)}sendRtsEvents(t,e){for(const i of t)s.it.publishPubSubEvent(i),n.u.dispatchEvent(n.DvEvents.rtsEventData,new o.AdCandidateEventData(e,{eventName:i}))}}e.ReportAdManagerRTS=u},3831:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ReportAdManagerTPS=void 0;const n=i(7360),s=i(7658),r=i(6751),o=i(3380),a=i(749);class c extends r.BaseAdBL{constructor(){super(...arguments),this.cachedAdDataToReport={}}init(){}isSupported(){return!0}getEventsAndCallbacksToRegister(){return{[n.DvEvents.reportData]:this.report.bind(this),[n.DvEvents.adSelected]:this.report.bind(this)}}report(t){const e=t.adCandidate,i=t.relevantData,n=null==i.reportType||0==i.reportType||1==i.reportType;if(2!=e.state||!n)return;const r=o.Utilities.mapData(e,s.AdDataMappingToReport,!1);o.Utilities.removeDuplicateValues(r,this.cachedAdDataToReport),o.Utilities.extend(r,this.cachedAdDataToReport);const{isImportantMessage:c,noConsolidation:u}=t.relevantData;if(!o.Utilities.isEmpty(r)){const t={isImportantMessage:c,noConsolidation:u};a.A.sendMessage(r,t)}}}e.ReportAdManagerTPS=c},7706:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.S2SPartnerTelemetryBL=void 0;const n=i(6751),s=i(3868),r=i(7360),o=i(4970);class a extends n.BaseAdBL{constructor(){super(...arguments),this.receivedIabViewable=!1,this.receivedMrcImpression=!1,this.receivedAdSelected=!1,this.eventQueue=[]}init(){}isSupported(){return s.S.isPostMessageSupported()}getEventsAndCallbacksToRegister(){return{[r.DvEvents.reportData]:this.onReportData.bind(this)}}getActionName(){return"S2SPartnerTelemetryBL"}onReportData(t){var e,i,n;this.receivedAdSelected||2!==(null===(e=null==t?void 0:t.adCandidate)||void 0===e?void 0:e.state)||(this.receivedAdSelected=!0),!this.receivedMrcImpression&&(null===(i=null==t?void 0:t.adCandidate)||void 0===i?void 0:i.isMrcImpression)&&(this.receivedMrcImpression=!0,this.eventQueue.push({type:"MRCImpression"})),!this.receivedIabViewable&&(null===(n=null==t?void 0:t.adCandidate)||void 0===n?void 0:n.timeMsUntilAdViewed)&&(this.receivedIabViewable=!0,this.eventQueue.push({type:"IABViewableImpression"})),this.sendingPendingEvents()}sendingPendingEvents(){if(this.receivedAdSelected)for(;this.eventQueue.length;){const t=this.eventQueue.shift();(0,o.sendS2SPartnerTelemetryEvent)(t)}}}e.S2SPartnerTelemetryBL=a},1328:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ScriptInjectionModeBL=void 0;const n=i(6751),s=i(3868),r=i(749),o=i(7360);class a extends n.BaseAdBL{getEventsAndCallbacksToRegister(){return{[o.DvEvents.impressionServed]:this.onImpressionServed.bind(this)}}init(){}onImpressionServed(){r.A.sendMessage({sim:s.S.getScriptInjectionMode()})}isSupported(){return!0}getActionName(){return"ScriptInjectionModeBL"}}e.ScriptInjectionModeBL=a},3500:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ShareOfScreenResearchBL=void 0;const n=i(7360),s=i(425),r=i(7127),o=i(3868),a=i(194);class c extends r.BaseAdDataLoggerBL{getEventsAndCallbacksToRegister(){return{[n.DvEvents.exposureData]:this.handleViewabilityData.bind(this)}}isSupported(){return!0}handleViewabilityData(t){const e=t.adCandidate,i=t.relevantData,n=o.S.workingDocument(o.S.windowTop()||null);let r=!1;const{screenSize:c}=i,u=e.ShareOfScreenLastScreenSize||c,d=e.screenSizeChanged,{adSize:l}=i,h=e.shareOfScreenLastAdSize||l,{adSizeChanged:v}=e,p=s.W.getDevicePixelRatio(),{devicePixelRatioReported:f}=e,m=e.shareOfScreenLastDevicePixelRatio||p,{devicePixelRatioChanged:g}=e;if(2===a.it.getDetectedDeliveryType()&&(2==(2&o.S.getScenarioType())||1==(1&o.S.getScenarioType()))){const t=i.viewportSize;if(t&&t.width>0&&t.height>0){const{minVpHeight:i,minVpWidth:n,maxVpHeight:s,maxVpWidth:o}=this.getMinAndMaxViewport(e,t);this.isViewportChanged(e,i,n,s,o)&&(r=!0,e.minViewportHeight=i,e.minViewportWidth=n,e.maxViewportHeight=s,e.maxViewportWidth=o)}}if(!d&&this.validateScreenSize(c)&&(e.screenSizeChanged=u.height!==c.height||u.width!==c.width?1:void 0,e.ShareOfScreenLastScreenSize=c,e.screenSizeChanged&&(r=!0)),!v&&this.validateAdSize(l)&&(e.adSizeChanged=h.height!=l.height||h.width!=l.width?1:void 0,e.shareOfScreenLastAdSize=l,e.adSizeChanged&&(r=!0)),!g&&p&&(e.devicePixelRatioChanged=m!==p?1:void 0,e.shareOfScreenLastDevicePixelRatio=p,e.devicePixelRatioChanged&&(r=!0)),f||(r=!0,e.devicePixelRatioReported=!0),n&&!this.isMetaReported(e)){const t=s.W.getMetaTagAttributes(n,"viewport");for(const i of Object.keys(t)){const n=t[i];switch(i.trim()){case"width":e.viewPortMetaTagWidth=n;break;case"height":e.viewPortMetaTagHeight=n;break;case"initial-scale":e.viewPortMetaTagInitialScale=n;break;case"user-scalable":e.viewPortMetaTagScalable="yes"===n?1:0}}r=this.isMetaReported(e)}r&&this.report(e)}isViewportChanged(t,e,i,n,s){return t.minViewportHeight!=e||t.minViewportWidth!=i||t.maxViewportHeight!=n||t.maxViewportWidth!=s}getMinAndMaxViewport(t,e){return{minVpHeight:Math.min(t.minViewportHeight||e.height,e.height),minVpWidth:Math.min(t.minViewportWidth||e.width,e.width),maxVpHeight:Math.max(t.maxViewportHeight||e.height,e.height),maxVpWidth:Math.max(t.maxViewportWidth||e.width,e.width)}}isMetaReported(t){return!!(t.viewPortMetaTagWidth||t.viewPortMetaTagHeight||t.viewPortMetaTagInitialScale||t.viewPortMetaTagScalable)}validateScreenSize(t){return!(!(null==t?void 0:t.width)||!(null==t?void 0:t.height))}validateAdSize(t){return!(!(null==t?void 0:t.width)||!(null==t?void 0:t.height))}getTrafficPercentage(){return 100}getSupportedDetectedDeliveryType(){return[3,2,1]}getActionName(){return"ShareOfScreen"}}e.ShareOfScreenResearchBL=c},3719:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.BaseViewabilityBL=void 0;const n=i(7360),s=i(6751);class r extends s.BaseAdBL{getActionName(){return"BaseViewabilityBL"}getEventsAndCallbacksToRegister(){return{[n.DvEvents.impressionServed]:this.impressionServed.bind(this)}}impressionServed(){this.shouldRegisterToExposureEvents()&&n.u.addEventListener(n.DvEvents.exposureData,this.handleViewabilityData.bind(this))}handleViewabilityData(t){const e=t.adCandidate,i=t.relevantData;if(this.needToCheckViewability(e,i)){this.reportViewabilityMeasured(e,i);const t=this.isViewabilityConditionPassed(i);this.shouldReportViewability(t,i.intervalDuration,e,i)&&this.reportViewabilityPassed(e,i.updateTime)}}}e.BaseViewabilityBL=r},4771:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.BucketsDisplayViewabilityBL=void 0;const n=i(7749),s=i(7360),r=i(6751),o=i(3380);class a extends r.BaseAdBL{init(){}isSupported(){return 0==n.I.getTagType()}getEventsAndCallbacksToRegister(){return{[s.DvEvents.exposureData]:this.calculateCumulativeBuckets.bind(this)}}calculateCumulativeBuckets(t){const e=t.adCandidate,i=t.relevantData,n=i.intervalDuration,s=this.getBucketNumber(i.percentage,i.focus),r="b"+s;null!=s?(e[r]||(e[r]=0),e[r]+=n,e.viewabilityDisplayBucketsUnloadTime=i.updateTime):(e.napt||(e.napt=0),e.napt+=n)}getBucketNumber(t,e){return o.Utilities.isNullOrEmpty(t)?null:0!=t&&e?Math.floor(t/10)+1:0}}e.BucketsDisplayViewabilityBL=a},8877:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.BucketsVideoViewabilityBL=void 0;const n=i(7749),s=i(7360),r=i(9450),o=i(6751);class a extends o.BaseAdBL{init(){}isSupported(){return 1==n.I.getTagType()}getEventsAndCallbacksToRegister(){return{[s.DvEvents.exposureData]:this.calculateCumulativeBuckets.bind(this),[s.DvEvents.adVideoFirstQuartileData]:this.handleQuartileData.bind(this,1),[s.DvEvents.adVideoMidpointData]:this.handleQuartileData.bind(this,2),[s.DvEvents.adVideoThirdQuartileData]:this.handleQuartileData.bind(this,3),[s.DvEvents.adVideoCompleteData]:this.handleLastQuartileData.bind(this)}}handleLastQuartileData(t){const e=this.updateQuartileTimestamp(t);s.u.dispatchEvent(s.DvEvents.reportData,new r.AdCandidateEventData(e,{isImportantMessage:!1,noConsolidation:!0}))}handleQuartileData(t,e){const i=this.updateQuartileTimestamp(e);s.u.dispatchEvent(s.DvEvents.reportData,new r.AdCandidateEventData(i)),i.videoBucketsQuartileId=t+1}updateQuartileTimestamp(t){const e=t.relevantData,i=t.adCandidate;return i[`isq${i.videoBucketsQuartileId}ms`]=e.updateTime,i.markAdQuartile(4,i.videoBucketsQuartileId),i}calculateCumulativeBuckets(t){const e=t.adCandidate,i=t.relevantData;if(!i.adIsPlaying)return;const n=i.intervalDuration,s=this.getBucketNumber(i.percentage,i.focus);if(null!=s){const t="q"+e.videoBucketsQuartileId+"b"+s;e[t]=e[t]?e[t]+n:n,e.isVideoInViewBucketsMeasured=!0}else{const t="q"+e.videoBucketsQuartileId+"napt";e[t]=e[t]?e[t]+n:n}}getBucketNumber(t,e){return null==t?null:0!=t&&e?Math.floor(t/25)+1:0}}e.BucketsVideoViewabilityBL=a},2689:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ContinuousInViewBL=void 0;const n=i(6751),s=i(7749),r=i(7360);class o extends n.BaseAdBL{init(){}isSupported(){return!0}getEventsAndCallbacksToRegister(){return{[r.DvEvents.exposureData]:this.calculateContinuousInViewTime.bind(this)}}calculateContinuousInViewTime(t){const e=t.adCandidate,i=t.relevantData;if(1===s.I.getTagType()&&!i.adIsPlaying)return void(e.current50PctAdContinuousInViewTimeMs=0);if(e.max50PctAdContinuousInViewTimeMs>=6e3)return;const n=i.intervalDuration;e.current50PctAdContinuousInViewTimeMs||(e.current50PctAdContinuousInViewTimeMs=0),i.percentage>=50&&i.focus?e.current50PctAdContinuousInViewTimeMs+=n:e.current50PctAdContinuousInViewTimeMs=0,(!e.max50PctAdContinuousInViewTimeMs||e.current50PctAdContinuousInViewTimeMs>e.max50PctAdContinuousInViewTimeMs)&&(e.max50PctAdContinuousInViewTimeMs=e.current50PctAdContinuousInViewTimeMs)}}e.ContinuousInViewBL=o},7938:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.EndQuartileViewabilityBL=void 0;const n=i(7360),s=i(7749),r=i(9450),o=i(6751);class a extends o.BaseAdBL{init(){}isSupported(){return 1==s.I.getTagType()}getEventsAndCallbacksToRegister(){return{[n.DvEvents.exposureData]:this.handleViewabilityData.bind(this),[n.DvEvents.adVideoFirstQuartileData]:this.handleQuartileData.bind(this,1),[n.DvEvents.adVideoMidpointData]:this.handleQuartileData.bind(this,2),[n.DvEvents.adVideoThirdQuartileData]:this.handleQuartileData.bind(this,3),[n.DvEvents.adVideoCompleteData]:this.handleVideoCompleteData.bind(this)}}handleViewabilityData(t){const e=t.adCandidate,i=t.relevantData;i.adIsPlaying&&null!=i.percentage&&(e.endQuartileCurrentViewability=i.focus?i.percentage:0,e.endQuartileCurrentVolume=i.volume,i.adSize&&(e.adQuartileWidth=i.adSize.width))}handleQuartileData(t,e){const i=e.adCandidate;i["q"+t+"vpend"]=i.endQuartileCurrentViewability,i["q"+t+"ps"]=this.getPlayerSize(i.adQuartileWidth),n.u.dispatchEvent(n.DvEvents.reportData,new r.AdCandidateEventData(i))}getPlayerSize(t){let e=0;return t>0&&t<=300?e=1:t>300&&t<=399?e=2:t>399&&t<=639?e=3:t>639&&(e=4),e}handleVideoCompleteData(t){const e=t.relevantData,i=t.adCandidate;0!=i.endQuartileCurrentVolume&&(i.timeUntilAudibleOnCompleteMs=e.updateTime,i.endQuartileCurrentViewability>=50&&(i.timeMsUntilAdAudibleAndViewableOnCompletionMs=e.updateTime)),this.handleQuartileData(4,t)}}e.EndQuartileViewabilityBL=a},4892:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.FocusBucketsBL=void 0;const n=i(7360),s=i(7749),r=i(6751);class o extends r.BaseAdBL{init(){}isSupported(){return!0}getEventsAndCallbacksToRegister(){return{[n.DvEvents.exposureData]:this.handleViewabilityData.bind(this)}}handleViewabilityData(t){const e=t.adCandidate,i=t.relevantData;(1!=s.I.getTagType()||i.adIsPlaying)&&(i.focus?e.looseFocusTrueBucket=e.looseFocusTrueBucket?e.looseFocusTrueBucket+i.intervalDuration:i.intervalDuration:null!=i.focus&&(e.looseFocusFalseBucket=e.looseFocusFalseBucket?e.looseFocusFalseBucket+i.intervalDuration:i.intervalDuration),i.strictFocus?e.strictFocusTrueBucket=e.strictFocusTrueBucket?e.strictFocusTrueBucket+i.intervalDuration:i.intervalDuration:null!=i.strictFocus&&(e.strictFocusFalseBucket=e.strictFocusFalseBucket?e.strictFocusFalseBucket+i.intervalDuration:i.intervalDuration))}}e.FocusBucketsBL=o},7912:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.GroupMDisplayViewabilityBL=void 0;const n=i(7749),s=i(7360),r=i(3719),o=i(9450),a=i(3380),c=i(8379);class u extends r.BaseViewabilityBL{init(){}isSupported(){return 0==n.I.getTagType()}shouldRegisterToExposureEvents(){return!0}isViewabilityConditionPassed(t){return!(null==t.percentage||!t.focus)&&(!!a.Utilities.isLargeAd(t.adSize,c.ViewabilityConstants.GroupM.DisplayMinimalLargeAdArea)||t.percentage>=c.ViewabilityConstants.GroupM.MinimalAdAreaPercentageForStandardSize)}needToCheckViewability(t,e){return null==t.groupMTimeMsUntilAdViewed&&null!=e.percentage}shouldReportViewability(t,e,i,n){return t}reportViewabilityMeasured(t,e){t.groupMTimeMsUntilAdMeasured||(t.groupMTimeMsUntilAdMeasured=e.updateTime,t.groupMTimeMsUntilAdMeasuredRTS=e.updateTime,s.u.dispatchEvent(s.DvEvents.reportData,new o.AdCandidateEventData(t)))}reportViewabilityPassed(t,e){t.groupMTimeMsUntilAdMeasured++,t.groupMTimeMsUntilAdMeasuredRTS++,t.groupMTimeMsUntilAdViewed=e,t.groupMTimeMsUntilAdViewedRTS=e,t.groupMV3TimeMsUntilAdViewedRTS=e,s.u.dispatchEvent(s.DvEvents.reportData,new o.AdCandidateEventData(t))}}e.GroupMDisplayViewabilityBL=u},4691:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.GroupMV4MobileDisplayViewabilityBL=void 0;const n=i(7749),s=i(7360),r=i(194),o=i(3719),a=i(9450);class c extends o.BaseViewabilityBL{init(){this.minimalAdAreaPercentage=0,this.minimalAdAreaPercentageWhenAdAreaLowerThanViewport=98,this.minimalDuration=1e3}isSupported(){return 0==n.I.getTagType()}shouldRegisterToExposureEvents(){return r.it.isMobileWeb()}isViewabilityConditionPassed(t){return t.percentage>this.minimalAdAreaPercentage}needToCheckViewability(t,e){return null==t.groupMV4DisplayTimeMsUntilAdViewed&&null!=e.percentage}shouldReportViewability(t,e,i,n){return i.groupMV4DisplayViewedTime=t?i.groupMV4DisplayViewedTime+n.intervalDuration:0,i.groupMV4TimeCriteriaPassed||(i.groupMV4TimeCriteriaPassed=i.groupMV4DisplayViewedTime>=this.minimalDuration),i.isAllBoundariesPassed||(i.isAllBoundariesPassed=this.isAllBoundariesPassed(i,n)),i.groupMV4TimeCriteriaPassed&&i.isAllBoundariesPassed}reportViewabilityMeasured(t,e){t.groupMV4TimeMsUntilAdMeasured||this.isAdSizeLargerThanViewPortSize(e)&&!e.boundariesViewability||(t.groupMV4TimeMsUntilAdMeasured=e.updateTime,s.u.dispatchEvent(s.DvEvents.reportData,new a.AdCandidateEventData(t)))}reportViewabilityPassed(t,e){t.groupMV4TimeMsUntilAdMeasured++,t.groupMV4DisplayTimeMsUntilAdViewed=e,t.groupMV4DisplayTimeMsUntilAdViewedRTS=e,t.groupMV4TimeMsUntilAdViewedRTS=e,s.u.dispatchEvent(s.DvEvents.reportData,new a.AdCandidateEventData(t))}getArea(t){if((null==t?void 0:t.width)&&(null==t?void 0:t.height))return t.width*t.height}isAdSizeLargerThanViewPortSize(t){const e=this.getArea(t.adSize),i=this.getArea(t.viewportSize);return e&&i&&e>i}isAllBoundariesPassed(t,e){if(this.isAdSizeLargerThanViewPortSize(e)){if(e.boundariesViewability){const i=t.boundariesViewed;return i.topLeft||(i.topLeft=e.boundariesViewability.topLeft),i.topRight||(i.topRight=e.boundariesViewability.topRight),i.bottomLeft||(i.bottomLeft=e.boundariesViewability.bottomLeft),i.bottomRight||(i.bottomRight=e.boundariesViewability.bottomRight),i.topLeft&&i.topRight&&i.bottomLeft&&i.bottomRight}return!1}return e.percentage>this.minimalAdAreaPercentageWhenAdAreaLowerThanViewport}}e.GroupMV4MobileDisplayViewabilityBL=c},6825:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.GroupMV4NonMobileDisplayViewabilityBL=void 0;const n=i(7749),s=i(7360),r=i(194),o=i(3719),a=i(9450),c=i(3380),u=i(8379);class d extends o.BaseViewabilityBL{init(){}isSupported(){return 0==n.I.getTagType()}shouldRegisterToExposureEvents(){return!r.it.isMobileWeb()}isViewabilityConditionPassed(t){const e=c.Utilities.isLargeAd(t.adSize,u.ViewabilityConstants.GroupMV4.DisplayMinimalLargeAdArea);return!(null==t.percentage||!t.focus)&&(!!(e&&t.percentage>=u.ViewabilityConstants.GroupMV4.DisplayMinimalAdAreaPercentageForLargeSize)||!e&&t.percentage>=u.ViewabilityConstants.GroupMV4.MinimalAdAreaPercentageForStandardSize)}needToCheckViewability(t,e){return null==t.groupMV4DisplayTimeMsUntilAdViewed&&null!=e.percentage}shouldReportViewability(t,e,i,n){return i.groupMV4DisplayViewedTime=t?i.groupMV4DisplayViewedTime+n.intervalDuration:0,i.groupMV4DisplayViewedTime>=u.ViewabilityConstants.GroupMV4.DisplayMinimalDuration}reportViewabilityMeasured(t,e){t.groupMV4TimeMsUntilAdMeasured||(t.groupMV4TimeMsUntilAdMeasured=e.updateTime,s.u.dispatchEvent(s.DvEvents.reportData,new a.AdCandidateEventData(t)))}reportViewabilityPassed(t,e){t.groupMV4TimeMsUntilAdMeasured++,t.groupMV4DisplayTimeMsUntilAdViewed=e,t.groupMV4DisplayTimeMsUntilAdViewedRTS=e,t.groupMV4TimeMsUntilAdViewedRTS=e,s.u.dispatchEvent(s.DvEvents.reportData,new a.AdCandidateEventData(t))}}e.GroupMV4NonMobileDisplayViewabilityBL=d},7827:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.GroupMV4VideoNativeViewabilityBL=void 0;const n=i(7360),s=i(7749),r=i(194),o=i(3719),a=i(9450),c=i(3380),u=i(8379),d=i(6142);class l extends o.BaseViewabilityBL{init(){}isSupported(){return 1==s.I.getTagType()}shouldRegisterToExposureEvents(){return!0}isViewabilityConditionPassed(t){const e=!r.it.isMobileApp()&&!r.it.isMobileWeb()&&c.Utilities.isLargeAd(t.adSize,u.ViewabilityConstants.GroupMV4.VideoMinimalLargeAdArea);return!(!t.percentage||!t.focus)&&(!!(e&&t.percentage>=u.ViewabilityConstants.GroupMV4.VideoMinimalAdAreaPercentageForLargeSize)||!e&&t.percentage>=u.ViewabilityConstants.GroupMV4.MinimalAdAreaPercentageForStandardSize)}needToCheckViewability(t,e){return null==t.groupMV4VideoNativeTimeMsUntilAdViewed&&null!=e.percentage&&e.adIsPlaying}shouldReportViewability(t,e,i,n){i.groupMV4VideoNativeViewedTime=t?i.groupMV4VideoNativeViewedTime+n.intervalDuration:i.groupMV4VideoNativeViewedTime;const s=i.videoLength?Math.min(u.ViewabilityConstants.GroupMV4.VideoMinimalDuration,i.videoLength*(u.ViewabilityConstants.GroupMV4.VideoMinimalDurationPercentage/100)):u.ViewabilityConstants.GroupMV4.VideoMinimalDuration;return i.groupMV4VideoNativeViewedTime>=s}reportViewabilityMeasured(t,e){null==t.groupMV4TimeMsUntilAdMeasured&&(t.groupMV4TimeMsUntilAdMeasured=e.updateTime,n.u.dispatchEvent(n.DvEvents.reportData,new a.AdCandidateEventData(t)))}reportViewabilityPassed(t,e){t.groupMV4TimeMsUntilAdMeasured++,t.groupMV4VideoNativeTimeMsUntilAdViewed=e,t.groupMV4VideoNativeTimeMsUntilAdViewedRTS=e,d.ServerContext.isGroupMV4VideoNativeImpression()&&(t.groupMV4TimeMsUntilAdViewedRTS=e),n.u.dispatchEvent(n.DvEvents.reportData,new a.AdCandidateEventData(t))}}e.GroupMV4VideoNativeViewabilityBL=l},9045:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.GroupMV4VideoReachExtensionViewabilityBL=void 0;const n=i(7360),s=i(7749),r=i(194),o=i(3719),a=i(9450),c=i(3380),u=i(8379),d=i(6142);class l extends o.BaseViewabilityBL{init(){}isSupported(){return 1==s.I.getTagType()}shouldRegisterToExposureEvents(){return!0}isViewabilityConditionPassed(t){const e=!r.it.isMobileApp()&&!r.it.isMobileWeb()&&c.Utilities.isLargeAd(t.adSize,u.ViewabilityConstants.GroupMV4.VideoMinimalLargeAdArea);return!(!t.percentage||!t.focus)&&(0!=t.volume&&(!!(e&&t.percentage>=u.ViewabilityConstants.GroupMV4.VideoMinimalAdAreaPercentageForLargeSize)||!e&&t.percentage>=u.ViewabilityConstants.GroupMV4.MinimalAdAreaPercentageForStandardSize))}needToCheckViewability(t,e){return null==t.groupMV4VideoReachExtensionTimeMsUntilAdViewed&&null!=e.percentage&&e.adIsPlaying}shouldReportViewability(t,e,i,n){i.groupMV4VideoReachExtensionViewedTime=t?i.groupMV4VideoReachExtensionViewedTime+n.intervalDuration:i.groupMV4VideoReachExtensionViewedTime;const s=i.videoLength?Math.min(u.ViewabilityConstants.GroupMV4.VideoMinimalDuration,i.videoLength*(u.ViewabilityConstants.GroupMV4.VideoMinimalDurationPercentage/100)):u.ViewabilityConstants.GroupMV4.VideoMinimalDuration;return i.groupMV4VideoReachExtensionViewedTime>=s}reportViewabilityMeasured(t,e){null==t.groupMV4TimeMsUntilAdMeasured&&(t.groupMV4TimeMsUntilAdMeasured=e.updateTime,n.u.dispatchEvent(n.DvEvents.reportData,new a.AdCandidateEventData(t)))}reportViewabilityPassed(t,e){t.groupMV4TimeMsUntilAdMeasured++,t.groupMV4VideoReachExtensionTimeMsUntilAdViewed=e,t.groupMV4VideoReachExtensionTimeMsUntilAdViewedRTS=e,d.ServerContext.isGroupMV4VideoNativeImpression()||(t.groupMV4TimeMsUntilAdViewedRTS=e),n.u.dispatchEvent(n.DvEvents.reportData,new a.AdCandidateEventData(t))}}e.GroupMV4VideoReachExtensionViewabilityBL=l},7175:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.GroupMVideoViewabilityBL=void 0;const n=i(7360),s=i(7749),r=i(3719),o=i(9450),a=i(8379),c=i(3380);class u extends r.BaseViewabilityBL{init(){}isSupported(){return 1==s.I.getTagType()}shouldRegisterToExposureEvents(){return!0}isViewabilityConditionPassed(t){const e=c.Utilities.isLargeAd(t.adSize,a.ViewabilityConstants.GroupM.VideoMinimalLargeAdArea);return!(!t.percentage||!t.focus)&&(0!=t.volume&&(!!(e&&t.percentage>=a.ViewabilityConstants.GroupM.VideoMinimalAdAreaPercentageForLargeSize)||!e&&t.percentage>=a.ViewabilityConstants.GroupM.MinimalAdAreaPercentageForStandardSize))}needToCheckViewability(t,e){return null==t.groupMTimeMsUntilAdViewed&&null!=e.percentage&&e.adIsPlaying}shouldReportViewability(t,e,i,n){i.groupMViewedTime=t?i.groupMViewedTime+n.intervalDuration:i.groupMViewedTime;const s=i.videoLength?Math.min(a.ViewabilityConstants.GroupM.VideoMinimalDuration,i.videoLength*(a.ViewabilityConstants.GroupM.VideoMinimalDurationPercentage/100)):a.ViewabilityConstants.GroupM.VideoMinimalDuration;return i.groupMViewedTime>=s}reportViewabilityMeasured(t,e){t.groupMTimeMsUntilAdMeasured||(t.groupMTimeMsUntilAdMeasured=e.updateTime,t.groupMTimeMsUntilAdMeasuredRTS=e.updateTime,n.u.dispatchEvent(n.DvEvents.reportData,new o.AdCandidateEventData(t)))}reportViewabilityPassed(t,e){t.groupMTimeMsUntilAdMeasured++,t.groupMTimeMsUntilAdMeasuredRTS++,t.groupMTimeMsUntilAdViewed=e,t.groupMTimeMsUntilAdViewedRTS=e,t.groupMV3TimeMsUntilAdViewedRTS=e,n.u.dispatchEvent(n.DvEvents.reportData,new o.AdCandidateEventData(t))}}e.GroupMVideoViewabilityBL=u},8029:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.IabDisplayViewabilityBL=void 0;const n=i(7360),s=i(7749),r=i(3719),o=i(8379),a=i(3380),c=i(425),u=i(9450),d=i(194);class l extends r.BaseViewabilityBL{init(){}shouldRegisterToExposureEvents(){return!0}isSupported(){return 0==s.I.getTagType()}needToCheckViewability(t,e){return null==t.timeMsUntilAdViewed&&null!=a.Utilities.getIabVisiblePercentage(e)}isViewabilityConditionPassed(t){const e=a.Utilities.isLargeAd(t.adSize,o.ViewabilityConstants.IAB.DisplayMinimalLargeAdArea,d.it.isMobile()),i=a.Utilities.isIabPageInFocus(t),n=a.Utilities.getIabVisiblePercentage(t);return!(!n||!i)&&(!!(e&&n>=o.ViewabilityConstants.IAB.DisplayMinimalAdAreaPercentageForLargeSize)||!e&&n>=o.ViewabilityConstants.IAB.MinimalAdAreaPercentageForStandardSize)}shouldReportViewability(t,e,i){return i.iabViewedTime=t?i.iabViewedTime+e:0,i.iabViewedTime>=o.ViewabilityConstants.IAB.DisplayMinimalDuration}reportViewabilityMeasured(t,e){if(t.timeMsUntilAdMeasured)return;e.viewportSize&&(a.Utilities.isNumeric(e.viewportSize.height)&&(t.viewportHeight=Math.ceil(e.viewportSize.height)),a.Utilities.isNumeric(e.viewportSize.width)&&(t.viewportWidth=Math.ceil(e.viewportSize.width)));const i=c.W.getScreenSize();(null==i?void 0:i.width)&&(null==i?void 0:i.height)&&(t.screenHeight=Math.ceil(i.height),t.screenWidth=Math.ceil(i.width)),t.timeMsUntilAdMeasured=e.updateTime,t.unadjustedTimeMsUntilAdMeasured=e.updateTime,n.u.dispatchEvent(n.DvEvents.reportData,new u.AdCandidateEventData(t))}reportViewabilityPassed(t,e){t.timeMsUntilAdViewed=e,t.unadjustedTimeMsUntilAdViewed=e,t.timeMsUntilAdMeasured++,n.u.dispatchEvent(n.DvEvents.reportData,new u.AdCandidateEventData(t))}}e.IabDisplayViewabilityBL=l},5157:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.IabDisplayViewabilityForXSecondsBL=void 0;const n=i(7360),s=i(7749),r=i(194),o=i(3719),a=i(9450),c=i(3380),u=i(8379);class d extends o.BaseViewabilityBL{init(){}shouldRegisterToExposureEvents(){return!0}isSupported(){return 0==s.I.getTagType()}needToCheckViewability(t,e){return t.iabViewablitiyTimeToCheck.length>0&&null!=this.getPercentage(e)}isViewabilityConditionPassed(t){const e=c.Utilities.isLargeAd(t.adSize,u.ViewabilityConstants.IAB.DisplayMinimalLargeAdArea,r.it.isMobile()),i=c.Utilities.isIabPageInFocus(t);return!(!this.getPercentage(t)||!i)&&(!!(e&&this.getPercentage(t)>=u.ViewabilityConstants.IAB.DisplayMinimalAdAreaPercentageForLargeSize)||!e&&this.getPercentage(t)>=u.ViewabilityConstants.IAB.MinimalAdAreaPercentageForStandardSize)}shouldReportViewability(t,e,i){return i.IABAdViewableForXSecondsViewedTime=t?i.IABAdViewableForXSecondsViewedTime+e:0,i.IABAdViewableForXSecondsViewedTime>=i.IABAdViewableForXSecondsdurationRequirement}reportViewabilityMeasured(){}reportViewabilityPassed(t,e){const i=t.iabViewablitiyTimeToCheck.shift();t["iabv"+i]=e,n.u.dispatchEvent(n.DvEvents.reportData,new a.AdCandidateEventData(t,{reportType:0})),t.iabViewablitiyTimeToCheck.length>0&&(t.IABAdViewableForXSecondsdurationRequirement=1e3*t.iabViewablitiyTimeToCheck[0])}getPercentage(t){return c.Utilities.getIabVisiblePercentage(t)}}e.IabDisplayViewabilityForXSecondsBL=d},8123:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.IabNotViewReasonsViewabilityBL=void 0;const n=i(7360),s=i(6751),r=i(7749),o=i(8379),a=i(3380),c=i(194);class u extends s.BaseAdBL{getActionName(){return"IabNotViewReasonsViewabilityBL"}init(){this.isVideoTag=1==r.I.getTagType(),this.viewTimeThreshold=this.isVideoTag?o.ViewabilityConstants.IAB.VideoMinimalDuration:o.ViewabilityConstants.IAB.DisplayMinimalDuration}isSupported(){return!0}getEventsAndCallbacksToRegister(){return{[n.DvEvents.impressionServed]:this.start.bind(this)}}start(){n.u.addEventsListener({[n.DvEvents.exposureData]:this.handleViewabilityData.bind(this)})}handleViewabilityData(t){const e=t.adCandidate,i=t.relevantData,n=a.Utilities.getIabVisiblePercentage(i),s=a.Utilities.isIabPageInFocus(i);if(!e.notViewableReasonWasViewed&&null!=n){if(!this.isVideoTag||this.isVideoTag&&i.adIsPlaying)if(e.notViewableReasonVideoPlayed=!0,s)if(e.notViewableReasonWasInFocus=!0,n>0){e.notViewableReasonWasInViewPort=!0;n>=(!this.isVideoTag&&a.Utilities.isLargeAd(i.adSize,o.ViewabilityConstants.IAB.DisplayMinimalLargeAdArea,c.it.isMobile())?o.ViewabilityConstants.IAB.DisplayMinimalAdAreaPercentageForLargeSize:o.ViewabilityConstants.IAB.MinimalAdAreaPercentageForStandardSize)?(e.notViewableReasonCumulativeViewTime+=i.intervalDuration,e.notViewableReasonConsecutiveViewTime+=i.intervalDuration,e.notViewableReasonConsecutiveViewTime>=this.viewTimeThreshold&&(e.notViewableReasonWasViewed=!0)):e.notViewableReasonConsecutiveViewTime=0}else e.notViewableReasonConsecutiveViewTime=0;else e.notViewableReasonConsecutiveViewTime=0;e.notViewableReason=this.getNotViewReason(e)||e.notViewableReason}}getNotViewReason(t){return this.isVideoTag&&!t.notViewableReasonVideoPlayed?7:t.notViewableReasonWasViewed?6:t.notViewableReasonWasInFocus?t.notViewableReasonWasInViewPort?0==t.notViewableReasonCumulativeViewTime?3:t.notViewableReasonCumulativeViewTime<this.viewTimeThreshold?4:t.notViewableReasonConsecutiveViewTime<this.viewTimeThreshold?5:void 0:2:1}}e.IabNotViewReasonsViewabilityBL=u},5993:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.IabVideoQuartileViewabilityBL=void 0;const n=i(7360),s=i(7749),r=i(9450),o=i(6751);class a extends o.BaseAdBL{init(){this.iabMinimalDuration=2e3,this.iabMinimalAdAreaPercentageForStandardSize=50}isSupported(){return 1==s.I.getTagType()}getEventsAndCallbacksToRegister(){return{[n.DvEvents.exposureData]:this.handleViewabilityData.bind(this),[n.DvEvents.adVideoFirstQuartileData]:this.handleQuartileData.bind(this,1),[n.DvEvents.adVideoMidpointData]:this.handleQuartileData.bind(this,2),[n.DvEvents.adVideoThirdQuartileData]:this.handleQuartileData.bind(this,3),[n.DvEvents.adVideoCompleteData]:this.handleQuartileData.bind(this,4)}}handleViewabilityData(t){const e=t.adCandidate,i=t.relevantData;i.adIsPlaying&&(e["q"+e.iabVideoQuartileId+"iabvms"]||this.tryReportViewed(e,i))}handleQuartileData(t,e){const i=e.adCandidate;i.iabVideoQuartileViewed=0,i.iabVideoQuartileId=t+1}tryReportViewed(t,e){this.IsIabCriteriaPassed(e)?(t.iabVideoQuartileViewed+=e.intervalDuration,t.iabVideoQuartileViewed>=this.iabMinimalDuration&&this.reportViewedImpression(t,e.updateTime)):t.iabVideoQuartileViewed=0}IsIabCriteriaPassed(t){return!(!t.percentage||!t.focus)&&t.percentage>=this.iabMinimalAdAreaPercentageForStandardSize}reportViewedImpression(t,e){t["q"+t.iabVideoQuartileId+"iabvms"]=e,t.markAdQuartile(1,t.iabVideoQuartileId),n.u.dispatchEvent(n.DvEvents.reportData,new r.AdCandidateEventData(t))}}e.IabVideoQuartileViewabilityBL=a},6811:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.IabVideoViewabilityAdVideoPlayedBL=void 0;const n=i(7360),s=i(7749),r=i(3719),o=i(9450),a=i(8379),c=i(3380);class u extends r.BaseViewabilityBL{init(){this.iabMinimalDuration=a.ViewabilityConstants.IAB.VideoMinimalDuration,this.iabMinimalAdAreaPercentageForStandardSize=a.ViewabilityConstants.IAB.MinimalAdAreaPercentageForStandardSize}isSupported(){return 1==s.I.getTagType()}shouldRegisterToExposureEvents(){return!0}needToCheckViewability(t,e){return null==t.timeMsUntilAdViewedVideoAdPlayed&&null!=this.getPercentage(e)&&null!=t.timeMsUntilVideoPlayed}isViewabilityConditionPassed(t){const e=c.Utilities.isIabPageInFocus(t);return!(!this.getPercentage(t)||!e)&&this.getPercentage(t)>=this.iabMinimalAdAreaPercentageForStandardSize}shouldReportViewability(t,e,i,n){return!!n.adIsPlaying&&(i.iabViewedTimeVideoAdPlayed=t?i.iabViewedTimeVideoAdPlayed+e:0,i.iabViewedTimeVideoAdPlayed>=this.iabMinimalDuration)}reportViewabilityMeasured(t,e){t.timeMsUntilAdMeasuredVideoAdPlayed||(t.timeMsUntilAdMeasuredVideoAdPlayed=e.updateTime,t.unadjustedTimeMsUntilAdMeasuredVideoAdPlayed=e.updateTime,n.u.dispatchEvent(n.DvEvents.reportData,new o.AdCandidateEventData(t)))}reportViewabilityPassed(t,e){t.timeMsUntilAdViewedVideoAdPlayed=e,t.unadjustedTimeMsUntilAdViewedVideoAdPlayed=e,t.timeMsUntilAdMeasuredVideoAdPlayed++,n.u.dispatchEvent(n.DvEvents.reportData,new o.AdCandidateEventData(t))}getPercentage(t){return c.Utilities.getIabVisiblePercentage(t)}}e.IabVideoViewabilityAdVideoPlayedBL=u},5152:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.IabVideoViewabilityBL=void 0;const n=i(7360),s=i(7749),r=i(3719),o=i(425),a=i(9450),c=i(8379),u=i(3380);class d extends r.BaseViewabilityBL{init(){this.iabMinimalDuration=c.ViewabilityConstants.IAB.VideoMinimalDuration,this.iabMinimalAdAreaPercentageForStandardSize=c.ViewabilityConstants.IAB.MinimalAdAreaPercentageForStandardSize}isSupported(){return 1==s.I.getTagType()}shouldRegisterToExposureEvents(){return!0}needToCheckViewability(t,e){return null==t.timeMsUntilAdViewed&&null!=this.getPercentage(e)&&e.adIsPlaying}isViewabilityConditionPassed(t){const e=u.Utilities.isIabPageInFocus(t);return!(!this.getPercentage(t)||!e)&&this.getPercentage(t)>=this.iabMinimalAdAreaPercentageForStandardSize}shouldReportViewability(t,e,i){return i.iabViewedTime=t?i.iabViewedTime+e:0,i.iabViewedTime>=this.iabMinimalDuration}reportViewabilityMeasured(t,e){if(t.timeMsUntilAdMeasured)return;e.viewportSize&&(u.Utilities.isNumeric(e.viewportSize.height)&&(t.viewportHeight=Math.ceil(e.viewportSize.height)),u.Utilities.isNumeric(e.viewportSize.width)&&(t.viewportWidth=Math.ceil(e.viewportSize.width)));const i=o.W.getScreenSize();(null==i?void 0:i.width)&&(null==i?void 0:i.height)&&(t.screenHeight=Math.ceil(i.height),t.screenWidth=Math.ceil(i.width)),t.timeMsUntilAdMeasured=e.updateTime,t.unadjustedTimeMsUntilAdMeasured=e.updateTime,n.u.dispatchEvent(n.DvEvents.reportData,new a.AdCandidateEventData(t))}reportViewabilityPassed(t,e){t.timeMsUntilAdViewed=e,t.unadjustedTimeMsUntilAdViewed=e,t.timeMsUntilAdMeasured++,n.u.dispatchEvent(n.DvEvents.reportData,new a.AdCandidateEventData(t))}getPercentage(t){return u.Utilities.getIabVisiblePercentage(t)}}e.IabVideoViewabilityBL=d},1061:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.IabVideoViewabilityForXSecondsBL=void 0;const n=i(7360),s=i(7749),r=i(3719),o=i(9450),a=i(3380);class c extends r.BaseViewabilityBL{init(){this.iabMinimalDuration=2e3,this.iabMinimalAdAreaPercentageForStandardSize=50}shouldRegisterToExposureEvents(){return!0}isSupported(){return 1==s.I.getTagType()}needToCheckViewability(t,e){return t.iabViewablitiyTimeToCheck.length>0&&null!=this.getPercentage(e)&&e.adIsPlaying}isViewabilityConditionPassed(t){const e=a.Utilities.isIabPageInFocus(t);return!(!this.getPercentage(t)||!e)&&this.getPercentage(t)>=this.iabMinimalAdAreaPercentageForStandardSize}shouldReportViewability(t,e,i){return i.IABAdViewableForXSecondsViewedTime=t?i.IABAdViewableForXSecondsViewedTime+e:0,i.IABAdViewableForXSecondsViewedTime>=i.IABAdViewableForXSecondsdurationRequirement}reportViewabilityMeasured(){}reportViewabilityPassed(t,e){const i=t.iabViewablitiyTimeToCheck.shift();t["iabv"+i]=e,n.u.dispatchEvent(n.DvEvents.reportData,new o.AdCandidateEventData(t,{reportType:0})),t.iabViewablitiyTimeToCheck.length>0&&(t.IABAdViewableForXSecondsdurationRequirement=1e3*t.iabViewablitiyTimeToCheck[0])}getPercentage(t){return a.Utilities.getIabVisiblePercentage(t)}}e.IabVideoViewabilityForXSecondsBL=c},2310:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.InViewShareOfScreenBL=void 0;const n=i(9450),s=i(6751),r=i(7360),o=i(3380),a=i(194),c=i(7749),u=i(3868),d=i(425);class l extends s.BaseAdBL{constructor(){super(...arguments),this.MIN_VAL=0,this.MAX_VAL=100,this.MAX_EVENTS=4,this.MIN_PERCENTAGE_CHANGE=10}init(){}isSupported(){return!0}getEventsAndCallbacksToRegister(){return{[r.DvEvents.impressionServed]:this.handleImpressionServed.bind(this)}}handleImpressionServed(){r.u.addEventsListener({[r.DvEvents.exposureData]:this.handleInViewData.bind(this),[r.DvEvents.adVideoCompleteData]:this.handleVideoCompleteOrUnload.bind(this),[r.DvEvents.unloadData]:this.handleVideoCompleteOrUnload.bind(this)})}updateInViewShareOfScreenData(t,e,i){const n=void 0===t.avgInViewShareOfScreen&&e>0;t.avgInViewShareOfScreen=e,u.S.isIOS()&&this.isApplicableForInstantIosReport(t,i)?(t.inViewShareOfScreenLastIosReportedPercentage=i,this.report(t)):n&&this.report(t)}determineIsInViewMeasured(t,e){const i=(null==t?void 0:t.height)&&(null==t?void 0:t.width);if((null==e?void 0:e.height)&&(null==e?void 0:e.width)&&i)return 1}handleInViewData(t){const{inViewShareOfScreenData:e,screenSize:i,visiblePercentage:n,adSize:s,adIsPlaying:r,isInFocus:a}=this.prepareValues(t);if(void 0===e.inViewShareOfScreenMeasured&&(e.inViewShareOfScreenMeasured=this.determineIsInViewMeasured(i,s)),!this.isInViewConditionPassed(s,i,r,a,n))return;const c=s.height*s.width*n/(i.width*i.height);e.sumInViewShareOfScreen+=c,e.inViewIntervalCount=e.inViewIntervalCount+1;const u=o.Utilities.getValBetweenMinAndMax(Math.round(e.sumInViewShareOfScreen/e.inViewIntervalCount),this.MIN_VAL,this.MAX_VAL);this.updateInViewShareOfScreenData(e,u,n)}prepareValues(t){const e=t.relevantData,i=t.adCandidate;i.sumInViewShareOfScreen||(i.sumInViewShareOfScreen=0),i.inViewIntervalCount||(i.inViewIntervalCount=0);const{screenSize:n,visiblePercentage:s,adSize:r,adIsPlaying:o,isInFocus:a}=this.collectCurrentShareOfScreenData(e,i);return{inViewShareOfScreenData:i,screenSize:n,visiblePercentage:s,adSize:r,adIsPlaying:o,isInFocus:a}}report(t){r.u.dispatchEvent(r.DvEvents.reportData,new n.AdCandidateEventData(t))}calculateMaxEventsNumber(t){return void 0===t?this.MAX_EVENTS:t}isApplicableForInstantIosReport(t,e){t.inViewShareOfScreenEventsLeftToReport=this.calculateMaxEventsNumber(t.inViewShareOfScreenEventsLeftToReport);const i=!t.inViewShareOfScreenLastIosReportedPercentage||t.inViewShareOfScreenEventsLeftToReport>0&&t.inViewShareOfScreenLastIosReportedPercentage!=e&&t.inViewShareOfScreenLastIosReportedPercentage+this.MIN_PERCENTAGE_CHANGE<=100&&Math.abs(t.inViewShareOfScreenLastIosReportedPercentage-e)>=this.MIN_PERCENTAGE_CHANGE;return i&&(t.inViewShareOfScreenEventsLeftToReport=0===t.inViewShareOfScreenEventsLeftToReport?0:t.inViewShareOfScreenEventsLeftToReport-1),i}collectCurrentShareOfScreenData(t,e){const i=o.Utilities.isIabPageInFocus(t),n=this.getComparableScreenSize(t,e),s=t.percentage,{adSize:r}=t;return{screenSize:n,visiblePercentage:s,adSize:r,adIsPlaying:1!=c.I.getTagType()||t.adIsPlaying,isInFocus:i}}getComparableScreenSize(t,e){e.inViewShareOfScreenReadFromViewport||(e.inViewShareOfScreenReadFromViewport=this.isApplicableForViewportMeasurement()&&this.reportReadFromViewport(e));let{screenSize:i}=t;if(e.inViewShareOfScreenReadFromViewport&&i&&i.width>0&&i.height){const e=d.W.getInnerViewport();e.width>0&&e.height>0&&(i={width:e.width,height:t.screenSize.height*(e.width/t.screenSize.width)})}return i}isApplicableForViewportMeasurement(){if(2===a.it.getDetectedDeliveryType()&&(2==(2&u.S.getScenarioType())||1==(1&u.S.getScenarioType()))){const t=d.W.getMetaTagAttributes(u.S.workingDocument(u.S.windowTop()),"viewport");return!this.isWebPageResponsive(t)}return!1}isWebPageResponsive(t){const e=t.width,i=t["initial-scale"];return!o.Utilities.isEmptyObject(t)&&(1===Number(i)||"device-width"===e)}reportReadFromViewport(t){return t.inViewShareOfScreenReadFromViewportReport=1,!0}handleVideoCompleteOrUnload(t){const e=t.adCandidate;this.report(e)}isInViewConditionPassed(t,e,i,n,s){return i&&n&&this.validateScreenAndAdSize(t,e)&&s>0}validateScreenAndAdSize(t,e){const i=(null==t?void 0:t.width)&&(null==t?void 0:t.height),n=(null==e?void 0:e.width)&&(null==e?void 0:e.height);return i&&n}getActionName(){return"InViewShareOfScreenBL"}}e.InViewShareOfScreenBL=l},8642:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.PMXDisplayViewabilityBL=void 0;const n=i(7749),s=i(7360),r=i(3719),o=i(9450),a=i(3380),c=i(8379);class u extends r.BaseViewabilityBL{init(){}isSupported(){return 0==n.I.getTagType()}shouldRegisterToExposureEvents(){return!0}isViewabilityConditionPassed(t){const e=a.Utilities.isLargeAd(t.adSize,c.ViewabilityConstants.PMX.DisplayMinimalLargeAdArea);return!(!t.percentage||!t.focus)&&(!!(e&&t.percentage>=c.ViewabilityConstants.PMX.DisplayMinimalAdAreaPercentageForLargeSize)||!e&&t.percentage>=c.ViewabilityConstants.PMX.MinimalAdAreaPercentageForStandardSize)}needToCheckViewability(t,e){return null==t.pmxTimeMsUntilAdViewed&&null!=e.percentage}shouldReportViewability(t,e,i,n){return i.pmxViewedTime=t?i.pmxViewedTime+e:0,i.pmxViewedTime>=c.ViewabilityConstants.PMX.DisplayMinimalDuration}reportViewabilityMeasured(t,e){t.pmxTimeMsUntilAdMeasured||(t.pmxTimeMsUntilAdMeasured=e.updateTime)}reportViewabilityPassed(t,e){t.pmxTimeMsUntilAdViewed=e,s.u.dispatchEvent(s.DvEvents.reportData,new o.AdCandidateEventData(t))}}e.PMXDisplayViewabilityBL=u},2181:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.PMXVideoViewabilityBL=void 0;const n=i(7360),s=i(7749),r=i(3719),o=i(9450),a=i(3380),c=i(8379);class u extends r.BaseViewabilityBL{init(){}isSupported(){return 1==s.I.getTagType()}shouldRegisterToExposureEvents(){return!0}isViewabilityConditionPassed(t){const e=a.Utilities.isLargeAd(t.adSize,c.ViewabilityConstants.PMX.VideoMinimalLargeAdArea);return!(!t.percentage||!t.focus)&&(!!(e&&t.percentage>=c.ViewabilityConstants.PMX.VideoMinimalAdAreaPercentageForLargeSize)||!e&&t.percentage>=c.ViewabilityConstants.PMX.MinimalAdAreaPercentageForStandardSize)}needToCheckViewability(t,e){return null==t.pmxTimeMsUntilAdViewed&&null!=e.percentage&&e.adIsPlaying}shouldReportViewability(t,e,i,n){return i.pmxViewedTime=t?i.pmxViewedTime+e:0,i.pmxViewedTime>=c.ViewabilityConstants.PMX.VideoMinimalDuration}reportViewabilityMeasured(t,e){t.pmxTimeMsUntilAdMeasured||(t.pmxTimeMsUntilAdMeasured=e.updateTime)}reportViewabilityPassed(t,e){t.pmxTimeMsUntilAdViewed=e,n.u.dispatchEvent(n.DvEvents.reportData,new o.AdCandidateEventData(t))}}e.PMXVideoViewabilityBL=u},458:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.RbViewabilityBL=void 0;const n=i(7360),s=i(9450),r=i(7749),o=i(194),a=i(6751),c=i(8379);class u extends a.BaseAdBL{getActionName(){return"RbViewabilityBL"}init(){}isSupported(){return!0}getEventsAndCallbacksToRegister(){return{[n.DvEvents.impressionServed]:this.impressionServed.bind(this)}}impressionServed(){o.it.getAllowRBViewability()&&n.u.addEventListener(n.DvEvents.exposureData,this.handleViewabilityData.bind(this))}handleViewabilityData(t){const e=t.adCandidate,i=t.relevantData;(1!=r.I.getTagType()||i.adIsPlaying)&&(e.rBV1PassedMs||this.tryReportViewed(e,i))}tryReportViewed(t,e){e.percentage&&e.focus&&e.percentage>=c.ViewabilityConstants.RB.MinimalAdAreaPercentageForStandardSize&&this.reportViewedImpression(t,e.updateTime)}reportViewedImpression(t,e){t.rBV1PassedMs=e,n.u.dispatchEvent(n.DvEvents.reportData,new s.AdCandidateEventData(t))}}e.RbViewabilityBL=u},8690:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.SecondaryBaseViewabilityBL=void 0;const n=i(7360),s=i(6751);class r extends s.BaseAdBL{getActionName(){return"SecondaryBaseViewabilityBL"}getEventsAndCallbacksToRegister(){return{[n.DvEvents.impressionServed]:this.impressionServed.bind(this)}}impressionServed(){this.shouldRegisterToExposureEvents()&&n.u.addEventListener(n.DvEvents.secondaryExposureData,this.handleViewabilityData.bind(this))}handleViewabilityData(t){const e=t.adCandidate,i=t.relevantData;if(this.needToCheckViewability(e,i)){this.reportViewabilityMeasured(e,i);const t=this.isViewabilityConditionPassed(i);this.shouldReportViewability(t,i.intervalDuration,e,i)&&this.reportViewabilityPassed(e,i.updateTime)}}}e.SecondaryBaseViewabilityBL=r},2397:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.SecondaryIabDisplayViewabilityBL=void 0;const n=i(7749),s=i(8379),r=i(3380),o=i(194),a=i(8690),c=i(9450),u=i(7360);class d extends a.SecondaryBaseViewabilityBL{init(){}shouldRegisterToExposureEvents(){return!0}isSupported(){return 0==n.I.getTagType()}needToCheckViewability(t,e){return null==t.timeMsUntilAdViewedSecondary&&null!=r.Utilities.getIabVisiblePercentage(e)}isViewabilityConditionPassed(t){const e=r.Utilities.isLargeAd(t.adSize,s.ViewabilityConstants.IAB.DisplayMinimalLargeAdArea,o.it.isMobile()),i=r.Utilities.isIabPageInFocus(t),n=r.Utilities.getIabVisiblePercentage(t);return!(!n||!i)&&(!!(e&&n>=s.ViewabilityConstants.IAB.DisplayMinimalAdAreaPercentageForLargeSize)||!e&&n>=s.ViewabilityConstants.IAB.MinimalAdAreaPercentageForStandardSize)}shouldReportViewability(t,e,i){return i.iabViewedTimeSecondary=t?i.iabViewedTimeSecondary+e:0,i.iabViewedTimeSecondary>=s.ViewabilityConstants.IAB.DisplayMinimalDuration}reportViewabilityMeasured(t,e){t.timeMsUntilAdMeasuredSecondary||(t.timeMsUntilAdMeasuredSecondary=e.updateTime,t.unadjustedTimeMsUntilAdMeasuredSecondary=e.updateTime,u.u.dispatchEvent(u.DvEvents.reportData,new c.AdCandidateEventData(t)))}reportViewabilityPassed(t,e){t.timeMsUntilAdViewedSecondary=e,t.unadjustedTimeMsUntilAdViewedSecondary=e,t.timeMsUntilAdMeasuredSecondary++,u.u.dispatchEvent(u.DvEvents.reportData,new c.AdCandidateEventData(t))}}e.SecondaryIabDisplayViewabilityBL=d},7159:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.SecondaryIabVideoViewabilityBL=void 0;const n=i(7749),s=i(8379),r=i(3380),o=i(8690),a=i(9450),c=i(7360);class u extends o.SecondaryBaseViewabilityBL{init(){this.iabMinimalDuration=s.ViewabilityConstants.IAB.VideoMinimalDuration,this.iabMinimalAdAreaPercentageForStandardSize=s.ViewabilityConstants.IAB.MinimalAdAreaPercentageForStandardSize}isSupported(){return 1==n.I.getTagType()}shouldRegisterToExposureEvents(){return!0}needToCheckViewability(t,e){return null==t.timeMsUntilAdViewedSecondary&&null!=this.getPercentage(e)&&e.adIsPlaying}isViewabilityConditionPassed(t){const e=r.Utilities.isIabPageInFocus(t);return!(!this.getPercentage(t)||!e)&&this.getPercentage(t)>=this.iabMinimalAdAreaPercentageForStandardSize}shouldReportViewability(t,e,i){return i.iabViewedTimeSecondary=t?i.iabViewedTimeSecondary+e:0,i.iabViewedTimeSecondary>=this.iabMinimalDuration}reportViewabilityMeasured(t,e){t.timeMsUntilAdMeasuredSecondary||(t.timeMsUntilAdMeasuredSecondary=e.updateTime,t.unadjustedTimeMsUntilAdMeasuredSecondary=e.updateTime,c.u.dispatchEvent(c.DvEvents.reportData,new a.AdCandidateEventData(t)))}reportViewabilityPassed(t,e){t.timeMsUntilAdViewedSecondary=e,t.unadjustedTimeMsUntilAdViewedSecondary=e,t.timeMsUntilAdMeasuredSecondary++,c.u.dispatchEvent(c.DvEvents.reportData,new a.AdCandidateEventData(t))}getPercentage(t){return r.Utilities.getIabVisiblePercentage(t)}}e.SecondaryIabVideoViewabilityBL=u},3454:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.VideoFullQuartileAudibleBL=void 0;const n=i(7360),s=i(7749),r=i(9450),o=i(6751);class a extends o.BaseAdBL{init(){this.minimalAdAreaPercentageForStandardSize=98}isSupported(){return 1==s.I.getTagType()}getEventsAndCallbacksToRegister(){return{[n.DvEvents.exposureData]:this.handleAudibleData.bind(this),[n.DvEvents.adVideoFirstQuartileData]:this.handleQuartileData.bind(this,1),[n.DvEvents.adVideoMidpointData]:this.handleQuartileData.bind(this,2),[n.DvEvents.adVideoThirdQuartileData]:this.handleQuartileData.bind(this,3),[n.DvEvents.adVideoCompleteData]:this.handleQuartileData.bind(this,4)}}handleAudibleData(t){const e=t.adCandidate,i=t.relevantData;i.adIsPlaying&&(0!=e.isVideoFullQuartileAudible&&this.isCriteriaPassed(i.volume)?e.isVideoFullQuartileAudible=!0:e.isVideoFullQuartileAudible=!1)}handleQuartileData(t,e){const i=e.adCandidate;this.reportViewedImpression(i),i.videoFullQuartileAudibleId=t+1,i.isVideoFullQuartileAudible=null}isCriteriaPassed(t){return null!=t&&-1!=t&&0!=t}reportViewedImpression(t){t.isVideoFullQuartileAudible&&(t.markAdQuartile(8,t.videoFullQuartileAudibleId),n.u.dispatchEvent(n.DvEvents.reportData,new r.AdCandidateEventData(t)))}}e.VideoFullQuartileAudibleBL=a},9603:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.VideoInViewAndAudibleBL=void 0;const n=i(7749),s=i(7360),r=i(6751),o=i(3380);class a extends r.BaseAdBL{init(){}isSupported(){return 1===n.I.getTagType()}getEventsAndCallbacksToRegister(){return{[s.DvEvents.exposureData]:this.handleInViewAndAudibleData.bind(this)}}handleInViewAndAudibleData(t){var e,i;const n=t.adCandidate,s=t.relevantData;if(!s.adIsPlaying)return;const r=s.intervalDuration,o=this.getBucketNumber(s.percentage,s.focus);if(null!=o&&this.isAudible(s.volume)){const t="ivab"+o;n[t]=r+(null!==(e=n[t])&&void 0!==e?e:0)}else n.ivanapt=r+(null!==(i=null==n?void 0:n.ivanapt)&&void 0!==i?i:0)}getBucketNumber(t,e){return o.Utilities.isNullOrEmpty(t)?null:0!=t&&e?Math.floor(t/10)+1:0}isAudible(t){return t>0}}e.VideoInViewAndAudibleBL=a},1354:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.VideoQuartileFullOnScreenBL=void 0;const n=i(7360),s=i(7749),r=i(9450),o=i(6751);class a extends o.BaseAdBL{init(){this.minimalAdAreaPercentageForStandardSize=98}isSupported(){return 1==s.I.getTagType()}getEventsAndCallbacksToRegister(){return{[n.DvEvents.exposureData]:this.handleViewabilityData.bind(this),[n.DvEvents.adVideoFirstQuartileData]:this.handleQuartileData.bind(this,1),[n.DvEvents.adVideoMidpointData]:this.handleQuartileData.bind(this,2),[n.DvEvents.adVideoThirdQuartileData]:this.handleQuartileData.bind(this,3),[n.DvEvents.adVideoCompleteData]:this.handleQuartileData.bind(this,4)}}handleViewabilityData(t){const e=t.adCandidate,i=t.relevantData;i.adIsPlaying&&(0!=e.isVideoFullQuartileViewed&&this.isCriteriaPassed(i)?e.isVideoFullQuartileViewed=!0:e.isVideoFullQuartileViewed=!1)}handleQuartileData(t,e){const i=e.adCandidate;this.reportViewedImpression(i),i.videoFullQuartileViewabilityId=t+1,i.isVideoFullQuartileViewed=null}isCriteriaPassed(t){return!(!t.percentage||!t.focus)&&t.percentage>=this.minimalAdAreaPercentageForStandardSize}reportViewedImpression(t){t.isVideoFullQuartileViewed&&(t.markAdQuartile(16,t.videoFullQuartileViewabilityId),n.u.dispatchEvent(n.DvEvents.reportData,new r.AdCandidateEventData(t)))}}e.VideoQuartileFullOnScreenBL=a},7684:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ViewabilityMeasurementBL=void 0;const n=i(7360),s=i(9450),r=i(3380),o=i(7749),a=i(6751),c=i(4312);class u extends a.BaseAdBL{constructor(t=c.ViewabilityStandardRegistrySingleton){super(),this.registry=t}init(){}getActionName(){return"ViewabilityMeasurementBL"}isSupported(){return!0}getEventsAndCallbacksToRegister(){return{[n.DvEvents.impressionServed]:this.scheduleIntervalBasedMeasurement.bind(this)}}scheduleIntervalBasedMeasurement(){this.shouldRegisterToExposureEvents()&&n.u.addEventListener(n.DvEvents.exposureData,this.onViewabilityInterval.bind(this))}onViewabilityInterval(t){var e;const i=t.adCandidate,n=t.relevantData;null===(e=this.registry.getRegisteredStandards())||void 0===e||e.forEach((t=>{const e=this.getMeasurementByStandard(t.standardId,i,t.inEvaluation);if(this.needToCheckViewability(e,n)){this.reportViewabilityMeasured(e,i,n.updateTime,t.onMeasured);const s=null!=t.settings.minimalLargeAdArea&&r.Utilities.isLargeAd(n.adSize,t.settings.minimalLargeAdArea),o=this.getConditions(t.settings,s),a=this.isViewabilityConditionPassed(o,n);this.shouldReportViewability(o,a,e,i,n.intervalDuration)&&this.reportViewabilityPassed(e,i,n.updateTime,t.onPassed)}}))}getMeasurementByStandard(t,e,i=!1){var n;return(n=e.activeViewabilityMeasurements)[t]||(n[t]={standardId:t,inEvaluation:i,timeInView:0,timeUntilMeasured:null,timeUntilPassed:null})}needToCheckViewability(t,e){return!this.isViewabilityAlreadyDetermined(t)&&(!(1===o.I.getTagType()&&!e.adIsPlaying)&&null!=e.percentage)}isViewabilityAlreadyDetermined(t){return!!t.timeUntilPassed}reportViewabilityMeasured(t,e,i,n){t.timeUntilMeasured||(t.timeUntilMeasured=i,n(new s.AdCandidateEventData(e)))}isViewabilityConditionPassed(t,e){return!(t.onFocus&&!e.focus)&&(!(null!=t.adPercentage&&e.percentage<t.adPercentage)&&(1!==o.I.getTagType()||!t.isVolumeRequired||0!=e.volume))}getConditions(t,e){return e?t.largeAd:t.regularAd}shouldRegisterToExposureEvents(){return!0}shouldReportViewability(t,e,i,n,s){const{isConsecutive:r,durationCap:o,durationPercentage:a}=t;if(null==o&&null==a)return e;i.timeInView=e?i.timeInView+s:r?0:i.timeInView;const{videoLength:c}=n,u=o,d=null!=c&&null!=a?c*(a/100):null,l=null!=u&&i.timeInView>=u,h=null!=d&&i.timeInView>=d;return l||h}reportViewabilityPassed(t,e,i,n){t.timeUntilPassed=i,n(new s.AdCandidateEventData(e))}}e.ViewabilityMeasurementBL=u},4312:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.ViewabilityStandardRegistrySingleton=e.ViewabilityStandardRegistry=void 0;class i{constructor(){this.registeredStandards={}}register(t){if(this.registeredStandards[t.standardId])throw new Error("Invalid viewability standardId: Already exists");this.registeredStandards[t.standardId]=t}getRegisteredStandards(){return Object.values(this.registeredStandards)}}e.ViewabilityStandardRegistry=i,e.ViewabilityStandardRegistrySingleton=new i},1726:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ViewabilityStartPercentageBL=void 0;const n=i(7360),s=i(9450),r=i(7749),o=i(6751);class a extends o.BaseAdBL{init(){this.visiblePercentage=50}isSupported(){return!0}getEventsAndCallbacksToRegister(){return{[n.DvEvents.exposureData]:this.handleViewabilityData.bind(this)}}handleViewabilityData(t){const e=t.adCandidate,i=t.relevantData;(1!=r.I.getTagType()||i.adIsPlaying)&&null==e.startPercentage&&null!=i.percentage&&(e.startPercentage=i.percentage,e.adVisibleOnload=i.percentage>=this.visiblePercentage,n.u.dispatchEvent(n.DvEvents.reportData,new s.AdCandidateEventData(e)))}}e.ViewabilityStartPercentageBL=a},6715:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ViewableShareOfScreenBL=void 0;const n=i(9450),s=i(6751),r=i(7360),o=i(3380),a=i(8379),c=i(194),u=i(7749),d=i(3868),l=i(425);class h extends s.BaseAdBL{constructor(){super(...arguments),this.MIN_VAL=0,this.MAX_VAL=100,this.MAX_EVENTS=4,this.MIN_PERCENTAGE_CHANGE=10}init(){}isSupported(){return!0}getEventsAndCallbacksToRegister(){return{[r.DvEvents.impressionServed]:this.handleImpressionServed.bind(this)}}handleImpressionServed(){r.u.addEventsListener({[r.DvEvents.exposureData]:this.handleViewabilityData.bind(this),[r.DvEvents.adVideoCompleteData]:this.handleVideoCompleteOrUnload.bind(this),[r.DvEvents.unloadData]:this.handleVideoCompleteOrUnload.bind(this)})}handleViewabilityData(t){const{viewableShareOfScreenData:e,screenSize:i,viewablePercentage:n,adSize:s,adIsPlaying:r,isInFocus:a,isIabViewed:c}=this.prepareValues(t);if(this.isViewabilityConditionPassed(s,i,r,a,n)){const t=s.height*s.width*n/(i.width*i.height);if(e.sumViewableShareOfScreen+=t,e.viewableIntervalCount=e.viewableIntervalCount+1,c){const{shareOfScreenNotMeasuredReason:t}=e;e.shareOfScreenNotMeasuredReason=16;const i=o.Utilities.getValBetweenMinAndMax(Math.round(e.sumViewableShareOfScreen/e.viewableIntervalCount),this.MIN_VAL,this.MAX_VAL);e.avgViewableShareOfScreen=i,d.S.isIOS()&&this.isApplicableForInstantIosReport(e,n)?(e.shareOfScreenLastIosReportedPercentage=n,this.report(e)):this.shouldReportFirstTimeViewableShareOfScreenIsMeasured(t)&&this.report(e)}}e.shareOfScreenNotMeasuredReason=this.getValidationReasonBits(i,s,c,e)}shouldReportFirstTimeViewableShareOfScreenIsMeasured(t){return!!t&&16!==t}prepareValues(t){const e=t.relevantData,i=t.adCandidate;i.sumViewableShareOfScreen||(i.sumViewableShareOfScreen=0),i.viewableIntervalCount||(i.viewableIntervalCount=0);const{screenSize:n,viewablePercentage:s,adSize:r,adIsPlaying:o,isInFocus:a}=this.collectCurrentShareOfScreenData(e,i);return{viewableShareOfScreenData:i,screenSize:n,viewablePercentage:s,adSize:r,adIsPlaying:o,isInFocus:a,isIabViewed:!!i.timeMsUntilAdViewed}}report(t){r.u.dispatchEvent(r.DvEvents.reportData,new n.AdCandidateEventData(t))}calculateMaxEventsNumber(t){return void 0===t?this.MAX_EVENTS:t}isApplicableForInstantIosReport(t,e){t.shareOfScreenEventsLeftToReport=this.calculateMaxEventsNumber(t.shareOfScreenEventsLeftToReport);const i=!t.shareOfScreenLastIosReportedPercentage||t.shareOfScreenEventsLeftToReport>0&&t.shareOfScreenLastIosReportedPercentage!=e&&t.shareOfScreenLastIosReportedPercentage+this.MIN_PERCENTAGE_CHANGE<=100&&Math.abs(t.shareOfScreenLastIosReportedPercentage-e)>=this.MIN_PERCENTAGE_CHANGE;return i&&(t.shareOfScreenEventsLeftToReport=0===t.shareOfScreenEventsLeftToReport?0:t.shareOfScreenEventsLeftToReport-1),i}collectCurrentShareOfScreenData(t,e){const i=o.Utilities.isIabPageInFocus(t),n=this.getComparableScreenSize(t,e),s=t.percentage,{adSize:r}=t;return{screenSize:n,viewablePercentage:s,adSize:r,adIsPlaying:1!=u.I.getTagType()||t.adIsPlaying,isInFocus:i}}getComparableScreenSize(t,e){e.shareOfScreenReadFromViewport||(e.shareOfScreenReadFromViewport=this.isApplicableForViewportMeasurement()&&this.reportReadFromViewport(e));let{screenSize:i}=t;if(e.shareOfScreenReadFromViewport&&i&&i.width>0&&i.height){const e=l.W.getInnerViewport();e.width>0&&e.height>0&&(i={width:e.width,height:t.screenSize.height*(e.width/t.screenSize.width)})}return i}isApplicableForViewportMeasurement(){if(2===c.it.getDetectedDeliveryType()&&(2==(2&d.S.getScenarioType())||1==(1&d.S.getScenarioType()))){const t=l.W.getMetaTagAttributes(d.S.workingDocument(d.S.windowTop()),"viewport");return!this.isWebPageResponsive(t)}return!1}isWebPageResponsive(t){const e=t.width,i=t["initial-scale"];return!o.Utilities.isEmptyObject(t)&&(1===Number(i)||"device-width"===e)}reportReadFromViewport(t){return t.shareOfScreenReadFromViewportReport=1,!0}handleVideoCompleteOrUnload(t){const e=t.adCandidate;this.report(e)}isViewabilityConditionPassed(t,e,i,n,s){return i&&n&&this.validateScreenAndAdSize(t,e)&&this.isAdPercentageCriteriaPassed(t,s)}validateScreenAndAdSize(t,e){const i=(null==t?void 0:t.width)&&(null==t?void 0:t.height),n=(null==e?void 0:e.width)&&(null==e?void 0:e.height);return i&&n}getValidationReasonBits(t,e,i,n){let s=16===n.shareOfScreenNotMeasuredReason?16:0;return s||((null==t?void 0:t.height)&&(null==t?void 0:t.width)||(s|=4),(null==e?void 0:e.height)&&(null==e?void 0:e.width)||(s|=2),i||(s|=1)),s}isAdPercentageCriteriaPassed(t,e){return o.Utilities.isLargeAd(t,a.ViewabilityConstants.IAB.DisplayMinimalLargeAdArea,c.it.isMobile())?e>=a.ViewabilityConstants.IAB.DisplayMinimalAdAreaPercentageForLargeSize:e>=a.ViewabilityConstants.IAB.MinimalAdAreaPercentageForStandardSize}getActionName(){return"ViewableShareOfScreenBL"}}e.ViewableShareOfScreenBL=h},3350:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.AdAsset=void 0;e.AdAsset=class{constructor(t,e,i,n,s){this.id=t,this.player=e,this.adDuration=i,this.executeDVClientCallback=s,this.adSkippable=n}}},1080:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.getSupportedIntegrationsBitwise=void 0;const n=i(1063),s=i(870),r=i(7323);e.getSupportedIntegrationsBitwise=(t=[n.VpaidWrapper,r.MraidObject,s.omidAdapter])=>{let e=0;return t.forEach((t=>{t.isSupported()&&(e|=Number(t.getIntegrationType()))})),e}},7349:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.AdContainerInspector=void 0;const n=i(3380);e.AdContainerInspector=class{constructor(t){this.container=t}getContainer(){var t;return null!==(t=this.container)&&void 0!==t?t:null}getContainerId(){var t;return null===(t=this.container)||void 0===t?void 0:t.id}getDescendants(t=[],e=[]){return n.Utilities.convertToArray(this.getDescendantsAsCollection(t)).filter((t=>!e.includes(t.tagName.toLowerCase())))}getDescendantsAsCollection(t){var e,i;if((null==t?void 0:t.length)>0&&this.getContainerId()){const i=t.join();return null===(e=this.container)||void 0===e?void 0:e.querySelectorAll(`#${this.getContainerId()} ${i}`)}return null===(i=this.container)||void 0===i?void 0:i.getElementsByTagName("*")}getDirectChildren(t=[],e=[]){return n.Utilities.convertToArray(this.getDirectChildrenAsCollection(t)).filter((t=>!e.includes(t.tagName.toLowerCase())))}getDirectChildrenAsCollection(t){var e;if((null==t?void 0:t.length)>0&&this.getContainerId()){const e=t.join();return this.container.querySelectorAll(`#${this.getContainerId()} > ${e}`)}return null===(e=this.container)||void 0===e?void 0:e.children}getMostPopularDirectChildElement(t=[]){const e=this.createDirectChildrenTable(t);return n.Utilities.getKeyWithHighestValue(e)}createDirectChildrenTable(t=[]){const e=this.getDirectChildren([],t).map((t=>t.tagName.toLowerCase()));return n.Utilities.countBy(e)}}},5670:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.AdContainerInspectorFactory=void 0;const n=i(7349),s=i(319);e.AdContainerInspectorFactory=class{constructor(t){this.containerId=t}createAdContainerInspector(){return new n.AdContainerInspector(this.getContainer())}getContainer(){return this.containerId?(0,s.getElementById)(this.containerId):null}}},2196:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.DvBackwardCompatibilityClass=void 0;const n=i(749),s=i(425),r=i(3380),o=i(6681),a=i(7360),c=i(3868),u=i(3946);e.DvBackwardCompatibilityClass=class{constructor(){this.dvObjType="dv",this.messages={registerMsg(t,e){n.A.sendMessage(e)},startSendingEvents(t,e){}},this.domUtilities={outer:this,addImage(t,e,i,n){var o;const a=r.Utilities.getParamValue(t,"impid");if(null!=a&&(null===(o=this.outer.tags)||void 0===o?void 0:o[a])&&"object"==typeof this.outer.tags[a].eventIdGenerator&&"function"==typeof this.outer.tags[a].eventIdGenerator.getNext){t+="&eoid="+this.outer.tags[a].eventIdGenerator.getNext()}s.W.sendBeacon(t,i)},addScriptResource(t,e){s.W.addScriptAsync(t,e)}},this.pubSub=a.Jt,this.CommonData={Scenario:c.S.getScenarioType(),BrowserId:u.BrowserDetector.getBrowserId(),BrowserIdFromUserAgent:u.BrowserDetector.getBrowserIdUserAgent(),BrowserVersion:u.BrowserDetector.getBrowserVersion()},this.tags={},this.sendBeacon=()=>{}}resolveMacros(t,e){return r.Utilities.resolveMacros(t,e)}registerEventCall(t,e,i,s){e.tagsrv=1,n.A.registerEventCall(t,e,s,i)}createEventCallUrl(t,e,i=!1){return n.A.createEventCallUrl(t,Object.assign(Object.assign({},e),{tagsrv:1}),i)}getWorkingWindow(){return c.S.workingWindow()}getMraid(){return o.MraidWrapper.getMraid()}}},5999:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.BeaconsAdaptor=void 0;const n=i(3868),s=i(425),r=i(319);e.BeaconsAdaptor=new class{positionBeacons(t,e,i){const o=n.S.getDefaultWindow(t).document,a=n.S.workingBody(o),c=s.W.getScrollData(a).left,u=s.W.getScrollData(a).top,{width:d,height:l,left:h,top:v}=(0,r.getBoundingClientRect)(t),p=d/2.414213562373095,f=l/2.414213562373095,m=d/1.4142135623730951,g=l/1.4142135623730951;for(let t=0;t<e.length;t++){const n=Math.round(5*Math.random()),s=e[t];switch(s.left=h+c,s.top=v+u,t){case 0:s.left=-1e5,s.top=-1e5;break;case 1:s.left+=n,s.top+=n;break;case 2:s.left+=d-i-n,s.top+=n;break;case 3:s.left+=n,s.top+=l-i-n;break;case 4:s.left+=d-i-n,s.top+=l-i-n;break;case 5:s.left+=d/2+n,s.top+=l/2+n;break;case 6:s.left+=(d-m)/2+n,s.top+=(l-g)/2+n;break;case 7:s.left+=(d-m)/2+m,s.top+=(l-g)/2;break;case 8:s.left+=(d-m)/2,s.top+=(l-g)/2+g+n;break;case 9:s.left+=(d-m)/2+m-n,s.top+=(l-g)/2+g-n;break;case 10:s.left+=(d-p)/2+n,s.top+=(l-f)/2+n;break;case 11:s.left+=(d-p)/2+p-n,s.top+=(l-f)/2+n;break;case 12:s.left+=(d-p)/2+n,s.top+=(l-f)/2+f-n;break;case 13:s.left+=(d-p)/2+p-n,s.top+=(l-f)/2+f-n}t>=5&&(s.left-=i/2,s.top-=i/2),s.style.left=s.left+"px",s.style.top=s.top+"px"}}getElementVisiblePercentageWithBeacons(t,e){let i=0,n=0,s=0,r=0;for(let o=1;o<t.length;o++){if(e(t[o]))switch(o){case 5:r++;break;case 1:case 2:case 3:case 4:i++;break;case 6:case 7:case 8:case 9:n++;break;case 10:case 11:case 12:case 13:s++}}return r||2!=i||2!=s?r?4==i?100:i>=2||4==n||4==s&&i>=1?50:4==s&&n>=1?30:0:0:30}}},6875:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.getWorkingWindow=e.getCurrentWindow=e.getTagUniqueKey=void 0;const n=i(3380);dvWindow="undefined"!=typeof window&&window||dvWindow;let s="";function r(){return("undefined"!=typeof $dv&&$dv||{}).isDomlessEnvironment?{}:dvWindow}e.getTagUniqueKey=function(){if(""===s){const t="undefined"!=typeof $dv&&$dv||{};if(!Object.prototype.hasOwnProperty.call(t,"tagData"))throw new Error("dv object missing tagData property");if(!t.tagData||"object"!=typeof t.tagData)throw new Error("tagData is not an object");const e=Object.keys(t.tagData).filter((e=>Object.prototype.hasOwnProperty.call(t.tagData[e],"tagScriptElem")&&"1"==t.tagData[e].flvr&&!t.tagData[e].isVisited));if(!e.length)throw new Error("all tags data visited");const i=n.Utilities.getVersion(),r=e.filter((e=>t.tagData[e].dvtpScriptVersion===i&&"1"==t.tagData[e].flvr));s=r.length?r[0]:e[0],t.tagData[s].isVisited=!0}return s},e.getCurrentWindow=r,e.getWorkingWindow=function(){const t="undefined"!=typeof $dv&&$dv||{},e=r();let i=e;try{i=t.restrictedAccess?e:e.parent}catch(t){i=e}return i}},425:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.W=e.de=void 0;const n=i(3946),s=i(2756),r=i(1532),o=i(319),a=i(712),c=i(870),u=i(363),d=i(3380),l=i(495),h=i(3868);class v{constructor(){this.eventListenersList=[],this.visibilityPropertyPrefixes={hidden:"",webkitHidden:"webkit",mozHidden:"moz",msHidden:"ms"},this.isSameOriginIframe=t=>{var e;try{return null!=((null===(e=t.contentWindow)||void 0===e?void 0:e.document)||t.contentDocument)}catch(t){return!1}},this.updateVisibilityProperties(),this.createPrerenderedImages()}sendBeaconIsSupported(){return h.S.getNavigator()&&!!h.S.getNavigator().sendBeacon&&n.BrowserDetector.getBrowserId()!=a.Browser.Safari&&n.BrowserDetector.getBrowserId()!=a.Browser.SafariWebView}createPrerenderedImages(){this.prerenderedImages=[],this.sendBeaconSupported=this.sendBeaconIsSupported(),this.sendBeaconSupported||d.Utilities.times(20,(()=>this.prerenderedImages.push(new Image)))}getVisibilityProperty(){for(const t of Object.keys(this.visibilityPropertyPrefixes))if(null!=h.S.workingDocument()[t])return t}updateVisibilityProperties(){this.visibilityProperty=this.getVisibilityProperty(),this.visibilityPrefix=this.visibilityPropertyPrefixes[this.visibilityProperty]}getVisibilityPrefix(){return this.visibilityPrefix}isVisibilityChangeEventSupported(){return!!this.visibilityProperty}hasFocus(){return!(this.isVisibilityChangeEventSupported()&&!c.omidAdapter.isSupported())||!h.S.workingDocument()[this.visibilityProperty]}isStrictFocusSupported(){var t;return(null===(t=h.S.documentTop)||void 0===t?void 0:t.call(h.S).hasFocus)&&!c.omidAdapter.isSupported()}hasStrictFocus(){try{return!this.isStrictFocusSupported()||h.S.documentTop().hasFocus()}catch(t){return!0}}addEventListener(t,e,i,n=!1){return!!(t&&e&&i)&&((null==i?void 0:i.addEventListener)?(i.addEventListener(t,e,n),this.eventListenersList.push({eventName:t,cb:e,element:i,capture:n})):(i["on"+t]=e,this.eventListenersList.push({eventName:t,cb:e,element:i,capture:n,directAssignment:!0})),!0)}clearAllEventsListeners(){this.eventListenersList.forEach((t=>{this.removeEventListener(t.eventName,t.cb,t.element,t.capture)}))}removeEventListener(t,e,i,n=!1){if(!t||!e||!i)return;const s=this.eventListenersList.filter((s=>s.eventName===t&&s.cb===e&&s.element===i&&s.capture===n));s.forEach((e=>{e.directAssignment?i["on"+t]&&(i["on"+t]=null):i.removeEventListener&&i.removeEventListener(t,e.cb,e.capture)})),this.eventListenersList=this.eventListenersList.filter((t=>!s.includes(t)))}getTaskManager(){return h.S.currentWindow()}getPerformanceTimeNow(){return null==this.timeFunction&&((0,l.isPerformanceApiSupported)()?this.timeFunction=()=>h.S.currentWindow().performance.now():this.timeFunction=()=>Date.now()),this.timeFunction()}registerScriptEvent(t,e,i){this.addEventListener("error",null==e?void 0:e.bind(null),t),this.addEventListener("load",null==i?void 0:i.bind(null),t)}addScriptAsync(t,e,i,n,s){e||(e=h.S.workingBody()||h.S.workingDocument().head||h.S.workingDocumentElement());const r=(0,o.createElement)("script",e.ownerDocument);r.type="text/javascript",r.src=t,this.registerScriptEvent(r,n,s),i&&(r.id=i),(0,o.insertBefore)(e,r,e.firstChild)}addScriptSync(t,e){e.write('<script type="text/javascript" src="'+t+'"><\/script>')}isFetchJSONAPISupported(){return"function"==typeof fetch}async fetchJSON(t){if(!this.isFetchJSONAPISupported())throw new Error("VisitJSON: window.fetch is not supported");const e=await fetch(t);if(200!==e.status)throw new Error(`VisitJSON: unexpected ${e.status} status code`);return e.json()}createIframe(t){const e=(0,o.createElement)("iframe");return e.name=e.id="iframe_"+u.RandomUtils.getRandom16(),e.width="0",e.height="0",e.style.display="none",e.src=t,e}getNestedDocuments(t,e){return this.getNestedSameOriginIframes(t,e).map((t=>{var e;return null===(e=null==t?void 0:t.contentDocument)||void 0===e?void 0:e.documentElement})).filter((t=>null!=t))}getNestedSameOriginIframes(t,e){const i=[],n=(s,a)=>{var c;if(a>=e)return;let u;u=(0,r.isHTMLIFrameElement)(t)?[t]:(0,o.getElementsByTagNameFromDomElement)(s,"iframe").filter(r.isHTMLIFrameElement);for(const t of u)try{this.isSameOriginIframe(t)&&(i.push(t),n(null===(c=t.contentDocument)||void 0===c?void 0:c.documentElement,a+1))}catch(t){}};return n(t,0),i}getAvailableScreenSize(t=!0){var e;let i=t?0:null,n=t?0:null;const s=null===(e=h.S.workingWindow)||void 0===e?void 0:e.call(h.S).screen;return s&&(i=s.availHeight,n=s.availWidth),{height:i,width:n}}getScreenSize(){var t;try{const e=null===(t=h.S.workingWindow())||void 0===t?void 0:t.screen;if(e)return{height:e.height,width:e.width}}catch(t){}return{height:0,width:0}}getDevicePixelRatio(){try{return h.S.workingWindow().devicePixelRatio}catch(t){}}getInnerViewport(t=!0){let e=t?0:null,i=t?0:null;try{const t=h.S.windowTop(),n=h.S.workingWindow();t?(e=t.innerHeight,i=t.innerWidth):n&&(e=n.innerHeight,i=n.innerWidth)}catch(t){}return{height:e,width:i}}getOuterViewport(t=h.S.workingWindow(),e=!0){let i=e?0:null,n=e?0:null;try{t&&(i=t.outerHeight,n=t.outerWidth)}catch(t){}return{height:i,width:n}}getViewportAssetsRelativeToScreen(t){let e=0,i=0;try{t&&(e=t.screenY,i=t.screenX)}catch(t){}return{top:e,left:i}}getIframeAssetsRelativeToScreen(t=h.S.workingWindow()){let e=0,i=0;try{t&&(e=t.mozInnerScreenY||t.screenTop,i=t.mozInnerScreenX||t.screenLeft)}catch(t){}return{top:e,left:i}}getScrollData(t=h.S.workingBody()){let e=0,i=0;return t&&(e=t.scrollLeft,i=t.scrollTop),{left:i,top:e}}getNavigationStartTime(){var t;if(null===(t=h.S.workingWindow().performance)||void 0===t?void 0:t.timing)return h.S.workingWindow().performance.timing.navigationStart}sendBeacon(t,e=!1){var i;if(c.omidAdapter.isSupported())c.omidAdapter.sendUrl(t);else if(!e&&this.sendBeaconSupported)h.S.getNavigator().sendBeacon(t);else if("object"==typeof window&&"function"==typeof(null===window||void 0===window?void 0:window.fetch))fetch(t,{method:"GET",keepalive:!0,mode:"no-cors"}).catch((t=>{0}));else{let e;e=(null===(i=this.prerenderedImages)||void 0===i?void 0:i.length)?this.prerenderedImages.pop():(0,o.createImage)(),e.src=t}(0,l.logDvSignal)(t)}isElementAttachedToDocument(t){try{return"IFRAME"==t.nodeName?!!h.S.getIframeWindow(t):h.S.workingDocument().contains(t)}catch(t){}}convertOrientationType(t){switch(null==t?void 0:t.toString()){case"landscape-primary":case"landscape-secondary":return 2;case"portrait-primary":case"portrait-secondary":return 1;default:return 0}}getScreenOrientationType(){var t;const e=null===(t=this.getScreenOrientation())||void 0===t?void 0:t.type;return this.convertOrientationType(e)}getScreenOrientation(){var t,e;return null===(e=null===(t=h.S.currentWindow())||void 0===t?void 0:t.screen)||void 0===e?void 0:e.orientation}getMetaTagAttributes(t,e){const i={};if(t)for(const n of d.Utilities.arrayLikeToArray(t.getElementsByTagName("meta")))if(n.getAttribute("name")===e&&n.getAttribute("content")){n.getAttribute("content").split(",").forEach((t=>{const e=t.split("=");e.length>1&&(i[e[0].trim()]=e[1].trim())}));break}return i}}e.de=v,e.W=h.S.isDomlessEnvironment()?new s.BrowserOmidAdaptorClass:new v},3946:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserDetector=e.BrowserDetectorClass=void 0;const n=i(712),s=i(3868),r=i(7749);class o{constructor(){this.browsersList=[{id:n.Browser.Selenium,browserDetectionRuleType:2,propertiesRuleFunc:()=>s.S.workingDocumentElement().hasAttribute("webdriver")||s.S.workingDocumentElement().hasAttribute("fxdriver")||s.S.workingDocumentElement().hasAttribute("__webdriver_unwrapped")||s.S.workingDocumentElement().hasAttribute("__webdriver_script_fn")||s.S.workingDocumentElement().hasAttribute("__webdriver_evaluate")||s.S.workingDocumentElement().hasAttribute("__fxdriver_evaluate")||s.S.workingDocumentElement().hasAttribute("__fxdriver_unwrapped")||s.S.workingDocumentElement().hasAttribute("__fxdriver_script_fn")||this.workingWindow.webdriver||this.workingWindow.domAutomation||this.workingWindow.domAutomationController||this.workingWindow._WEBDRIVER_ELEM_CACHE||this.hasSeleniumProps()},{id:n.Browser.PhantomJS,browserDetectionRuleType:2,propertiesRuleFunc:()=>this.workingWindow._phantom||this.workingWindow.__nightmare},{id:n.Browser.PuppeteerVanilla,browserDetectionRuleType:2,propertiesRuleFunc:()=>{var t;return null===(t=this.workingWindow.navigator)||void 0===t?void 0:t.webdriver}},{id:n.Browser.PuppeteerExtraStealth,browserDetectionRuleType:2,propertiesRuleFunc:()=>this.getIsExtraStealthBrowser()},{id:n.Browser.ChromeWebView,browserDetectionRuleType:1,userAgentRegex:"(?:wv(.*?))version/[0-9]+(?:.[0-9]+)* chrome/[0-9]+(?:.[0-9]+)* mobile|version/[0-9]+(?:.[0-9]+)* chrome/[0-9]+(?:.[0-9]+)* mobile|(?:wv(.*?))version\\/[0-9]+(?:.[0-9]+)* chrome\\/[0-9]+(?:.[0-9]+)*",versionRegex:"chrome/"},{id:n.Browser.SafariWebView,browserDetectionRuleType:3,userAgentRegex:"(?=.*(iphone|ipod|ipad))(?=^(?:(?!safari).)*$).*$",propertiesRuleFunc:()=>!this.workingWindow.navigator.standalone},{id:n.Browser.IE,browserDetectionRuleType:1,userAgentRegex:"msie|trident/7.*rv:11|rv:11.*trident/7|edge/|edg/",versionRegex:"(msie |rv:| edge/|edg/)"},{id:n.Browser.Firefox,browserDetectionRuleType:2,userAgentRegex:"firefox",versionRegex:"firefox/",propertiesRuleFunc:()=>{var t;return"number"==typeof this.workingWindow.mozInnerScreenY&&"number"==typeof this.workingWindow.mozPaintCount&&(null===(t=this.workingWindow.InstallTrigger)||void 0===t?void 0:t.install)}},{id:n.Browser.Opera,browserDetectionRuleType:1,userAgentRegex:"opr|opera",versionRegex:"(opr/|version/)"},{id:n.Browser.Chrome,browserDetectionRuleType:2,userAgentRegex:"chrome",versionRegex:"chrome/",propertiesRuleFunc:()=>this.workingWindow.chrome&&"function"==typeof this.workingWindow.chrome.csi&&"function"==typeof this.workingWindow.chrome.loadTimes&&"boolean"==typeof this.workingDocument.webkitHidden},{id:n.Browser.Chrome,browserDetectionRuleType:1,userAgentRegex:"crios",versionRegex:"crios/"},{id:n.Browser.Safari,browserDetectionRuleType:2,userAgentRegex:"safari|(os |os x )[0-9].*applewebkit",versionRegex:"version/",propertiesRuleFunc:()=>{var t,e;const i=null===(e=null===(t=s.S.workingDocument())||void 0===t?void 0:t.createElement)||void 0===e?void 0:e.call(t,"p");if(i)return i.innerText=".",i.setAttribute("style","color:red; border: 1px solid blue;"),(Object.prototype.toString.call(this.workingWindow.HTMLElement).indexOf("Constructor")>0||this.workingWindow.webkitAudioPannerNode&&this.workingWindow.webkitConvertPointFromNodeToPage)&&null!=this.workingWindow.innerWidth&&null!=this.workingWindow.innerHeight&&null!=i.style.textShadow}},{id:n.Browser.Unknown,browserDetectionRuleType:1,userAgentRegex:"mozilla.*android.*applewebkit(?!.*chrome.*)|linux.*android.*applewebkit.* version/.*chrome"},{id:n.Browser.Unknown,browserDetectionRuleType:1,userAgentRegex:"aol/.*aolbuild/|aolbuild/.*aol/|puffin|maxthon|valve|silk|playstation|playstation|nintendo|wosbrowser"}],s.S.isDomlessEnvironment()||(this.workingWindow=s.S.workingWindow(),this.workingDocument=s.S.workingDocument(),this.currentUserAgent=((null===r.I||void 0===r.I?void 0:r.I.getUserAgent())||s.S.getUserAgent()||"").toLowerCase(),this.browserData=this.determineBrowserType())}getBrowserId(){var t;return null===(t=this.browserData)||void 0===t?void 0:t.browserId}getBrowserVersion(){var t;return null===(t=this.browserData)||void 0===t?void 0:t.browserVersion}getBrowserIdUserAgent(){var t;return null===(t=this.browserData)||void 0===t?void 0:t.browserIdUserAgent}determineBrowserType(){let t,e,i;for(const i of this.browsersList){switch(i.browserDetectionRuleType){case 3:this.validateBrowserTypeByUserAgent(i)&&this.validateBrowserTypeByPropertiesRule(i)&&(t=e=i);break;case 1:this.validateBrowserTypeByUserAgent(i)&&(t=e=i);break;case 2:!t&&i.userAgentRegex&&this.validateBrowserTypeByUserAgent(i)&&(t=i),!e&&this.validateBrowserTypeByPropertiesRule(i)&&(e=i)}if(t&&e)break}return t==e&&(null==t?void 0:t.versionRegex)&&(i=this.determineBrowserVersion(t.versionRegex)),{browserId:null==e?void 0:e.id,browserVersion:i||"",browserIdUserAgent:null==t?void 0:t.id}}validateBrowserTypeByUserAgent(t){return new RegExp(t.userAgentRegex).test(this.currentUserAgent)}validateBrowserTypeByPropertiesRule(t){return t.propertiesRuleFunc()}getTrustedInstanceId(t){var e,i,n,r;const o=null===(e=s.S.currentWindow())||void 0===e?void 0:e.trustedTypes,a=null===(i=null==o?void 0:o.createPolicy)||void 0===i?void 0:i.call(o,void 0,{createHTML:t=>/^[a-z][a-z0-9]{7}$/.test(t)?t:o.emptyHTML});return null!==(r=null===(n=null==a?void 0:a.createHTML)||void 0===n?void 0:n.call(a,t))&&void 0!==r?r:t}getIsExtraStealthBrowser(){let t=!1;try{const e=String.fromCharCode(26*Math.random()+97),i=e+Math.random().toString(36).slice(-7),n=this.workingDocument.createElement("iframe");n.srcdoc=i;const s=!!n.contentWindow,r="ontouchstart"in this.workingWindow;t=s&&!r}catch(t){}return t}hasSeleniumProps(){try{const t=["Array","Object","Promise","Proxy","Symbol","JSON"],e=["$wdc_","$cdc_","cdc_","wdc_"];for(const i in this.workingWindow){let n=!1;for(const t of e)if(i.startsWith(t)){n=!0;break}if(n)for(const e of t)if(i.endsWith(e))return!0}}catch(t){}return!1}determineBrowserVersion(t){const e=new RegExp(t+"[0-9]+(?:.[0-9]+)*"),i=this.currentUserAgent.match(e);if(i)return i[0].replace(new RegExp(t).exec(this.currentUserAgent)[0],"")}}e.BrowserDetectorClass=o,e.BrowserDetector=new o},2756:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserOmidAdaptorClass=void 0;const n=i(870);e.BrowserOmidAdaptorClass=class{constructor(){this.isSameOriginIframe=t=>null}clearAllEventsListeners(){}updateVisibilityProperties(){}getDevicePixelRatio(){}getVisibilityPrefix(){return""}isVisibilityChangeEventSupported(){return!1}hasFocus(){return!0}hasStrictFocus(){return!0}addEventListener(t,e,i,s=!1){return n.omidAdapter.addEventListener(t,e),!(!t||!e)}removeEventListener(){}getTaskManager(){return n.omidAdapter}getPerformanceTimeNow(){return Date.now()}getAvailableScreenSize(t=!0){return{height:0,width:0}}getScreenSize(){return{height:0,width:0}}getInnerViewport(t=!0){return{height:0,width:0}}getOuterViewport(t,e=!0){return{height:0,width:0}}getViewportAssetsRelativeToScreen(t){return{top:0,left:0}}getIframeAssetsRelativeToScreen(t){return{top:0,left:0}}getScrollData(t){return{left:0,top:0}}getNavigationStartTime(){}sendBeacon(t,e){n.omidAdapter.sendUrl(t)}isStrictFocusSupported(){return!1}addScriptAsync(t,e,i,s,r){n.omidAdapter.injectJavaScriptResource(t,null==r?void 0:r.bind(null),null==s?void 0:s.bind(null))}addScriptSync(t,e){n.omidAdapter.injectJavaScriptResource(t)}isFetchJSONAPISupported(){return"object"==typeof omidNative&&"function"==typeof omidNative.downloadJavaScriptResource}async fetchJSON(t){return new Promise(((e,i)=>{if(!this.isFetchJSONAPISupported())return void i(new Error("VisitJSON: omidNative.downloadJavaScriptResource is not supported"));const n=t=>{i(new Error(`VisitJSON: ${t}`))};omidNative.downloadJavaScriptResource(t,(t=>{if("string"!=typeof t)n("Response content type is "+typeof t);else try{const i=JSON.parse(t);e(i)}catch(t){n("Failed to parse response")}}),(()=>{n("Failed to download")}))}))}createIframe(t){throw new Error("createIframe failed")}isElementAttachedToDocument(t){return!0}getScreenOrientation(){}getScreenOrientationType(){}getMetaTagAttributes(t,e){return{}}getNestedSameOriginIframes(t,e){return[]}getNestedDocuments(t,e){return[]}}},8379:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.omidCreativeTypeMapping=e.omidImpressionTypeMapping=e.NOT_FOUND_OR_ERROR=e.OmidGeometryReasonLog=e.OmidEvents=e.dvIframeAttribute=e.CallbackPrefix=e.ViewabilityConstants=void 0;const n=i(630);e.ViewabilityConstants={IAB:{DisplayMinimalDuration:1e3,VideoMinimalDuration:2e3,DisplayMinimalLargeAdArea:242500,MinimalAdAreaPercentageForStandardSize:50,DisplayMinimalAdAreaPercentageForLargeSize:30},GroupM:{DisplayMinimalDuration:100,VideoMinimalDuration:15e3,VideoMinimalDurationPercentage:50,DisplayMinimalLargeAdArea:242500,VideoMinimalLargeAdArea:3e5,MinimalAdAreaPercentageForStandardSize:98,DisplayMinimalAdAreaPercentageForLargeSize:0,VideoMinimalAdAreaPercentageForLargeSize:80},GroupMV4:{DisplayMinimalDuration:1e3,VideoMinimalDuration:15e3,VideoMinimalDurationPercentage:50,DisplayMinimalLargeAdArea:242500,VideoMinimalLargeAdArea:3e5,MinimalAdAreaPercentageForStandardSize:98,DisplayMinimalAdAreaPercentageForLargeSize:50,VideoMinimalAdAreaPercentageForLargeSize:80},PMX:{DisplayMinimalDuration:1e3,VideoMinimalDuration:2e3,DisplayMinimalLargeAdArea:242500,VideoMinimalLargeAdArea:3e5,MinimalAdAreaPercentageForStandardSize:98,DisplayMinimalAdAreaPercentageForLargeSize:30,VideoMinimalAdAreaPercentageForLargeSize:50},CustomAdvertiserViewabilityStandard:{DisplayMinimalLargeAdArea:242500,VideoMinimalLargeAdArea:3e5},RB:{MinimalAdAreaPercentageForStandardSize:50}},e.CallbackPrefix="dvCallback_",e.dvIframeAttribute="data-dv-frm",e.OmidEvents={sessionStart:1,sessionError:2,sessionFinish:4,impression:8,geometryChange:16,loaded:32,start:64,firstQuartile:128,midpoint:256,thirdQuartile:512,complete:1024,pause:2048,resume:4096,bufferStart:8192,skipped:16384,volumeChange:32768,playerStateChange:65536,adUserInteraction:1<<17},e.OmidGeometryReasonLog={notFound:1,hidden:2,backgrounded:4,obstructed:8,clipped:16,noOutputDevice:32},e.NOT_FOUND_OR_ERROR=-1,e.omidImpressionTypeMapping={[n.OmidImpressionType.UNKNOWN]:0,[n.OmidImpressionType.UNSPECIFIED]:1,[n.OmidImpressionType.LOADED]:2,[n.OmidImpressionType.BEGIN_TO_RENDER]:3,[n.OmidImpressionType.ONE_PIXEL]:4,[n.OmidImpressionType.VIEWABLE]:5,[n.OmidImpressionType.AUDIBLE]:6,[n.OmidImpressionType.OTHER]:7},e.omidCreativeTypeMapping={[n.OmidCreativeType.UNKNOWN]:0,[n.OmidCreativeType.NATIVE_DISPLAY]:1,[n.OmidCreativeType.HTML_DISPLAY]:2,[n.OmidCreativeType.VIDEO]:3,[n.OmidCreativeType.AUDIO]:4}},9440:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.DisplayGenXAdContainerInspectorFactory=void 0;const n=i(7749),s=i(5670);class r extends s.AdContainerInspectorFactory{constructor(t){super(r.getContainerId(t))}static getContainerId(t){return t?n.I.getValueOfTagAttribute(t):null}}e.DisplayGenXAdContainerInspectorFactory=r},1532:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.isHTMLIFrameElement=void 0;e.isHTMLIFrameElement=t=>"IFRAME"===(null==t?void 0:t.tagName)},8962:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.dvDefineProperty=e.getTagUniqueKeyFromVisitScriptElement=void 0;const n=i(194),s=i(3868),r=i(7749);function o(){var t;let e="";if(!s.S.isDomlessEnvironment()){const i=s.S.getCurrentScript();(null==i?void 0:i.id)&&(null===(t=null==i?void 0:i.src)||void 0===t?void 0:t.indexOf(r.I.getInitJsPath()))>-1&&([,e]=i.id.split("_"))}return e}function a(t,e){t.dvDefinedProps||(t.dvDefinedProps={}),t.dvDefinedProps[e]||(t.dvDefinedProps[e]=!0,Object.defineProperty(t,e,{set(t){this.value=t},get(){const t=o();if(!t)return;const i=n.it.Qt().tagData[t];return null==i?void 0:i[e]}}))}if(e.getTagUniqueKeyFromVisitScriptElement=o,e.dvDefineProperty=a,n.it.isRestrictedAccess()&&s.S.getCurrentScript()){const t=s.S.currentWindow();["$frmId","$uid"].forEach((e=>{a(t,e)}))}},194:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.it=e.le=void 0;const n=i(6875),s=i(6142),r=i(3380);class o{setDvGetOmidVerificationClient(t){this.dvGetOmidVerificationClient=t}getDvGetOmidVerificationClient(){return this.dvGetOmidVerificationClient}Qt(){if("undefined"!=typeof $dv)return $dv;const t=(0,n.getCurrentWindow)();if(null==t?void 0:t.$dv)return t.$dv;const e=(0,n.getWorkingWindow)();return(null==e?void 0:e.$dv)?e.$dv:{}}getTagUniqueKey(){return(0,n.getTagUniqueKey)()}getTagCounter(){return this.Qt().tagsCounter}getIsWhitelistedDomain(){return this.getTagData().authorizedDomain}getSharedUniqueKey(){return this.Qt().sharedUniqueKey}getTagScriptElem(){return this.getTagData().tagScriptElem}getOmidInjectionId(){return this.getTagData().omidInjectionId}hasTagData(){return!!this.Qt().tagData}getTagData(){const t=this.Qt(),e=this.getTagUniqueKey(),i=t.tagData[e];if(!i)throw new Error(`tagData not found for tuk = ${e}`);return i}getTagParams(){return this.getTagData().tagParams}getDvtpScriptVersion(){return this.getTagData().dvtpScriptVersion}getIsBlockingEnabled(){var t;return"0"!==(null===(t=this.getTagParams())||void 0===t?void 0:t.blk)}getTagHasVendorKey(){var t;return!!(null===(t=this.getTagParams())||void 0===t?void 0:t.vendor_key)}isRestrictedAccess(){return!!this.Qt().restrictedAccess}getScriptInjectionMode(){var t;return this.hasTagData()&&null!==(t=this.getTagData().scriptInjectionMode)&&void 0!==t?t:"unknown"}isOmidForWeb(){return!!this.getTagData().isOmidForWeb}getOmidWebHopCounter(){return this.getTagData().omidWebHopCounter}isOmid3p(){return!!this.getTagData().isOmid3p}getOmid3pHopCounter(){return this.getTagData().omid3pHopCounter}getDvtpScriptUrl(){return this.getTagData().dvtpScriptUrl||""}getTagLoadedMS(){return this.getTagData().tagLoadedMS||0}getTagReadyState(){return this.getTagData().tagReadyState||"loading"}getVisitReadyState(){return this.getTagData().visitReadyState||"loading"}setVisitReadyState(t="loading"){this.getTagData().visitReadyState=t}getVisitInjectedMS(){return this.getTagData().visitInjectedMS||0}setVisitInjectedMS(t=0){this.getTagData().visitInjectedMS=t}getVerifyInjectedMS(){return this.getTagData().verifyInjectedMS||0}setVerifyInjectedMS(t=0){this.getTagData().verifyInjectedMS=t}getTagExecTimeMs(){return this.getTagData().tagExecTimeMs||0}setImpressionIdOnTagData(t){this.getTagData().$uid=t}setImpressionId(t){this.impressionId=t,this.setImpressionIdOnTagData(t)}getImpressionIdFromTagData(){return this.getTagData().$uid}getSavedImpressionId(){return this.impressionId}getImpressionId(t){return this.getImpressionIdFromTagData()}getFrameIdFromTagData(){return this.getTagData().$frmId}getFrameId(t){return this.getFrameIdFromTagData()}getScriptUrl(){return this.getTagData().dvtpScriptUrl}getProtocol(){return 0===(this.getScriptUrl()||"").indexOf("http:")?"http:":"https:"}getJSVersion(){return this.getTagData().dvtpScriptVersion}publishPubSubEvent(t,e=this.impressionId,i={}){var n;(null===(n=this.Qt())||void 0===n?void 0:n.pubSub)&&t&&e&&this.Qt().pubSub.publish(t,e,i)}getCustomAdvertiserViewabilitySettings(){var t,e;const i=this.Qt();if(!(null==i?void 0:i.tags)||!this.impressionId||null==(null===(e=null===(t=$dv.tags[this.impressionId])||void 0===t?void 0:t.cavs)||void 0===e?void 0:e.standardType))return;const{cavs:{regularAd:n,largeAd:s,standardType:r}}=$dv.tags[this.impressionId];return{standardType:r,conditions:{regularAd:n,largeAd:s}}}isMobileWeb(){return 2===this.getDetectedDeliveryType()}isMobileApp(){return 3===this.getDetectedDeliveryType()}isCTV(){return 4===this.getDetectedDeliveryType()}isMobile(){return this.isMobileWeb()||this.isMobileApp()}getDetectedDeliveryType(){try{if(this.detectedDeliveryType||!this.impressionId)return this.detectedDeliveryType;const t=s.ServerContext.getDetectedDeliveryType();if(r.Utilities.isNumeric(t))return this.detectedDeliveryType=t,this.detectedDeliveryType}catch(t){}}getAllowRBViewability(){var t;return!(!(null===(t=this.Qt())||void 0===t?void 0:t.tags)||!this.impressionId)&&this.Qt().tags[this.impressionId].allowRB}getFireOnlyImportantEvents(){var t;let e=!1;return(null===(t=this.Qt())||void 0===t?void 0:t.tags)&&this.impressionId&&(e=this.Qt().tags[this.impressionId].foie),e}getDoubleTagImpressionID(){const t=this.getAdTagData();if((null==t?void 0:t.dup)&&"null"!=t.dup)return t.dup}getAdTagData(){var t;let e;const{impressionId:i}=this;return(null===(t=this.Qt().tags)||void 0===t?void 0:t[i])&&(e=this.Qt().tags[i]),e}}e.le=o,e.it=new o},7749:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.I=e.he=void 0;const n=i(3868),s=i(712),r=i(3380),o=i(870),a=i(194),c=i(7658),u=i(8170),d=i(9349),l=i(319);class h{constructor(){this.ve={},this.paramsCaseSensitive={},this.paramUrlExtractionMethod=0,this.serverPrefix="https://tps.doubleverify.com/",this.defaultInitType="js",this.initJsPath="visit.js",this.initJsonPath="visit.json",this.errorPath="visit.jpg",this.eventPath="event.png",this.blockingServerPrefix="https://rtb0.doubleverify.com/",this.blockingInitPath="verify.js",this.blockingErrorPath="verify.js",this.blockingEventPath="bsevent.gif",this.DIAGNOSTIC_PARAM_CTX=(0,u.getDiagnosticQueryParamName)(u.DiagnosticParams.adIdentityClientCode),this.DIAGNOSTIC_PARAM_CMP=(0,u.getDiagnosticQueryParamName)(u.DiagnosticParams.adIdentityAdServerCampaignCode),this.DIAGNOSTIC_PARAM_ADSRV=(0,u.getDiagnosticQueryParamName)(u.DiagnosticParams.adIdentityAdServer),this.DIAGNOSTIC_PARAM_PLC=(0,u.getDiagnosticQueryParamName)(u.DiagnosticParams.adIdentityPlacementId),this.DIAGNOSTIC_PARAM_SID=(0,u.getDiagnosticQueryParamName)(u.DiagnosticParams.adIdentityAdServerSiteCode),this.DIAGNOSTIC_PARAM_DUP=(0,u.getDiagnosticQueryParamName)(u.DiagnosticParams.adIdentityDedupingId),this.CTX="ctx",this.CMP="cmp",this.ADSRV="adsrv",this.SID="sid",this.PLC="plc",this.DUP="dup",this.DIAGNOSTIC_REPORTED_PARAMS=[[u.DiagnosticParams.btregOptimizationValue,this.getBtreg.bind(this)],[u.DiagnosticParams.btadsrvValue,this.getBtadsrv.bind(this)],[u.DiagnosticParams.findClassValue,()=>this.ve.findclass]]}getScriptElementExtractionMethod(){return this.scriptElementExtractionMethod}getParamUrlExtractionMethod(){return this.paramUrlExtractionMethod}getDVScriptUrl(){return this.dvtpScriptUrl}getDVScript(){return this.scriptElement}getCaseSensitiveParams(){return this.paramsCaseSensitive}getLowerCaseParams(){return this.ve}getParamValue(t){return this.ve[t]?this.ve[t]:null}getTagType(){return!this.ve.tagtype||"video"!==this.ve.tagtype.toLowerCase()&&"1"!==this.ve.tagtype?0:1}getTagVersion(){return this.getParamValue(c.TPSDataMapping.tagVersion)||"6.1.src"}getTagFormat(){return this.ve.tagformat}isTagTypeValid(){return!this.ve.tagtype||["display","0","video","1"].includes(this.ve.tagtype.toLowerCase())}getClientCode(){return this.ve[this.CTX]}getPlacementId(){return this.ve[this.PLC]}getAdServerSiteCode(){return this.ve[this.SID]}getDvApi(){return this.ve.dvapi}getAdServerCampaignCode(){return this.ve[this.CMP]}getBlockingPartnerCallbackName(){return this.ve.dvp_dcb}getIsPaOnlyTag(){return"1"==this.ve.paonlytag}getIsIplessSideBySideInjection(){return"1"==this.ve.ilsbsi}getGDPR(){return this.ve.gdpr}getGDPRConsent(){return this.ve.gdpr_consent}getGDPRAndGDPRConsentQueryStringPart(){const t=this.getGDPR(),e=this.getGDPRConsent();return[[c.TPSDataMapping.gdpr,t],[c.TPSDataMapping.gdpr_consent,e]].map((([t,e])=>`${t}=${encodeURIComponent(e||"")}`)).join("&")+"&"}getClientData(){return{ctx:this.getClientCode()||818052,cmp:this.getAdServerCampaignCode()||1619415,sid:this.getAdServerSiteCode()||0,plc:this.getPlacementId()||0}}getAdID(){return this.ve.dvp_gvacb||this.ve.adid}getBtreg(){return this.ve.btreg}getUserAgent(){return this.ve.useragent}getFindClass(){return"1"===this.ve.findclass}getIsVisitJsonFlowEnabled(){const t=this.ve.vjf;return"1"===t||"0"!==t&&null}getIsBlockingEnabled(){return"0"!==this.ve.blk}getIsMonitoringEnabled(){return"0"!==this.ve.mon}getVideoBlockingCallbackUrl(){return this.ve.blkntf}getPartnerContainerId(){return this.getValueOfTagAttribute("data-doubleverify-container")}getPartnerBlockingCallbackFnName(){return this.getValueOfTagAttribute("data-doubleverify-callback")}isDisplayGenXEnabled(){return null!=this.getValueOfTagAttribute("data-doubleverify-parameters")}getMeasurementApi(){return this.ve.msrapi}getAdServerId(){return this.ve[this.ADSRV]}getBtregOptimizationExperiment(){return this.ve.btroe}getBtadsrv(){return this.ve.btadsrv}getCustomTags(){return this.getArrayedParams("bttag","|")}getCustomAttributes(){return this.getArrayedParams("btattb","|")}isSellerTag(){return"1"===this.ve.seltag}pe(){return this.ve.seltagmals}getSupplySource(){return this.ve.sup}getVastUrl(){return this.ve.wrapperurl}getSellerAdSize(){const t={width:0,height:0},e=this.ve.unit;if(e){const i=e.toLowerCase().split("x");if(i[0]&&i[1])try{const e=parseInt(i[0]),n=parseInt(i[1]);isNaN(e)||isNaN(n)||(t.width=e,t.height=n)}catch(t){}}return t}extractParamString(){const t=this.getValueOfTagAttribute("data-doubleverify-parameters");if(this.isDisplayGenXEnabled()&&t)return t;const e=this.getDVScriptUrl(),i=/[?#&](.*)$/gi.exec(e);return void 0!==(null==i?void 0:i[1])?i[1]:""}saveExtractedParams(t){for(const e in t){const i=e.toLowerCase(),n=t[e];this.ve[i]=r.Utilities.isNullOrEmpty(this.ve[i])?n:this.ve[i],this.paramsCaseSensitive[e]=r.Utilities.isNullOrEmpty(this.paramsCaseSensitive[e])?n:this.paramsCaseSensitive[e]}}setDVParam(){const t=this.extractParamString(),e=this.extractParamsToObjFromStr(t);this.saveExtractedParams(e)}getDiagnosticReportedParams(){return this.DIAGNOSTIC_REPORTED_PARAMS}getArrayedParams(t,e){const i=this.ve[t];return(null==i?void 0:i.length)?i.split(e):[]}getBlockingInitPath(){return this.blockingInitPath}getBlockingErrorPath(){return this.blockingErrorPath}getBlockingEventPath(){return this.blockingEventPath}getBlockingServerPrefix(){return this.blockingServerPrefix}getServerPrefix(){return this.serverPrefix}setBlockingServerPrefix(t){this.blockingServerPrefix=t}setServerPrefix(t){this.serverPrefix=t}getInitPath(){return"js"===this.getDefaultInitType()?this.initJsPath:this.initJsonPath}getDefaultInitType(){return this.defaultInitType}getInitJsPath(){return this.initJsPath}getInitJsonPath(){return this.initJsonPath}getErrorPath(){return this.errorPath}getEventPath(){return this.eventPath}getValueOfTagAttribute(t){return(0,l.safeGetAttribute)(this.scriptElement,t)}resolveEventUrlPrefix(t){var e,i;const n="blocking"===(null===(i=null===(e=a.it.Qt().tags)||void 0===e?void 0:e[t])||void 0===i?void 0:i.type);return`${n?this.getBlockingServerPrefix():this.getServerPrefix()}${n?this.getBlockingEventPath():this.getEventPath()}`}setDvScriptUrl(){var t;try{const e=n.S.currentWindow().dvSrc?"dvtp_src_omid":"dvbm";if(o.omidAdapter.isSupported()&&o.omidAdapter.getVerificationParameters())return this.setOmidScript(e),void(this.paramUrlExtractionMethod=1);const i=a.it.getDvtpScriptUrl();if(i)return this.dvtpScriptUrl=i,void(this.paramUrlExtractionMethod=2);(null===(t=this.scriptElement)||void 0===t?void 0:t.src)&&(this.dvtpScriptUrl=this.scriptElement.src,this.paramUrlExtractionMethod=3)}catch(t){this.paramUrlExtractionMethod=4}}setDvScript(){try{if(o.omidAdapter.isSupported()&&o.omidAdapter.getVerificationParameters())return this.scriptElementExtractionMethod=h.ScriptElementExtractionMethodState.Omid,void(this.scriptElement={});let t=a.it.getTagScriptElem();if(this.scriptElementExtractionMethod=h.ScriptElementExtractionMethodState.ExtractFromTagData,!t){const e=`https://cdn.doubleverify.com/${n.S.currentWindow().dvSrc?"dvtp_src_omid":"dvbm"}.js?`,i=(0,l.getElementsByTagNameFromDocument)("script").filter((t=>0===t.src.indexOf(e))).filter((t=>1!=t.dvvisit));if(!i.length){this.scriptElementExtractionMethod=h.ScriptElementExtractionMethodState.NotFound;const t=new Error("scriptElement did not find"),e="string"==typeof t.stack&&Math.random()<=.1,i=Object.assign({ee_dp_isom:o.omidAdapter.isSupported()?"1":"0",ee_dp_omvpdef:o.omidAdapter.getVerificationParameters()?"1":"0"},{ee_dp_snf_tp:r.Utilities.serializeObjectToQueryString(a.it.getTagParams(),!0),ee_dp_snf_tu:a.it.getScriptUrl()}),n=e&&null!=t.stack?{ee_dp_errstk:encodeURIComponent(t.stack)}:{};return{clientErrorType:s.ClientErrorType.UnexpectedLostImpError,error:t,messagePrefix:"",extraQueryParams:Object.assign(Object.assign({},i),n)}}t=i[0],this.scriptElementExtractionMethod=h.ScriptElementExtractionMethodState.FoundInDom}this.scriptElement=t,this.scriptElement.dvvisit=1}catch(t){const e=(0,d.toError)(t);return e.message=`missing element ${e.message}`,{clientErrorType:s.ClientErrorType.DvTagArrangementError,error:e}}}handleOmidForWebVerificationParams(){let t=o.omidAdapter.getVerificationParameters(),e=this.extractParamsToObjFromStr(t);return e=this.manipulateOmidForWebParams(e),t=r.Utilities.serializeObjectToQueryString(e,!0),t}extractParamsToObjFromStr(t){const e={},i=/([^&#?]*)=([^&#?]*)/gi;let n=i.exec(t);for(;null!=n;){if(!r.Utilities.isNullOrEmpty(n[1])&&!r.Utilities.isNullOrEmpty(n[2])){const t=n[1].trim(),i=n[2].trim();t&&i&&(e[t]=i)}n=i.exec(t)}return e}manipulateOmidForWebParams(t){const e={};Object.keys(t).forEach((i=>{e[i.toLowerCase()]=t[i]}));const{ctx:i,cmp:n,plc:s,adsrv:r,sid:o}=e;return e[this.DIAGNOSTIC_PARAM_CTX]=i,e[this.DIAGNOSTIC_PARAM_CMP]=n,e[this.DIAGNOSTIC_PARAM_PLC]=s,e[this.DIAGNOSTIC_PARAM_ADSRV]=r,e[this.DIAGNOSTIC_PARAM_SID]=o,e[this.CTX]="818052",e[this.CMP]="DV517581",e[this.PLC]="20210517001",e[this.ADSRV]="0",e[this.SID]="OMIDWeb",Object.prototype.hasOwnProperty.call(e,this.DUP)&&(e[this.DIAGNOSTIC_PARAM_DUP]=e[this.DUP],delete e[this.DUP]),e}isParamManipulationRequired(){const t="web"===o.omidAdapter.getOmidScenarioType(),e=a.it.isOmid3p();return t&&e}setOmidScript(t){const e=this.isParamManipulationRequired()?this.handleOmidForWebVerificationParams():o.omidAdapter.getVerificationParameters();this.dvtpScriptUrl=`https://cdn.doubleverify.com/${t}.js#${e}`,this.scriptElement.src=this.dvtpScriptUrl}getAdSize(){const{unit:t}=this.ve;if(!t)return null;const[e,i]=t.toLowerCase().split("x");if(!e||!i)return null;try{const t=parseInt(e),n=parseInt(i);if(!isNaN(t)&&!isNaN(n))return{width:t,height:n}}catch(t){}return null}}e.he=h,h.ScriptElementExtractionMethodState={Omid:1,ExtractFromTagData:2,FoundInDom:3,NotFound:4},e.I=new h},3544:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.initialize=void 0;const n=i(3783),s=i(712),r=i(749),o=i(9349);e.initialize=t=>{const e=t.setDvScript();null!=e&&r.A.sendError(e.clientErrorType,e.error,e.messagePrefix,e.extraQueryParams),t.setDvScriptUrl(),t.getDVScriptUrl()||r.A.sendError(s.ClientErrorType.DvTagArrangementError,new Error("url is missing")),(t=>{try{t.setDVParam()}catch(t){r.A.sendError(s.ClientErrorType.DvTagArrangementError,(0,o.toError)(t))}})(t),(t=>{t.getDiagnosticReportedParams().forEach((([t,e])=>{const i=e();null!=i&&n.DiagnosticParamsReporterSingleton.reportOnce(t,i)}))})(t)}},5903:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Encoding=e.EncodingClass=void 0;class i{ROT47(t){return this.ROTn(t,"!\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~")}sha1hash(t){if(!t)return"";const e=[1518500249,1859775393,2400959708,3395469782],i=(t+=String.fromCharCode(128)).length/4+2,n=Math.ceil(i/16),s=new Array(n),r=new Array(80);let o,a,c,u,d,l=1732584193,h=4023233417,v=2562383102,p=271733878,f=3285377520;for(let e=0;e<n;e++){s[e]=new Array(16);for(let i=0;i<16;i++)s[e][i]=t.charCodeAt(64*e+4*i)<<24|t.charCodeAt(64*e+4*i+1)<<16|t.charCodeAt(64*e+4*i+2)<<8|t.charCodeAt(64*e+4*i+3)}s[n-1][14]=8*(t.length-1)/Math.pow(2,32),s[n-1][14]=Math.floor(s[n-1][14]),s[n-1][15]=8*(t.length-1)&4294967295;for(let t=0;t<n;t++){for(let e=0;e<16;e++)r[e]=s[t][e];for(let t=16;t<80;t++)r[t]=this.ROTL(r[t-3]^r[t-8]^r[t-14]^r[t-16],1);o=l,a=h,c=v,u=p,d=f;for(let t=0;t<80;t++){const i=Math.floor(t/20),n=this.ROTL(o,5)+this.f(i,a,c,u)+d+e[i]+r[t]&4294967295;d=u,u=c,c=this.ROTL(a,30),a=o,o=n}l=l+o&4294967295,h=h+a&4294967295,v=v+c&4294967295,p=p+u&4294967295,f=f+d&4294967295}return this.toHexStr(l)+this.toHexStr(h)+this.toHexStr(v)+this.toHexStr(p)+this.toHexStr(f)}f(t,e,i,n){switch(t){case 0:return e&i^~e&n;case 1:case 3:return e^i^n;case 2:return e&i^e&n^i&n}}ROTn(t,e){let i,n,s,r=String();const o=e.length;for(i=0;i<t.length;i++)s=t.charAt(i),n=e.indexOf(s),n>=0&&(s=e.charAt((n+o/2)%o)),r+=s;return r}ROTL(t,e){return t<<e|t>>>32-e}toHexStr(t){let e,i="";for(let n=7;n>=0;n--)e=t>>>4*n&15,i+=e.toString(16);return i}}e.EncodingClass=i,e.Encoding=new i},712:function(t,e){var i,n;Object.defineProperty(e,"__esModule",{value:!0}),e.ClientErrorType=e.Browser=e.ViewabilityCalculationTypes=e.LocatorPriority=e.D=e.LocatorMethods=void 0,e.LocatorMethods={None:0,DisplayIntegratedCeltra:1,DisplayDFA:2,DisplayFindClass:4,DefaultInApp:8,DisplayMediaPlex:16,DisplayParentWindow:32,DisplayRegex:64,DisplayNearestAd:128,DisplayIframeFallback:256,VideoInAppHtml5:1024,VideoNonInAppVpaid:2048,VideoInAppVpaid:4096,DisplaySellerTag:8192,VideoInAppInmobi:32768,DisplayNonIntegratedCeltra:65536,CustomDisplayMediaPlex:131072,CustomDisplayRegex:262144,CustomDisplaySellerTag:524288,DisplayGenX:1048576,ByReference:2097152},function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.CUSTOM=1]="CUSTOM",t[t.DFA=2]="DFA",t[t.IN_APP_DEFAULT=8]="IN_APP_DEFAULT",t[t.MARKED=16]="MARKED",t[t.NEAREST_AD=128]="NEAREST_AD",t[t.DISPLAY_IFRAME_FALLBACK=256]="DISPLAY_IFRAME_FALLBACK",t[t.VPAID=2048]="VPAID",t[t.OMID=16384]="OMID",t[t.DisplayGenX=1048576]="DisplayGenX",t[t.BY_REFERENCE=2097152]="BY_REFERENCE",t[t.GAM=4194304]="GAM"}(i||(e.D=i={})),e.LocatorPriority={None:0,DisplayGenX:4e5,DisplaySellerTag:1e5,CustomDisplaySellerTag:1e5,DisplayIntegratedCeltra:9e3,DisplayMediaPlex:1e4,CustomDisplayMediaPlex:1e4,DisplayRegex:1e3,CustomDisplayRegex:1e3,DisplayFindClass:1e3,DisplayParentWindow:900,DisplayDFA:250,DisplayNonIntegratedCeltra:120,DisplayNearestAd:100,DisplayIframeFallback:1,ByReference:0,DefaultInApp:11e3,VideoNonInAppVpaid:1,VideoInAppHtml5:100,VideoInAppVpaid:200,VideoInAppInmobi:1e4},e.ViewabilityCalculationTypes={Unknown:0,Geometric:1,ResourceBased:2,SafeFrameGeometric:8,SafeFramePercentage:16,AmpIntersectionObserver:32,ScreenGeometric:64,Mraid:128,IntersectionObserver:512,Omid:1024,AdColonyMraid:2048,Mraid3:4096,AllScenarioIntersectionObserver:8192},function(t){t[t.IE=1]="IE",t[t.Firefox=2]="Firefox",t[t.Chrome=3]="Chrome",t[t.Opera=4]="Opera",t[t.Safari=5]="Safari",t[t.ChromeWebView=6]="ChromeWebView",t[t.SafariWebView=7]="SafariWebView",t[t.PuppeteerExtraStealth=96]="PuppeteerExtraStealth",t[t.PuppeteerVanilla=97]="PuppeteerVanilla",t[t.Selenium=98]="Selenium",t[t.PhantomJS=99]="PhantomJS",t[t.Unknown=0]="Unknown"}(n||(e.Browser=n={})),e.ClientErrorType={InjectTagError:{id:1,message:"InjectTagError",isLostImpression:!0},LoadTagError:{id:2,message:"LoadTagError",isLostImpression:!0},UnexpectedLostImpError:{id:4,message:"UnexpectedLostImpError",isLostImpression:!0},OmidSessionError:{id:8,message:"OmidSessionError",isLostImpression:!0},OmidUnexpectedLostImpError:{id:16,message:"OmidUnexpectedLostImpError",isLostImpression:!0},OmidLoadTagError:{id:32,message:"OmidLoadTagError",isLostImpression:!0},OmidInjectTagError:{id:64,message:"OmidInjectTagError",isLostImpression:!0},UnexpectedError:{id:128,message:"UnexpectedError",isLostImpression:!1},OmidUnexpectedError:{id:256,message:"OmidUnexpectedError",isLostImpression:!1},AsynchronousTaskError:{id:512,message:"AsynchronousTaskError",isLostImpression:!1},VisitLogicError:{id:1024,message:"VisitLogicError",isLostImpression:!0},VisitResponseError:{id:2048,message:"VisitResponseError",isLostImpression:!0},VisitRequestError:{id:4096,message:"VisitRequestError",isLostImpression:!0},DomlessEnvError:{id:8192,message:"DomlessEnvError",isLostImpression:!0},DisplayGenXBlockingCallbackError:{id:16384,message:"DisplayGenXBlockingCallbackError",isLostImpression:!1},InvalidVisitResponseError:{id:32768,message:"InvalidVisitResponseError",isLostImpression:!0},TagExtensionExecutionError:{id:65536,message:"TagExtensionError",isLostImpression:!1},ImpressionIdMisalignment:{id:1<<17,message:"ImpressionIdMisalignment",isLostImpression:!1},FailedToSendEvent:{id:1<<19,message:"FailedToSendEvent",isLostImpression:!1},DvTagArrangementError:{id:1<<20,message:"DvTagArrangementError",isLostImpression:!1},AdLocationError:{id:1<<21,message:"AdLocationError",isLostImpression:!1},MeasurementError:{id:1<<22,message:"MeasurementError",isLostImpression:!1},TPSDataCollectorError:{id:1<<23,message:"TPSDataCollectorError",isLostImpression:!1},PostMeasuredGlobalMainError:{id:1<<24,message:"PostMeasuredGlobalMainError",isLostImpression:!1},TagCommunicationError:{id:1<<25,message:"TagCommunicationError",isLostImpression:!1},PreMeasuredGlobalMainError:{id:1<<26,message:"PreMeasuredGlobalMainError",isLostImpression:!0},OmidNoSessionStart:{id:1<<27,message:"OmidNoSessionStart",isLostImpression:!0},FailObserverLongTasks:{id:1<<28,message:"FailObserveLongTasks",isLostImpression:!1},OmidInvalidInjection:{id:1<<29,message:"OmidInvalidInjection",isLostImpression:!0},TagServiceError:{id:1<<30,message:"TagServiceError",isLostImpression:!1}}},7360:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.Jt=e.u=e.fe=e.DvEvents=void 0;const n=i(3868),s=i(749),r=i(194),o=i(712);e.DvEvents={impressionServed:"ImpressionServed",adSelected:"0",adDestroy:"1",adCandidateApproved:"2",bestAdCandidateChanged:"3",C:"4",reportData:"5",viewabilityIntervalData:"6",boundariesViewabilityIntervalData:"7",exposureData:"8",adLocationTry:"9",adCandidateLocated:"10",omidClickData:"11",focusData:"12",strictFocusData:"13",abandonData:"14",unloadData:"15",adSizeData:"16",firstClickOnAdElementData:"17",firstHoverData:"18",pauseData:"19",resumeData:"20",skipData:"21",firstTouchData:"22",volumeData:"23",stopData:"24",firstFocusIntoAdElementData:"25",adImpressionData:"26",adVideoMidpointData:"27",adVideoStartData:"28",adVideoFirstQuartileData:"29",adVideoThirdQuartileData:"30",adVideoCompleteData:"31",delayAdSelection:"32",rtsEventData:"33",omidAdSizeData:"34",videoLoadedData:"35",videoStartPlaying:"36",mraidDefaultStateData:"37",htmlRenderedData:"38",adRenderedData:"39",globalUnloadData:"40",rt:"41",globalKeyPressData:"42",globalMouseMoveData:"43",globalOrientationChangeData:"45",keyPressData:"46",mouseMoveData:"47",orientationChangePortraitData:"49",orientationchangeLandscapeData:"50",skippableData:"51",adSizeChangedData:"52",pageHideEventPersisted:"53",pageHideEventNonPersisted:"54",performanceData:"55",performanceLongTasks:"56",performanceTaskTiming:"57",tempFirstKeyPressData:"59",keyPressMeasured:"60",tempFirstMouseMoveData:"61",mouseMoveMeasured:"62",tempOrientationChangePortraitData:"63",tempOrientationChangeLandscapeData:"64",orientationChangeMeasured:"65",adSizeMeasured:"66",clickMeasured:"68",scrollMeasured:"69",beginToRender:"70",beginToPlay:"71",adSessionEnd:"72",omidInvitationAcceptData:"73",omidCustomInteractionData:"74",firstClickOnDescendantIframe:"75",firstTouchOnDescendantIframe:"76",firstClickOnDeepDescendantIframe:"77",firstTouchOnDeepDescendantIframe:"78",secondaryViewabilityIntervalData:"79",secondaryExposureData:"80"};class a{constructor(){this.renderedImpressions={},this.markRenderedImpressions={},this.frameIds={},this.subscribersCallbacks={},this.previousEvents={},this.preRenderEvents={},this.subscriptionId=1,this.dispatchedCount={},this.eventStatusTable={},Object.values(e.DvEvents).forEach((t=>{this.eventStatusTable[t]=0})),this.frameId=r.it.getFrameId(n.S.currentWindow()),this.previousEventsCapacity=1e3,this.excludeFrameId(this.frameId)}excludeFrameId(t){this.frameIds[t]||(this.frameIds[t]=!0,this.addEventListener(e.DvEvents.adRenderedData,this.updateRenderedAd.bind(this),"excludeFrame",t))}addEventListener(t,e,i="",n=this.frameId){const s=this.addEventsListener({[t]:e},i,n);if(s&&s.length>0)return s[0]}addEventsListener(t,e="",i=this.frameId){const n=[];return this.mapToWrapperFunction(t),this.fireMultiplePreviousEvents(t,i),Object.keys(t).forEach((s=>{const r=t[s],o=this.subscribe(s,i,e,r);n.push(o)})),n}removeEventListener(t,e=this.frameId){this.subscribersCallbacks[e]&&Object.keys(this.subscribersCallbacks[e]).forEach((i=>{this.subscribersCallbacks[e][i]=this.subscribersCallbacks[e][i].filter((e=>e.subscriptionId!=t))}))}removeEventsListener(t,e=this.frameId){t.forEach((t=>{this.removeEventListener(t,e)}))}dispatchEvent(t,e){0==this.eventStatusTable[t]&&(this.eventStatusTable[t]=1),2==this.eventStatusTable[t]&&(this.eventStatusTable[t]=3),this.dispatchedCount[t]=this.dispatchedCount[t]?this.dispatchedCount[t]+1:1,this.publishEvents(this.frameId,t,e)}subscribe(t,e,i,n){var s,r;if("function"==typeof n&&void 0!==t&&""!=t)return 0==this.eventStatusTable[t]&&(this.eventStatusTable[t]=2),1==this.eventStatusTable[t]&&(this.eventStatusTable[t]=3),this.subscriptionId++,(s=this.subscribersCallbacks)[e]||(s[e]={}),(r=this.subscribersCallbacks[e])[t]||(r[t]=[]),this.subscribersCallbacks[e][t].push({func:n,subscriptionId:this.subscriptionId,actionName:i}),this.subscriptionId}publish(t,e,i){t&&e&&(this.frameIds[e]||this.renderedImpressions[e]?(this.renderedImpressions[e]&&!this.markRenderedImpressions[e]&&(this.markRenderedImpressions[e]=!0),this.publishHistoryRtnEvent(e),this.publishEvents(e,t,i)):this.storeToPreRenderEvent(e,t,i))}publishHistoryRtnEvent(t){const e=this.preRenderEvents[t];e&&Object.keys(e).forEach((i=>{e[i].forEach((e=>{this.publishEvents(t,i,e)}))})),this.preRenderEvents[t]={}}getTopDispatchedEvents(t=Object.keys(this.dispatchedCount).length){return Object.entries(this.dispatchedCount).sort(((t,e)=>e[1]-t[1])).slice(0,t)}getDispatchedByStatus(t){return Object.entries(this.eventStatusTable).filter((([e,i])=>i==t)).map((([t,e])=>t))}updateRenderedAd(t){const{uid:e}=t;e&&(this.renderedImpressions[e]=!0,this.publishHistoryRtnEvent(e))}publishEvents(t,e,i){var n;this.storeToPreviousEvents(t,e,i),(null===(n=this.subscribersCallbacks[t])||void 0===n?void 0:n[e])&&this.subscribersCallbacks[t][e].forEach((n=>{this.runSafely(n.func,i,t,e,n.actionName)}))}mapToWrapperFunction(t){Object.keys(t).forEach((e=>{const i=t[e];e&&"function"==typeof i?t[e]=(t,e)=>{i(e)}:delete t[e]}))}storeToPreRenderEvent(t,e,i){var n,s;(n=this.preRenderEvents)[t]||(n[t]={}),(s=this.preRenderEvents[t])[e]||(s[e]=[]),this.preRenderEvents[t][e].push(i)}storeToPreviousEvents(t,e,i){var n,s;(n=this.previousEvents)[t]||(n[t]={}),(s=this.previousEvents[t])[e]||(s[e]=[]),this.previousEvents[t][e].length<this.previousEventsCapacity&&this.previousEvents[t][e].push(i)}fireMultiplePreviousEvents(t,e){if(!this.previousEvents[e])return;const i=Object.keys(t).reduce(((i,n)=>{const s=t[n];return(this.previousEvents[e][n]||[]).forEach((t=>i.push({callback:s,data:t}))),i}),[]).sort(((t,e)=>t.data.updateTime-e.data.updateTime));for(const t of i)this.runSafely(t.callback,t.data,e)}runSafely(t,e,i,n="",r=""){try{t(i,e)}catch(t){s.A.sendError(o.ClientErrorType.MeasurementError,t,`EBus ${n} ${r}`)}}}e.fe=a,e.u=new a,e.Jt=$dv.pubSub?$dv.pubSub:new a},102:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.BooleanFeatureFlag=e.BooleanFeatureOptionId=void 0;const n=i(2946),s=i(3783);var r;!function(t){t.ENABLED="1",t.DISABLED="0"}(r||(e.BooleanFeatureOptionId=r={}));class o extends n.FeatureFlag{constructor(t,e,i,n=(()=>null)){super(t,e,i,n)}isEnabled(){return this.status===r.ENABLED}reportDiagnosticParam(){this.isEnabled()&&s.DiagnosticParamsReporterSingleton.reportDiagnosticParam(this.diagnosticParamName,this.status)}parseOverride(t){return t===r.ENABLED?r.ENABLED:t===r.DISABLED?r.DISABLED:null}}e.BooleanFeatureFlag=o},5309:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.experiments=e.fullDiagnosticsPayloadFeatureFlag=e.FullDiagnosticsPayloadFeatureFlag=e.descendantIframeClickHandlersExperiment=e.DescendantIframeClickHandlersExperiment=e.deterministicByReferenceAdLocationExperiment=e.DeterministicByReferenceAdLocationExperiment=e.deterministicDisplayGenXAdLocationExperiment=e.DeterministicDisplayGenXLocationExperiment=e.deterministicVpaidAdLocationExperiment=e.DeterministicVpaidAdLocationExperiment=e.improvedFallbacksAdLocationExperiment=e.ImprovedFallbacksAdLocationExperiment=e.deterministicMarkedAdLocationExperiment=e.MarkedAdLocationExperiment=e.biggestNestedChildElementExperiment=e.BiggestNestedChildElementExperiment=void 0;const n=i(8170),s=i(7749),r=i(102);class o extends r.BooleanFeatureFlag{constructor(){super("BiggestNestedChildElement",[{percentage:100,optionName:r.BooleanFeatureOptionId.ENABLED}],n.DiagnosticParams.biggestNestedChildElementExperiment)}}e.BiggestNestedChildElementExperiment=o,e.biggestNestedChildElementExperiment=new o;class a extends r.BooleanFeatureFlag{constructor(){super("MarkedAdLocation",[{percentage:5,optionName:r.BooleanFeatureOptionId.ENABLED},{percentage:95,optionName:r.BooleanFeatureOptionId.DISABLED}],n.DiagnosticParams.me)}}e.MarkedAdLocationExperiment=a,e.deterministicMarkedAdLocationExperiment=new a;class c extends r.BooleanFeatureFlag{constructor(){super("NewFallbackAdLocation",[{percentage:.01,optionName:r.BooleanFeatureOptionId.ENABLED},{percentage:99.99,optionName:r.BooleanFeatureOptionId.DISABLED}],n.DiagnosticParams.improvedFallbacksAdLocationExperiment)}}e.ImprovedFallbacksAdLocationExperiment=c,e.improvedFallbacksAdLocationExperiment=new c;class u extends r.BooleanFeatureFlag{constructor(){super("DeterministicVpaidAdLocation",[{percentage:100,optionName:r.BooleanFeatureOptionId.ENABLED}],n.DiagnosticParams.ge)}}e.DeterministicVpaidAdLocationExperiment=u,e.deterministicVpaidAdLocationExperiment=new u;class d extends r.BooleanFeatureFlag{constructor(){super("DeterministicDisplayGenXAdLocation",[{percentage:1,optionName:r.BooleanFeatureOptionId.ENABLED},{percentage:99,optionName:r.BooleanFeatureOptionId.DISABLED}],n.DiagnosticParams.be)}}e.DeterministicDisplayGenXLocationExperiment=d,e.deterministicDisplayGenXAdLocationExperiment=new d;class l extends r.BooleanFeatureFlag{constructor(){super("DeterministicByReferenceAdLocation",[{percentage:50,optionName:r.BooleanFeatureOptionId.ENABLED},{percentage:50,optionName:r.BooleanFeatureOptionId.DISABLED}],n.DiagnosticParams.we)}}e.DeterministicByReferenceAdLocationExperiment=l,e.deterministicByReferenceAdLocationExperiment=new l;class h extends r.BooleanFeatureFlag{constructor(){super("DescendantIframeClickHandlers",[{percentage:100,optionName:r.BooleanFeatureOptionId.DISABLED}],n.DiagnosticParams.descendantIframeClickHandlers,(()=>s.I.getParamValue(n.DiagnosticParams.descendantIframeClickHandlers)))}}e.DescendantIframeClickHandlersExperiment=h,e.descendantIframeClickHandlersExperiment=new h;class v extends r.BooleanFeatureFlag{constructor(){super("FullDiagnosticsPayload",[{percentage:1,optionName:r.BooleanFeatureOptionId.ENABLED},{percentage:99,optionName:r.BooleanFeatureOptionId.DISABLED}],void 0)}}e.FullDiagnosticsPayloadFeatureFlag=v,e.fullDiagnosticsPayloadFeatureFlag=new v,e.experiments=[e.biggestNestedChildElementExperiment,e.deterministicMarkedAdLocationExperiment,e.deterministicByReferenceAdLocationExperiment,e.deterministicVpaidAdLocationExperiment,e.deterministicDisplayGenXAdLocationExperiment,e.descendantIframeClickHandlersExperiment,e.fullDiagnosticsPayloadFeatureFlag]},2946:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.FeatureFlag=void 0;const n=i(712),s=i(749),r=i(3832);e.FeatureFlag=class{constructor(t,e,i,n=(()=>null)){this.name=t,this.distribution=e,this.diagnosticParamName=i,this.statusOverride=n,this.isStatusAssigned=!1,this.status=null}init(){this.isStatusAssigned||((0,r.isValidDistribution)(this.distribution)?(this.decideStatus(),this.isStatusAssigned=!0,this.reportDiagnosticParam()):s.A.sendError(n.ClientErrorType.UnexpectedError,new Error(`Invalid distribution for the ${this.name} experiment`)))}decideStatus(){const t=this.statusOverride(),e=this.parseOverride(t);this.status=null!=e?e:(0,r.randomlySelectFromDistribution)(this.distribution)}getStatus(){return this.status}}},4713:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.initializeExperiments=void 0;const n=i(5309);let s=!1;e.initializeExperiments=(t=!1)=>{s&&!t||(s=!0,n.experiments.forEach((t=>{t.init()})))}},6987:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.detectImpressionIdMisalignment=void 0;const n=i(194),s=i(749),r=i(712),o=i(8170);e.detectImpressionIdMisalignment=function(t){const e=n.it.getSavedImpressionId();((t,e)=>!!t&&t!==e)(e,t)&&s.A.sendError(r.ClientErrorType.ImpressionIdMisalignment,null,"",{[(0,o.getDiagnosticQueryParamName)(o.DiagnosticParams._e)]:e,[(0,o.getDiagnosticQueryParamName)(o.DiagnosticParams.misalignmentImpressionId)]:t})}},8426:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.InmobiWrapper=e.InmobiWrapperClass=void 0;const n=i(3868);class s{isSupported(){if(void 0!==n.S.workingWindow().inmobi&&void 0!==n.S.workingWindow().inmobi.InMobiVideoEventsBuffer)return this.inmobiApiObj=n.S.workingWindow().inmobi,!0}addEventListenerWithHistory(t){this.isSupported()&&this.inmobiApiObj.InMobiVideoEventsBuffer.addVideoEventListener(t)}}e.InmobiWrapperClass=s,e.InmobiWrapper=new s},749:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.A=e.ye=e.DEFAULT_EVENT_CONSOLIDATION_TIMEOUT=void 0;const n=i(194),s=i(3868),r=i(425),o=i(7658),a=i(3380),c=i(712),u=i(4970),d=i(3946),l=i(870),h=i(7429),v=i(7749),p=i(8170),f=i(1080);e.DEFAULT_EVENT_CONSOLIDATION_TIMEOUT=3e3;class m{constructor(){this.waitingMessages={},this.reportedErrors={},this.messageDataObject={},this.START_INTERVAL_INITIAL_VALUE=10,this.isFirstEventFired=!1,this.frequentlySentEventData={}}sendMessage(t,e={isImportantMessage:!1,noConsolidation:!1}){const i={isImportantMessage:"boolean"==typeof e?e:e.isImportantMessage,noConsolidation:"boolean"!=typeof e&&e.noConsolidation};this.impressionId||(this.impressionId=n.it.getImpressionId(s.S.currentWindow())),a.Utilities.extend(t,this.waitingMessages),this.isImportantMessage||(this.isImportantMessage=i.isImportantMessage),i.noConsolidation?this.sendWaitingMessages(!1):this.sendWaitingMessages()}appendTagUniqueKey(t){const e=n.it.getTagUniqueKey();e&&(t.dvp_tukv=e)}sendMeasurementError(t,e,i=null){const s={ishems:a.Utilities.getTimeDiff(),napr:e,cerrt:t.id,jsver:a.Utilities.getVersion(),tgjsver:n.it.getDvtpScriptVersion()};a.Utilities.extend(i,s),this.sendMessage(s)}appendIsOmid(t){l.omidAdapter.isSupported()&&(t.dvp_iomd=1)}sendErrorSignal(t,e,i=null){const c=v.I.getServerPrefix(),d=v.I.getErrorPath(),l={ctx:818052,cmp:1619415,jsver:a.Utilities.getVersion(),tgjsver:n.it.getDvtpScriptVersion(),napr:e,cerrt:t.id};t.isLostImpression&&(l.dvp_isLostImp=1);try{l[o.TPSDataMapping.trafficScenarioType]=s.S.getScenarioType(),l[o.TPSDataMapping.tagtype]=v.I.getTagType(),l[o.TPSDataMapping.tagVersion]=v.I.getTagVersion(),l[o.TPSDataMapping.supportedIntegrations]=(0,f.getSupportedIntegrationsBitwise)(),l[(0,p.getDiagnosticQueryParamName)(p.DiagnosticParams.adIdentityAdServer)]=v.I.getAdServerId()}catch(t){}l[o.TPSDataMapping.flavor]="1",this.appendIsOmid(l),this.appendTagUniqueKey(l),a.Utilities.extend(this.getClientDataString(),l),a.Utilities.extend(this.getExperimentIndicators(),l),a.Utilities.extend(i,l);const h=`${c}${d}?${v.I.getGDPRAndGDPRConsentQueryStringPart()}${a.Utilities.serializeObjectToQueryString(l,!1)}`;r.W.sendBeacon(h.trim(),!0),(0,u.sendS2SPartnerTelemetryEvent)({type:"RuntimeError"})}getClientDataString(){const t=v.I.getClientData();return{ee_dp_ctx:t.ctx,ee_dp_cmp:t.cmp,ee_dp_sid:t.sid,ee_dp_plc:t.plc}}getExperimentIndicators(){return s.S.isDomlessEnvironment()?{[(0,p.getDiagnosticQueryParamName)(p.DiagnosticParams.visitJsonExperimentGroup)]:"2"}:{}}sendError(t,e=null,i="",n={}){if(!Object.prototype.hasOwnProperty.call(this.reportedErrors,t.id)){this.reportedErrors[t.id]=1;const s=t.isLostImpression||a.Utilities.isPercentageCriteriaPassed(10),r=this.getJsErrorString(t,e,i,s);t.isLostImpression||t==c.ClientErrorType.FailedToSendEvent?this.sendErrorSignal(t,r,n):this.sendMeasurementError(t,r,n)}}registerEventCall(t,e,i=!0,n){a.Utilities.getTimeDiff()>12e5||(n=this.getEventConsolidationTimeout(n),e.eoid=h.EventIdGeneratorAdaptor.getNext(),this.consolidateMessageData(t,e),this.afterUnload||!i||isNaN(n)?this.sendDataToServer(t):r.W.getTaskManager().setTimeout((()=>{this.sendDataToServer(t)}),n))}getEventConsolidationTimeout(t){const i=t||e.DEFAULT_EVENT_CONSOLIDATION_TIMEOUT;return this.restrictTimeoutMax?Math.min(i,this.restrictTimeoutMax):i}sendWaitingMessages(t=!0,e){a.Utilities.isEmpty(this.waitingMessages)||(this.impressionId?(!this.isImportantMessage&&n.it.getFireOnlyImportantEvents()||this.registerEventCall(this.impressionId,this.waitingMessages,t,e),this.isImportantMessage=!1,this.waitingMessages={}):a.Utilities.getVisitTimeDiff()>4e3&&this.sendError(c.ClientErrorType.FailedToSendEvent,void 0,"ImpressionID is missing"))}firePreviousEvents(){this.impressionId=n.it.getImpressionId(s.S.currentWindow());const t=this.getIntervalAndSetMaxTimeout();this.sendWaitingMessages(!0,t)}getIntervalAndSetMaxTimeout(t=this.START_INTERVAL_INITIAL_VALUE){return!n.it.isMobile()||d.BrowserDetector.getBrowserId()!=c.Browser.Safari&&d.BrowserDetector.getBrowserId()!=c.Browser.SafariWebView||(this.restrictTimeoutMax=t=1e3),l.omidAdapter.isSupported()&&(this.restrictTimeoutMax=500),t}consolidateMessageData(t,e){var i;(i=this.messageDataObject)[t]||(i[t]={}),a.Utilities.extend(e,this.messageDataObject[t])}createEventCallUrl(t,e,i=!1){void 0===this.doubleTagImp&&(this.doubleTagImp=n.it.getDoubleTagImpressionID()||"");const s=this.doubleTagImp?"dup="+this.doubleTagImp+"&":"";return v.I.resolveEventUrlPrefix(t)+`?impid=${t}&`+s+"flavor=1&"+v.I.getGDPRAndGDPRConsentQueryStringPart()+a.Utilities.serializeObjectToQueryString(e,i)}sendDataToServer(t){try{const e=this.messageDataObject[t];if(!a.Utilities.isEmpty(e)){let i=this.createEventCallUrl(t,this.messageDataObject[t],!0);this.isFirstEventFired||(i+=`&${o.TPSDataMapping.timeToFirstUpdateReportMs}=${a.Utilities.getCurrentTime()-a.Utilities.getScriptLoadedMS()}`,this.isFirstEventFired=!0),this.afterUnload&&(i+=`&${o.TPSDataMapping.totalMeasurementExecTime}=${a.Utilities.getCurrentTime()-a.Utilities.getScriptLoadedMS()}`);i.includes("event.png")&&this.updateEventDataFrequencyCounter(e),r.W.sendBeacon(i),this.messageDataObject[t]=null}}catch(t){}}updateEventDataFrequencyCounter(t){var e,i;for(const n of Object.keys(t))null!==(e=(i=this.frequentlySentEventData)[n])&&void 0!==e||(i[n]=0),this.frequentlySentEventData[n]++}getJsErrorString(t,e=null,i="",n=!1){let s;let r=t.message+"__";i&&i.length>0&&(r+=i+"__"),e&&(r+=": "+(e.message||""),n&&e.stack&&(r+=e.stack.split("\n").map((t=>t.replace(/\(.*\)/,""))).join(""))),r=r.replace(/\n/g,"").replace(/\r/g,"").replace(/\t/g,"").replace(/\|/g,"");try{r=r.slice(0,400),s=encodeURIComponent(r)}catch(t){}return s}handleUnload(){this.afterUnload=!0,Object.keys(this.messageDataObject).forEach(((t,e)=>{this.sendDataToServer(t)}))}}e.ye=m,e.A=new m},6975:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.initialize=void 0;const n=i(7360);e.initialize=t=>{n.u.addEventListener(n.DvEvents.impressionServed,(()=>{t.firePreviousEvents()}),"MessageHandler"),n.u.addEventListener(n.DvEvents.globalUnloadData,t.handleUnload.bind(t))}},7323:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.MraidObject=void 0;e.MraidObject=new class{isSupported(){return!!this.mraidObject}get(){return this.mraidObject}set(t){this.mraidObject=t}getIntegrationType(){return 2}}},6681:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.MraidWrapper=e.MraidWrapperClass=void 0;const n=i(3868),s=i(749),r=i(7360),o=i(9450),a=i(363),c=i(3380),u=i(7323),d=i(425);class l{constructor(){this.isMraidReady=!1,this.readyState=!1,this.maxIterations=20,this.errorReported=!1;const t=n.S.workingWindow();this.setMraid(t),u.MraidObject.get()&&this.readyCheck()}getReadyState(){return this.readyState}isOperaMedia(){return"AdMarvel"==this.runMraidFunctionSafely("getVendor")}isAdColony(){const t=this.runMraidFunctionSafely("getVendor");return t&&"string"==typeof t&&"adcolony"==t.toLowerCase()}getIsMraidReady(){return this.isMraidReady||this.updateIsMraidReady()}isSupported(){return!!u.MraidObject.isSupported()}runMraidFunctionSafely(t){try{return u.MraidObject.get()[t]()}catch(t){}}runMraidRegisterSafely(t,e){try{e.toString=()=>"func"+a.RandomUtils.getRandom16(),u.MraidObject.get().addEventListener(t,e)}catch(t){}}setMraid(t){u.MraidObject.set(n.S.objectLookup(t,"mraid",this.maxIterations))}reportMraidLookup(t){n.S.isDomlessEnvironment()||(s.A.sendMessage({dvp_mrdms:c.Utilities.getCurrentTime()}),u.MraidObject.get()||null==n.S.workingDocument().readyState||"complete"==n.S.workingDocument().readyState||d.W.addEventListener("load",(e=>{n.S.objectLookup(t,"mraid",this.maxIterations)&&s.A.sendMessage({dvp_mrdfnd:1})}),t))}getMraid(){return u.MraidObject.get()}reportEnvironmentDetails(){this.mraidEnvObjectCache||(this.mraidEnvObjectCache=n.S.objectLookup(n.S.currentWindow(),"MRAID_ENV",this.maxIterations)),this.mraidEnvObjectCache&&s.A.sendMessage({dvp_mrdsdk:this.mraidEnvObjectCache.sdk,dvp_mrdsdkv:this.mraidEnvObjectCache.sdkVersion,dvp_mrdv:this.mraidEnvObjectCache.version,dvp_mrdapid:this.mraidEnvObjectCache.appId})}getAdViewablePercentage(){const t=this.runMraidFunctionSafely("isViewable");return null==t?null:t?100:0}readyCheck(){"loading"==this.runMraidFunctionSafely("getState")?this.runMraidRegisterSafely("ready",this.readyCallback.bind(this)):this.readyCallback(),this.runMraidRegisterSafely("stateChange",this.updateIsMraidReady.bind(this))}setReadyState(){this.readyState=!0,r.u.dispatchEvent(r.DvEvents.mraidDefaultStateData,new o.EventData),s.A.sendMessage({dvp_mrstt:1})}readyCallback(){this.setReadyState(),this.updateIsMraidReady(),this.registerToMraidErrorEvent()}updateIsMraidReady(){if(this.isMraidReady)return this.isMraidReady;const t=this.runMraidFunctionSafely("isViewable");return("default"==this.runMraidFunctionSafely("getState")||t)&&(this.isMraidReady=!0,this.readyState||this.setReadyState()),this.isMraidReady}registerToMraidErrorEvent(){this.runMraidRegisterSafely("error",((t,e)=>{this.errorReported||(s.A.sendMessage({dvp_mrwer:"MraidWrapper:"+e+":"+t.substring(0,60)}),this.errorReported=!0)}))}}e.MraidWrapperClass=l,e.MraidWrapper=new l},870:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.omidAdapter=e.OmidAdapter=void 0;const n=i(630);class s{constructor(){this.omidDefaultVendorKey="doubleverify.com-omid"}init(t,e,i,n){this.omidJsClient=t,this.omidSessionData=e,this.omidVendorKey=i||this.omidDefaultVendorKey,this.isOmidEnabled=n}isSupported(){var t;return(null===(t=this.omidJsClient)||void 0===t?void 0:t.isSupported())&&this.isOmidEnabled}getIntegrationType(){var t;const e=this.getOmidContext();return"web"===(null===(t=null==e?void 0:e.environment)||void 0===t?void 0:t.toLowerCase())?8:4}getSessionData(){return this.omidSessionData}addEventListener(t,e){if(this.omidJsClient)return this.omidJsClient.addEventListener(t,e)}registerSessionObserver(t){if(this.omidJsClient)return this.omidJsClient.registerSessionObserver(t,this.omidVendorKey)}setTimeout(t,e){if(this.omidJsClient)return this.omidJsClient.setTimeout(t,e)}clearTimeout(t){var e,i;null===(i=null===(e=this.omidJsClient)||void 0===e?void 0:e.clearTimeout)||void 0===i||i.call(e,t)}setInterval(t,e){if(this.omidJsClient)return this.omidJsClient.setInterval(t,e)}clearInterval(t){var e,i;null===(i=null===(e=this.omidJsClient)||void 0===e?void 0:e.clearInterval)||void 0===i||i.call(e,t)}getVerificationParameters(){let t;const e=this.getSessionData();return(null==e?void 0:e.data)&&(t=e.data.verificationParameters),t}sendUrl(t){var e,i;null===(i=null===(e=this.omidJsClient)||void 0===e?void 0:e.sendUrl)||void 0===i||i.call(e,t)}injectJavaScriptResource(t,e=(()=>{}),i=(()=>{})){this.omidJsClient&&this.omidJsClient.injectJavaScriptResource(t,e,i)}getOmidNativePartnerName(){var t;let e;const i=this.getOmidContext();return(null===(t=null==i?void 0:i.omidNativeInfo)||void 0===t?void 0:t.partnerName)&&(e=i.omidNativeInfo.partnerName),e}getOmidJSPartnerName(){var t,e;return null===(e=null===(t=this.getOmidContext())||void 0===t?void 0:t.omidJsInfo)||void 0===e?void 0:e.partnerName}getOmidVendorKeyIndex(t){if(t)return t.replace(this.omidDefaultVendorKey,"")||"0"}getOmidContext(){const t=this.getSessionData()&&this.getSessionData().data;let e;return(null==t?void 0:t.context)&&(e=t.context),e}getOmidScenarioType(){const t=this.getOmidContext();return null==t?void 0:t.environment}getOmidAccessMode(){var t,e;return null!==(e=null===(t=this.getOmidContext())||void 0===t?void 0:t.accessMode)&&void 0!==e?e:null}getOmidAccessModeNumber(t){return new Map([[n.OmidAccessModeString.FULL,1],[n.OmidAccessModeString.DOMAIN,2],[n.OmidAccessModeString.LIMITED,3]]).get(t)}}e.OmidAdapter=s,e.omidAdapter=new s},6671:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.OmidVerificationClientWrapper=void 0;const n=i(194),s=i(712),r=i(749),o=i(3380),a=i(8170),c=i(870),u=i(3868),d=i(3783),l=i(815);class h{constructor(t){this.isOmidEnabled=!0,this.onSessionEvent=t=>{switch(t.type){case"sessionStart":this.onSessionStart(t);break;case"sessionFinish":this.onSessionFinish(t);break;case"sessionError":this.onSessionError(t)}},this.isReady=!1,this.init(t),this.isSupported()&&(this.sessionStartTimeout=(0,l.setSafeTimeout)((()=>{const t={[(0,a.getDiagnosticQueryParamName)(a.DiagnosticParams.isOmid3p)]:n.it.isOmid3p()?"1":"0",[(0,a.getDiagnosticQueryParamName)(a.DiagnosticParams.omidEnvironment)]:this.getEnvironment()};r.A.sendError(s.ClientErrorType.OmidNoSessionStart,new Error("omid SessionStart not fired"),"omid SessionStart not fired",t)}),h.sessionStartTimeoutInterval),this.registerSessionObserver())}ready(t){this.isReady?t():this.readyCB=t}onSessionStart(t){this.isReady=!0,(0,l.clearSafeTimeout)(this.sessionStartTimeout),t||(t={}),this.omidSessionData=t,c.omidAdapter.init(this.omidVCInstance,this.omidSessionData,this.vendorKey,this.isOmidEnabled),d.DiagnosticParamsReporterSingleton.reportOnce(a.DiagnosticParams.omidTimeMsUntilStartSession,o.Utilities.getTimeDiffNoAbs((new Date).getTime())),d.DiagnosticParamsReporterSingleton.reportOnce(a.DiagnosticParams.omidAdSessionId,this.omidSessionData.adSessionId),"function"==typeof this.readyCB&&this.readyCB()}onSessionFinish(t){this.isReady=!1}onSessionError(t){this.isReady=!1,t||(t={});const e=t.data||{},i=e.message||"onSessionError_Error",n=this.isInvalidInjection(e)?s.ClientErrorType.OmidInvalidInjection:s.ClientErrorType.OmidSessionError;(0,l.clearSafeTimeout)(this.sessionStartTimeout),r.A.sendError(n,{message:i},"",{[(0,a.getDiagnosticQueryParamName)(a.DiagnosticParams.omidEnvironment)]:this.getEnvironment()})}getEnvironment(){var t;return null===(t=this.omidVCInstance)||void 0===t?void 0:t.getEnvironment()}isInvalidInjection(t){return"generic"===t.errorType&&t.message.includes("injected by the OM-SDK service itself")}registerSessionObserver(){this.omidVCInstance&&this.omidVCInstance.registerSessionObserver(this.onSessionEvent,this.vendorKey)}isSupported(){if(void 0===this.omidVCIsSupported)try{this.omidVCIsSupported=this.omidVCInstance.isSupported()}catch(t){this.omidVCIsSupported=!1}return this.omidVCIsSupported&&this.isOmidEnabled}setVendorKey(t){if(this.vendorKey=h.DefaultVendorKey,t)try{this.vendorKey=o.Utilities.getParamValue(t,"vendor_key")||this.vendorKey}catch(t){this.vendorKey=h.DefaultVendorKey}d.DiagnosticParamsReporterSingleton.reportOnce(a.DiagnosticParams.omidVendorKey,this.vendorKey)}setOmidConfig(t){this.isOmidEnabled="0"!=o.Utilities.getParamValue(t,"omid"),d.DiagnosticParamsReporterSingleton.reportDiagnosticParam(a.DiagnosticParams.isOmidEnabled,this.isOmidEnabled?1:0)}setDomlessInjectionId(){if(!u.S.isDomlessEnvironment())return;const t=n.it.getOmidInjectionId();n.it.getOmidInjectionId()&&"object"==typeof omidVerificationProperties&&(omidVerificationProperties.injectionId=t)}init(t){if(t){const e=n.it.getDvtpScriptUrl();this.setVendorKey(e),this.setOmidConfig(e),this.setDomlessInjectionId();try{this.omidVCInstance=new t}catch(t){}}}}e.OmidVerificationClientWrapper=h,h.VerificationClientVersion="1.2.6-iab634",h.DefaultVendorKey="doubleverify.com-omid",h.sessionStartTimeoutInterval=5200},3038:function(t,e){Object.defineProperty(e,"__esModule",{value:!0});let i=null,n=null,s=null,r=null,o=null,a=null,c=null,u=null,d=null,l=null,h=null,v=null,p=null;const f={setIndexExecutionStartTime(){o=this.currentTime()},setInitFireVisitImportsStartTime(t){i=t},setInitFireVisitImportsEndTime(){n=this.currentTime()},setTotalSyncTimeStartTime(t){s=t},setTotalSyncTimeEndTime(){r=this.currentTime()},setFireVerifyExecutionStartTime(){a=this.currentTime()},setFireVerifyExecutionEndTime(){c=this.currentTime()},setFireVisitExecutionStartTime(){u=this.currentTime()},setFireVisitExecutionEndTime(){d=this.currentTime()},setInitMainExecutionStartTime(){l=this.currentTime()},setInitMainExecutionEndTime(){h=this.currentTime()},setInitMeasurementExecutionStartTime(){v=this.currentTime()},setInitMeasurementExecutionEndTime(){p=this.currentTime()},getBenchmarks:()=>[{name:"tsetms",startTime:s,endTime:r,condition:Boolean(s&&r)},{name:"ipvietms",startTime:i,endTime:n,condition:Boolean(i&&n)},{name:"prvietms",startTime:s,endTime:u,condition:Boolean(s&&u)},{name:"fvietms",startTime:u,endTime:d,condition:Boolean(u&&d)},{name:"povietms",startTime:d,endTime:r,condition:Boolean(d&&r)},{name:"prveetms",startTime:s,endTime:a,condition:Boolean(s&&a)},{name:"fveetms",startTime:a,endTime:c,condition:Boolean(a&&c)},{name:"poveetms",startTime:c,endTime:r,condition:Boolean(c&&r)},{name:"imaetms",startTime:l,endTime:h,condition:Boolean(l&&h)},{name:"iesuimestms",startTime:o,endTime:l,condition:Boolean(o&&l)},{name:"imeetms",startTime:v,endTime:p,condition:Boolean(v&&p)}].filter((t=>t.condition)).map((({name:t,startTime:e,endTime:i})=>({taskDetails:{name:t},startTime:e,endTime:i}))),currentTime:()=>"undefined"!=typeof performance&&"function"==typeof performance.now?performance.now():void 0};e.default=f},138:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.initFireVisitImportsStartTime=void 0,e.initFireVisitImportsStartTime="undefined"!=typeof performance&&"function"==typeof performance.now?performance.now():void 0},363:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.RandomUtils=e.RandomUtilsClass=void 0;const n=i(3868),s=i(3380);class r{getRandom16(){return(s.Utilities.getCurrentTime()+""+Math.floor(1e6*Math.random())).substr(0,16)}getRandom32(){return s.Utilities.getCurrentTime().toString(36)+(this.getRandom24ByCrypto()||this.getRandom24())}getRandom24ByCrypto(){if(n.S.isCryptoSupported()){const t=new Uint32Array(4);return crypto.getRandomValues(t),s.Utilities.arrayLikeToArray(t).map((t=>("00000000"+t.toString(36)).substr(-6))).join("")}}getRandom24(){return(Math.random().toString(36)+"000000000000").substr(2,12)+(Math.random().toString(36)+"000000000000").substr(2,12)}}e.RandomUtilsClass=r,e.RandomUtils=new r},1723:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractRenderLogic=void 0;const n=i(3868),s=i(7360),r=i(9450),o=i(749),a=i(194);e.AbstractRenderLogic=class{constructor(){this.wasAdRenderedCalled=!1}publishAdRenderedDataAfterImpressionServed(){var t;(null===(t=a.it.Qt().pubSub)||void 0===t?void 0:t.excludeFrameId)&&s.u.addEventListener(s.DvEvents.impressionServed,(()=>{a.it.publishPubSubEvent(s.DvEvents.adRenderedData,a.it.getFrameId(n.S.currentWindow()),new r.AdRenderedEventData(a.it.getImpressionId(n.S.currentWindow())))}),"PreRenderLogic")}isAdRendered(){return this.wasAdRenderedCalled}adRendered(){this.wasAdRenderedCalled=!0,this.publishAdRenderedDataAfterImpressionServed(),s.u.dispatchEvent(s.DvEvents.beginToRender,new r.EventData)}static fireRenderedEvent(){o.A.sendMessage({prndr:0},!0)}}},7218:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ContainerRenderLogic=void 0;const n=i(1723),s=i(3868),r=i(749),o=i(7658),a=i(425),c=i(8170),u=i(3783);class d extends n.AbstractRenderLogic{constructor(t){super(),this.waitingForWindowLoadEvent=!1,this.activeListeners=new Map,this.adContainerInspector=t.createAdContainerInspector()}start(){var t,e,i;const n=null===(t=this.adContainerInspector)||void 0===t?void 0:t.getContainer(),s=null===(e=this.adContainerInspector)||void 0===e?void 0:e.getDirectChildren().length,r=null===(i=this.adContainerInspector)||void 0===i?void 0:i.getDirectChildren(["img","iframe"]),o=this.findALoadedChild(r);n?0===s?(this.reportPreRenderReason("nochild"),this.determineAdNotRendered(4)):0===r.length?(this.reportPreRenderReason("waitwin"),this.waitForWindowToLoad()):o?this.reportAdRenderedByLoadedChild(o):(this.reportPreRenderReason("waitchild"),this.waitForTheFirstLoadableChildToLoad(r)):(this.reportPreRenderReason("nocont"),this.determineAdNotRendered(2))}getNumberOfActiveListeners(){return this.activeListeners.size}reportAdRenderedByLoadedChild(t){const e=this.getReasonForRendered(t);this.determineAdRendered(e,t)}waitForWindowToLoad(){const t=s.S.workingWindow(),e=s.S.workingDocument(t),i=(null==e?void 0:e.readyState)||"unknown";u.DiagnosticParamsReporterSingleton.reportDiagnosticParam(c.DiagnosticParams.containerRenderLogicWindowLoadState,i),"complete"!==i?(this.waitingForWindowLoadEvent=!0,this.windowLoadFallbackCb=()=>{this.determineAdRendered(4)},a.W.addEventListener("load",this.windowLoadFallbackCb,t)):this.determineAdRendered(4)}reportPreRenderReason(t){u.DiagnosticParamsReporterSingleton.reportDiagnosticParam(c.DiagnosticParams.containerRenderLogicPreRenderReason,t)}reportAdNotRendered(t){r.A.sendMessage({[o.AdDataMappingToReport.reasonForNotRenderedByContainerRenderLogic]:t})}determineAdNotRendered(t){this.reportAdNotRendered(t),this.removeLoadEventListener()}determineAdRendered(t,e=null){this.reportAdRendered(t,e),this.removeLoadEventListener()}reportAdRendered(t,e=null){super.adRendered(),n.AbstractRenderLogic.fireRenderedEvent(),this.reportRenderedReasonAndImageDimensions(t,e)}reportRenderedReasonAndImageDimensions(t,e){const i={};i[o.AdDataMappingToReport.reasonForRenderedByContainerRenderLogic]=t,1===t&&(i.dvp_cimw=e.width,i.dvp_cimh=e.height),r.A.sendMessage(i)}removeLoadEventListener(){this.removeElemLoadEventListener(),this.waitingForWindowLoadEvent&&this.removeWindowLoadEventListener()}removeElemLoadEventListener(){this.activeListeners.forEach(((t,e)=>{a.W.removeEventListener("load",t,e),this.activeListeners.delete(e)}))}removeWindowLoadEventListener(){const t=s.S.workingWindow();a.W.removeEventListener("load",this.windowLoadFallbackCb,t),this.activeListeners.delete(t)}getElementType(t){return t.tagName.toLowerCase()}getReasonForRendered(t){const e=this.getElementType(t);return"img"===e?1:"iframe"===e?2:null}waitForTheFirstLoadableChildToLoad(t){t.filter((t=>"img"===this.getElementType(t))).forEach((t=>{this.addLoadEventListener(t,1)})),t.filter((t=>"iframe"===this.getElementType(t))).forEach((t=>{this.addLoadEventListener(t,2)}))}findALoadedChild(t){return t.find((t=>{const e=this.getElementType(t);if("img"===e)return t.complete&&0!==t.naturalHeight;if("iframe"===e)try{const e=s.S.getIframeWindow(t),i=s.S.workingDocument(e),n=t.contentDocument||i;return"complete"===(null==n?void 0:n.readyState)}catch(t){}return!1}))}addLoadEventListener(t,e){const i=()=>{this.determineAdRendered(e,t)};this.activeListeners.set(t,i),a.W.addEventListener("load",i,t)}}e.ContainerRenderLogic=d},5414:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultRenderLogic=void 0;const n=i(1723);class s extends n.AbstractRenderLogic{start(){super.adRendered()}isSupported(t){return!0}getRenderingMethodIndicator(){return 32}}e.DefaultRenderLogic=s},2207:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.DisplayGenXContainerRenderLogic=void 0;const n=i(9440),s=i(7749),r=i(7218);class o extends r.ContainerRenderLogic{constructor(){super(new n.DisplayGenXAdContainerInspectorFactory(o.tagAttributeName))}isSupported(t){return s.I.isDisplayGenXEnabled()&&0===t}getRenderingMethodIndicator(){return 8}}e.DisplayGenXContainerRenderLogic=o,o.tagAttributeName="data-doubleverify-container"},2905:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.MraidInMobiRenderLogic=void 0;const n=i(6681),s=i(1723),r=i(3868);class o extends s.AbstractRenderLogic{constructor(){super(...arguments),this.wasViewable=!1,this.maxIterations=20}start(){n.MraidWrapper.getAdViewablePercentage()?super.adRendered():n.MraidWrapper.runMraidRegisterSafely("viewableChange",this.mraidViewableChangeUpdate.bind(this))}mraidViewableChangeUpdate(t){t&&!this.wasViewable&&(this.wasViewable=!0,super.adRendered(),s.AbstractRenderLogic.fireRenderedEvent())}isSupported(t){return 0==t&&n.MraidWrapper.isSupported()&&r.S.objectLookup(r.S.currentWindow(),"imraid",this.maxIterations)&&r.S.objectLookup(r.S.currentWindow(),"inmobi",this.maxIterations)}getRenderingMethodIndicator(){return 2}}e.MraidInMobiRenderLogic=o},4263:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.MraidRenderLogic=void 0;const n=i(7360),s=i(6681),r=i(1723),o=i(3868),a=i(425);class c extends r.AbstractRenderLogic{constructor(){super(...arguments),this.isMraidRendered=!1,this.isPageVisibilityRendered=!1,this.isPageVisibilitySupported=!1}start(){this.isPageVisibilitySupported=a.W.isVisibilityChangeEventSupported(),this.checkMraidRender(),this.isPageVisibilitySupported&&this.checkPageVisibilityRender(),this.checkOverallRendered(!1)}checkMraidRender(){s.MraidWrapper.getReadyState()?this.isMraidRendered=!0:this.mraidDefaultStateDataEventHandler=n.u.addEventListener(n.DvEvents.mraidDefaultStateData,this.mraidDefaultStateCallback.bind(this))}mraidDefaultStateCallback(){this.isMraidRendered=!0,this.mraidDefaultStateDataEventHandler&&n.u.removeEventListener(this.mraidDefaultStateDataEventHandler),this.checkOverallRendered(!0)}checkPageVisibilityRender(){if("prerender"!=o.S.getVisibilityState())this.isPageVisibilityRendered=!0;else{const t=a.W.getVisibilityPrefix()+"visibilitychange";a.W.addEventListener(t,this.visibilityChangeCallback.bind(this),o.S.workingDocument())}}visibilityChangeCallback(){this.isPageVisibilityRendered||"prerender"!=o.S.getVisibilityState()&&(this.isPageVisibilityRendered=!0,this.checkOverallRendered(!0))}checkOverallRendered(t){(!this.isPageVisibilitySupported&&this.isMraidRendered||this.isPageVisibilitySupported&&this.isPageVisibilityRendered&&this.isMraidRendered)&&(super.adRendered(),t&&r.AbstractRenderLogic.fireRenderedEvent())}isSupported(t){return s.MraidWrapper.isSupported()}getRenderingMethodIndicator(){return 4}}e.MraidRenderLogic=c},98:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.OmidRenderLogic=void 0;const n=i(1723),s=i(870),r=i(630),o=i(8170),a=i(3783);class c extends n.AbstractRenderLogic{constructor(){super(...arguments),this.wasRendered=!1}isSupported(t){return s.omidAdapter.isSupported()}getRenderingMethodIndicator(){return 64}start(){s.omidAdapter.addEventListener("impression",(t=>{this.handleImpressionEvent(t)})),s.omidAdapter.addEventListener("geometryChange",(t=>{this.handleGeometryChangeEvent(t)}))}handleImpressionEvent(t){(!this.wasRendered&&this.checkIfImpressionTypeIndicatesRendered(t)||this.checkIfPercentageInViewLargerThanZero(t))&&(a.DiagnosticParamsReporterSingleton.reportDiagnosticParam(o.DiagnosticParams.omidRenderedFromImpressionEvent,1),this.updateThatAdIsRendered())}handleGeometryChangeEvent(t){!this.wasRendered&&this.checkIfPercentageInViewLargerThanZero(t)&&(a.DiagnosticParamsReporterSingleton.reportDiagnosticParam(o.DiagnosticParams.omidRenderedFromGeomChangePercLargerThanZero,1),this.updateThatAdIsRendered())}checkIfImpressionTypeIndicatesRendered(t){var e;const i=null===(e=null==t?void 0:t.data)||void 0===e?void 0:e.impressionType;return!(!i||i!==r.OmidImpressionType.BEGIN_TO_RENDER&&i!==r.OmidImpressionType.ONE_PIXEL&&i!==r.OmidImpressionType.VIEWABLE)}checkIfPercentageInViewLargerThanZero(t){var e,i;return(null===(i=null===(e=null==t?void 0:t.data)||void 0===e?void 0:e.adView)||void 0===i?void 0:i.percentageInView)>0}updateThatAdIsRendered(){this.wasRendered=!0,super.adRendered(),n.AbstractRenderLogic.fireRenderedEvent()}}e.OmidRenderLogic=c},6898:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.PageVisibilityRenderLogic=void 0;const n=i(425),s=i(3868),r=i(1723);class o extends r.AbstractRenderLogic{constructor(){super(...arguments),this.wasRendered=!1}start(){if("prerender"!=s.S.getVisibilityState())super.adRendered();else{const t=n.W.getVisibilityPrefix()+"visibilitychange";n.W.addEventListener(t,this.visibilitychangeCallback.bind(this),s.S.workingDocument())}}visibilitychangeCallback(){this.wasRendered||"prerender"!=s.S.getVisibilityState()&&(this.wasRendered=!0,super.adRendered(),r.AbstractRenderLogic.fireRenderedEvent())}isSupported(t){return n.W.isVisibilityChangeEventSupported()}getRenderingMethodIndicator(){return 16}}e.PageVisibilityRenderLogic=o},7026:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.RenderLogicFactory=e.RenderLogicFactoryClass=void 0;const n=i(2905),s=i(4263),r=i(6898),o=i(5414),a=i(7749),c=i(2207),u=i(98);class d{getRenderLogic(){return this.selectedRenderLogic||(this.selectedRenderLogic=this.selectSupportedRenderLogic()),this.selectedRenderLogic}prioritizedRenderLogicImplementations(){return[u.OmidRenderLogic,n.MraidInMobiRenderLogic,s.MraidRenderLogic,c.DisplayGenXContainerRenderLogic,r.PageVisibilityRenderLogic,o.DefaultRenderLogic]}selectSupportedRenderLogic(){try{for(const t of this.prioritizedRenderLogicImplementations()){const e=new t,i=a.I.getTagType();if(e.isSupported(i))return e}}catch(t){}return new o.DefaultRenderLogic}}e.RenderLogicFactoryClass=d,e.RenderLogicFactory=new d},4970:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.sendS2SPartnerTelemetryEvent=void 0;e.sendS2SPartnerTelemetryEvent=t=>{}},6806:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.SafeFrameObject=e.SafeFrameObjectClass=void 0;class i{isGeometricSupported(t){var e,i,n,s;const r=null===(s=null===(n=null===(i=null===(e=t.$sf)||void 0===e?void 0:e.ext)||void 0===i?void 0:i.geom)||void 0===n?void 0:n.call(i))||void 0===s?void 0:s.win;return(null==r?void 0:r.h)>0&&(null==r?void 0:r.w)>0}isInviewSupported(t){return!!t.$sf&&!!t.$sf.ext&&!!t.$sf.ext.inViewPercentage}getViewport(t){if(this.isGeometricSupported(t)){const e=t.$sf.ext.geom();return{height:Math.floor(e.win.h),width:Math.floor(e.win.w)}}}getInViewPercentage(t){if(this.isInviewSupported(t))return t.$sf.ext.inViewPercentage()}getAssetVisibleDimension(t){const e={width:0,height:0,left:0,right:0,top:0,bottom:0},i=t.$sf.ext.geom();return e.width=parseInt(i.self.w),e.height=parseInt(i.self.h),i.par&&(e.top=parseInt(i.self.t)-parseInt(i.par.t),e.bottom=e.top+e.height,e.left=parseInt(i.self.l)-parseInt(i.par.l),e.right=e.left+e.width),e}isSafeFrameExists(t){try{return!!t.$sf}catch(t){}}getUrlReferrer(t){var e,i,n;try{return null===(n=null===(i=null===(e=t.$sf)||void 0===e?void 0:e.ext)||void 0===i?void 0:i.hostURL)||void 0===n?void 0:n.call(i)}catch(t){}}}e.SafeFrameObjectClass=i,e.SafeFrameObject=new i},3322:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ScriptDynamicFlags=void 0;const n=i(749),s=i(7658),r=i(7360);class o{constructor(){this.impServed=!1,r.u.addEventListener(r.DvEvents.impressionServed,this.handleImpressionServed.bind(this))}static getInstance(){return o.instance||(o.instance=new o),o.instance}getFlags(){return this.flags}turnOn(t){const e=this.flags;this.flags|=t,this.flags!==e&&this.impServed&&n.A.sendMessage({[s.TPSDataMapping.scriptDynamicFlags]:this.flags})}handleImpressionServed(){this.impServed=!0,n.A.sendMessage({[s.TPSDataMapping.scriptDynamicFlags]:this.flags})}}e.ScriptDynamicFlags=o},7429:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.EventIdGeneratorAdaptor=e.SequenceIdGeneratorClass=void 0;class i{constructor(){this.sequenceId=1}getNext(){return this.sequenceId++}}e.SequenceIdGeneratorClass=i,e.EventIdGeneratorAdaptor=new i},6142:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.ServerContext=e.ServerContextClass=void 0;class i{getDetectedDeliveryType(){var t,e;return null===(e=null===(t=this.data)||void 0===t?void 0:t.ce)||void 0===e?void 0:e.ddt}getDeviceType(){var t,e;return null===(e=null===(t=this.data)||void 0===t?void 0:t.ce)||void 0===e?void 0:e.dt}isGroupMV4VideoNativeImpression(){var t;const e=null===(t=this.data)||void 0===t?void 0:t.rtn;return!!(null==e?void 0:e.gmv4ntv)}setData(t){this.data=t}}e.ServerContextClass=i,e.ServerContext=new i},3971:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.StandardSizes=e.StandardSizesClass=void 0;class i{constructor(){this.DisplayStandardSizes=[{width:88,height:[31]},{width:100,height:[150]},{width:120,height:[20,60,90,240,600,800]},{width:125,height:[125]},{width:160,height:[600,800]},{width:168,height:[28]},{width:180,height:[150,160,600]},{width:184,height:[90]},{width:200,height:[90,112,200,446]},{width:215,height:[125]},{width:216,height:[36]},{width:220,height:[90]},{width:234,height:[60]},{width:240,height:[133,400]},{width:250,height:[60,250,300,360,600]},{width:270,height:[202,460]},{width:272,height:[220]},{width:275,height:[300]},{width:292,height:[30]},{width:300,height:[31,50,90,100,200,225,250,268,413,600,618,850,1050]},{width:310,height:[175]},{width:315,height:[300]},{width:320,height:[20,50,75,100,320,360,480]},{width:336,height:[280,600,850]},{width:350,height:[50,200]},{width:375,height:[20,60,150]},{width:400,height:[225]},{width:405,height:[303]},{width:415,height:[20]},{width:440,height:[225,300]},{width:468,height:[60]},{width:550,height:[310,480]},{width:580,height:[400]},{width:600,height:[400]},{width:610,height:[100]},{width:613,height:[460]},{width:640,height:[90,360,480]},{width:700,height:[400,500]},{width:728,height:[90,120]},{width:745,height:[90]},{width:750,height:[30,100,200]},{width:800,height:[600]},{width:900,height:[240]},{width:930,height:[180,600]},{width:950,height:[90]},{width:954,height:[60]},{width:960,height:[90]},{width:970,height:[30,66,90,250,415,550]},{width:980,height:[90,120]},{width:1e3,height:[125]},{width:1008,height:[150]},{width:1140,height:[200]},{width:1250,height:[155]},{width:1280,height:[100]},{width:1680,height:[900]}],this.sizeCompare=(t,e)=>t.width>e.width?1:t.width<e.width?-1:0,this.VideoStandardSizes=[{width:150,height:[90]},{width:270,height:[150]},{width:300,height:[150,340]},{width:320,height:[570]},{width:360,height:[100,640]},{width:375,height:[210,670]},{width:415,height:[740]},{width:420,height:[240]},{width:450,height:[250]},{width:480,height:[270]},{width:510,height:[290]},{width:580,height:[330]},{width:610,height:[340]},{width:670,height:[380]},{width:740,height:[410]},{width:770,height:[1020]},{width:780,height:[440]},{width:800,height:[450]},{width:900,height:[500]},{width:1020,height:[580,770]},{width:1280,height:[720,800]},{width:1330,height:[660]},{width:1370,height:[770]},{width:1440,height:[900]},{width:1540,height:[860]},{width:1920,height:[1080]}].concat(this.DisplayStandardSizes).sort(this.sizeCompare)}getSizesTable(t){switch(t){case 1:return this.VideoStandardSizes;case 0:return this.DisplayStandardSizes}}getNearestAdSize(t,e,i){const n=this.getSizesTable(e);switch(i){case 5:return this.getNearestStandardAdSize(t,5,n);case 20:return this.getNearestStandardAdSize(t,20,n);default:return this.getNearestStandardAdSize(t,15,n)}}isStandardAdSize(t,e,i){return null!=this.getNearestAdSize(t,e,i)}getNearestStandardAdSize(t,e,i){let n=null;if((null==t?void 0:t.width)&&(null==t?void 0:t.height)){const{width:s,height:r}=t,o=i.length;let a=0,c=0,u=Number.MAX_VALUE,d=Number.MAX_VALUE;for(;c<o&&s+e>=i[c].width;){const t=Math.abs(s-i[c].width);if(t<=e){a=i[c].height.length;let s=0;for(;s<a&&r+e>=i[c].height[s];){const o=Math.abs(r-i[c].height[s]);if(o<=e)if(t+o<u)d=i[c].width*i[c].height[s],u=t+o,n={width:i[c].width,height:i[c].height[s]};else if(t+o==u){const t=i[c].width*i[c].height[s];t<d&&(d=t,n={width:i[c].width,height:i[c].height[s]})}s++}}c++}}return n}}e.StandardSizesClass=i,e.StandardSizes=new i},3380:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Utilities=e.UtilitiesClass=void 0;class i{constructor(){this.loadTime=this.getCurrentTime(),this.MAX_GET_URL_LENGTH=8040,this.errorToJSONString=t=>t instanceof Error?t.message:"string"==typeof t?t:JSON.stringify(t)}isExceedingMaxUrlLength(t){return t>this.MAX_GET_URL_LENGTH}getScriptLoadedMS(){return this.loadTime}setLoadVisitTime(){this.loadVisitTime=this.getCurrentTime()}getVersion(){return 9018}getCurrentTime(){return(Date.now||(new Date).getTime)()}getTimeDiff(t){return t||(t=this.getCurrentTime()),Math.abs(t-this.loadTime)}getVisitTimeDiff(){const t=this.getCurrentTime();return Math.abs(t-(this.loadVisitTime||t))}getTimeDiffNoAbs(t){return t||(t=this.getCurrentTime()),t-this.loadTime}merge(t,e){if(t&&e)return t.concat(e).filter(((t,e,i)=>i.indexOf(t)==e))}isEmpty(t){return!t||0==Object.keys(t).length}isNullOrEmpty(t){return null==t||""===t}extend(t,e){t&&!this.isEmpty(t)&&e&&Object.keys(t).forEach((i=>e[i]=t[i]))}times(t,e){t>0&&(e(),this.times(t-1,e))}mapData(t,e,i=!1){return Object.keys(e).reduce(((n,s)=>{const r=e[s];return r&&!this.isNullOrEmpty(t[s])&&(n[r]=t[s],i&&delete e[s]),n}),{})}startsWith(t,e,i=!1){return t=i?t.toLowerCase():t,e=i?e.toLowerCase():e,0==t.indexOf(e,0)}deepComparison(t,e,i){let n=0;return t&&e?(Object.keys(i).filter((i=>!this.equal(t[i],e[i],!0))).forEach((t=>{n|=i[t]})),n):-1}removeDuplicateValues(t,e){t&&e&&Object.keys(t).filter((i=>this.isNullOrEmpty(t[i])||t[i]==e[i])).forEach((e=>delete t[e]))}equal(t,e,i=!1){return(t=i&&(null==t?void 0:t.toString().toLowerCase())||t)==(e=i&&(null==e?void 0:e.toString().toLowerCase())||e)||this.isNullOrEmpty(t)&&this.isNullOrEmpty(e)}getElementsDistance(t,e){let i=-1;if(t&&e)if(t==e)i=0;else{const n=this.getElementParentsList(t),s=this.getElementParentsList(e);if(n[0]!=s[0])i=-1;else{for(;n.length>0&&s.length>0&&n[0]==s[0];)n.shift(),s.shift();i=n.length+s.length}}else i=-1;return i}getElementParent(t){if(t)return t.parentNode}getElementParentsList(t){const e=[];if(t){let i=this.getElementParent(t);for(;i;)e.unshift(i),i=this.getElementParent(i)}return e}isInAppSupported(t){return null==t?void 0:t.some((t=>3==t))}isCtvSupported(t){return null==t?void 0:t.some((t=>4==t))}isLargeAd(t,e,i){return!(!t||i)&&t.height*t.width>=e}getIabVisiblePercentage(t){return t.percentage}isIabPageInFocus(t){return t.focus}isVideoElement(t){var e;return"video"==(null===(e=null==t?void 0:t.nodeName)||void 0===e?void 0:e.toLocaleLowerCase())}resolveMacros(t,e){const i=Object.keys(e).reduce(((t,i)=>(t[i.toUpperCase()]=e[i],t)),{});return t.replace("[DV_PROTOCOL]",i.DV_PROTOCOL).replace("[PROTOCOL]",i.PROTOCOL).replace(/\[(.*?)\]/g,((t,e)=>{let n=i[e];return e.indexOf("URL")>-1&&n?decodeURIComponent(n):(null==n&&(n="["+e+"]"),encodeURIComponent(n))}))}updateDynamicParamsFlags(t,e){t&&t.length>0&&e&&(e.dvf=t.filter((t=>!!t)).join(","))}getQueryString(t,i,n,s){const r=e.Utilities.mapData(t,s);return e.Utilities.extend(i,r),this.updateDynamicParamsFlags(n,r),this.serializeObjectToQueryString(r,!1)}serializeObjectToQueryString(t,e){return Object.keys(t).filter((e=>void 0!==t[e])).map((i=>`${i}=${e?encodeURIComponent(t[i]):t[i]}`)).join("&").trim()}isQueryLengthBelowBrowserLimit(t,e,i,n,s){let r=!0;try{r=this.getQueryString(t,e,i,n).length+s.length<=7e3}catch(t){}return r}getElementVisiblePercentage(t,e){if(!t||null==(null==e?void 0:e.height)||null==e.width)return;if(this.checkIfElementOutOfViewport(t,e)||t.width<=0||t.height<=0)return 0;const i=this.getVisibleWidth(t,e),n=this.getVisibleHeight(t,e);return Math.round(i*n/(t.width*t.height)*100)}checkIfElementOutOfViewport(t,e){return t.bottom<=0||t.bottom<=0||t.right<=0||t.top>=e.height||t.left>=e.width}getVisibleHeight(t,e){let i=t.height;return t.top<0?i=t.height+t.top:t.top+t.height>e.height&&(i=e.height-t.top),Math.min(i,e.height)}getVisibleWidth(t,e){let i=t.width;return t.left<0?i=t.width+t.left:t.left+t.width>e.width&&(i=e.width-t.left),Math.min(i,e.width)}arrayLikeToArray(t){if(t)return Array.prototype.slice.call(t)}DOMStringListToArray(t){let e=[];return t&&(e=Array.prototype.slice.call(t)),e}isHostTypeURL(t){try{const e=new URL(t);return this.isNullOrEmpty(e.pathname)||"/"==e.pathname}catch(t){}}getElementOffsetFromScreen(t){let e=0,i=0;try{if(t.getBoundingClientRect()){const n=t.getBoundingClientRect();e=n.left,i=n.top}for(t=t.parentElement;t;){if(t.tagName&&"iframe"===t.tagName.toLowerCase()&&t.getBoundingClientRect()){const n=t.getBoundingClientRect();e+=n.left,i+=n.top}t=t.parentElement}}catch(t){e=-1,i=-1}return{top:i,left:e}}isPercentageCriteriaPassed(t){return!(null==t||t>100||t<0)&&100*Math.random()<=t}getValBetweenMinAndMax(t,e,i){return t>e?t<i?t:i:e}isEmptyObject(t){return 0===Object.keys(t).length}objectValues(t){return Object.keys(t).map((e=>t[e]))}getParamValue(t,e){if(null!=t){const i=new RegExp("[\\?#&]("+e+")=([^&#?]*)","gi").exec(t);if(null!=(null==i?void 0:i[2]))return i[2]}return null}checkIfObjIsPartiallyInArray(t,e){return e.filter((e=>{let i=!0;return Object.keys(t).forEach((n=>{i&&(i=e[n]===t[n])})),i})).length>0?t:{}}getRandom(){let t=1;const e=Math.floor(10*Math.random())+1;for(let i=0;i<e;++i)t*=Math.random();return t}generateGuid(){return(new Date).getTime()*this.getRandom()+""}extractElementType(t){var e;switch(null===(e=null==t?void 0:t.tagName)||void 0===e?void 0:e.toUpperCase()){case"IFRAME":return 1;case"SPAN":return 2;case"DIV":return 3;case"HTML":return 4;case"VIDEO":return 5;case"CANVAS":return 7;case"SVG":return 8;case"VIDEO-CANVAS":return 9;case"IMG":return 6;default:return 0}}isNumber(t){return"number"==typeof t&&isFinite(t)}isNumeric(t){return!isNaN(Number(t))}convertToArray(t){return t&&t.length>0?Array.prototype.slice.call(t):[]}countBy(t){const e={};return t.forEach((t=>{e[t]=e[t]?e[t]+1:1})),e}getKeyWithHighestValue(t){return Object.keys(t).length>0?Object.keys(t).reduce(((e,i)=>t[e]>t[i]?e:i)):null}generateAdler32Hash(t){let e=1,i=0;for(let n=0;n<t.length;n++)e+=t.charCodeAt(n),i+=e;return e%=65521,i%=65521,(i<<16|e)>>>0}pick(t,e){const i={};return e.forEach((e=>{i[e]=t[e]})),i}sumBuckets(t){return t.reduce(((t,e)=>t+(null!=e?e:0)),0)}generateUUID(){if("object"==typeof crypto&&"function"==typeof crypto.randomUUID)return crypto.randomUUID();let t=(new Date).getTime(),e="undefined"!=typeof performance&&"function"==typeof performance.now?1e3*performance.now():0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(i){let n=16*Math.random();return t>0?(n=(t+n)%16|0,t=Math.floor(t/16)):(n=(e+n)%16|0,e=Math.floor(e/16)),("x"===i?n:3&n|8).toString(16)}))}formatElementSize(t){return`${t.width}x${t.height}`}checkIfElementHasBtreg(t,e){for(let i=0;i<t.attributes.length;i++){const n=t.attributes.item(i);if(n&&n.value==e)return!0}return!1}}e.UtilitiesClass=i,e.Utilities=new i},549:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.cancelScheduledTask=e.reportTaskTiming=e.trackPerformanceWhenExecuted=e.invokeWithPerformanceMeasures=e.scheduleTask=e.isBrowserSupported=void 0;const n=i(9450),s=i(425),r=i(7360),o=i(815);e.isBrowserSupported=()=>{const t=[];return"function"==typeof t.filter&&"function"==typeof t.forEach};e.scheduleTask=(t,e=0)=>(0,o.setSafeTimeout)(t,e);e.invokeWithPerformanceMeasures=(t,i)=>{const n=s.W.getPerformanceTimeNow(),r=i(),o=s.W.getPerformanceTimeNow();return(0,e.reportTaskTiming)(t,n,o),r};e.trackPerformanceWhenExecuted=(t,i)=>()=>(0,e.invokeWithPerformanceMeasures)(t,i);e.reportTaskTiming=({name:t},i,s)=>{(0,e.scheduleTask)((()=>{r.u.dispatchEvent(r.DvEvents.performanceTaskTiming,new n.TaskTimingEventData([{name:t,startTime:i,duration:s-i}]))}))};e.cancelScheduledTask=t=>{(0,o.clearSafeTimeout)(t)}},319:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.getAdElementHiddenStatus=e.isAdElementHidden=e.getParentNode=e.getElementStaticSize=e.getElementSize=e.smartInstanceof=e.getElementChildren=e.getSiblingsNodes=e.getObjectSize=e.getBoundingClientRect=e.getElementType=e.getElementsByTagNameFromDomElement=e.querySelectorAll=e.getElementById=e.insertBefore=e.createElement=e.createImage=e.querySelector=e.getElementsByClassName=e.getCustomElementsByTagName=e.getElementsByTagNameFromDocument=e.safeSetElementStyle=e.hasAttributeValueInclude=e.safeGetAttribute=void 0;const n=i(3380),s=i(3868);e.safeGetAttribute=(t,e)=>{let i;if(t&&e)try{i=t[e]||t.getAttribute(e)}catch(t){}return i};e.hasAttributeValueInclude=(t,e)=>{var i,n;const s=null!==(n=null===(i=null==t?void 0:t.attributes)||void 0===i?void 0:i.length)&&void 0!==n?n:0;for(let i=0;i<s;i++){const{value:n}=t.attributes[i];if(n.includes(e))return!0}return!1};e.safeSetElementStyle=(t,e,i)=>{try{t.style.setProperty(e,i)}catch(t){}};e.getElementsByTagNameFromDocument=(t,e=s.S.workingDocument())=>{if(e&&t&&e.getElementsByTagName){const i=e.getElementsByTagName(t);if(i)return n.Utilities.arrayLikeToArray(i)}return[]};e.getCustomElementsByTagName=(t,e)=>{const i=[];return function e(n){n.localName===t&&i.push(n),n.shadowRoot&&e(n.shadowRoot),n.childNodes.forEach(e)}(e),i};e.getElementsByClassName=(t,e=s.S.workingDocument())=>{let i=[];if(e&&t){let s;e.getElementsByClassName?s=e.getElementsByClassName(t):e.querySelectorAll&&(s=e.querySelectorAll("."+t)),s&&(i=n.Utilities.arrayLikeToArray(s))}return i};e.querySelector=(t,e=s.S.workingDocument())=>{try{return e.querySelector(t)}catch(t){}};e.createImage=()=>new Image;e.createElement=(t,e=s.S.workingDocument())=>{if(t)return e.createElement(t)};e.insertBefore=(t,e,i)=>t&&t.insertBefore(e,i);e.getElementById=(t,e=s.S.workingDocument())=>{if(t)return e.getElementById(t)};e.querySelectorAll=(t,e)=>{try{return t.querySelectorAll(e)}catch(t){}};e.getElementsByTagNameFromDomElement=(t,e)=>{if(t&&e&&t.getElementsByTagName){const i=t.getElementsByTagName(e);if(i)return n.Utilities.arrayLikeToArray(i)}return[]};e.getElementType=t=>{if(t)return t.nodeName.toLowerCase()};e.getBoundingClientRect=t=>{let e={left:0,right:0,top:0,bottom:0,width:0,height:0};return(null==t?void 0:t.getBoundingClientRect)&&(e=t.getBoundingClientRect()),e};e.getObjectSize=t=>{const i={width:0,height:0};if("object"==(0,e.getElementType)(t)){let s=(0,e.safeGetAttribute)(t,"height"),r=(0,e.safeGetAttribute)(t,"width");n.Utilities.isNullOrEmpty(r)&&n.Utilities.isNullOrEmpty(s)||(r=t.clientWidth,s=t.clientHeight);try{i.height=Number(s),i.width=Number(r)}catch(t){}}return i};e.getSiblingsNodes=t=>{const e=[];let i=null;for((null==t?void 0:t.parentNode)&&(i=t.parentNode.firstChild);i;)1===i.nodeType&&i!==t&&e.push(i),i=i.nextElementSibling||i.nextSibling;return e};e.getElementChildren=t=>{const e=[];if(t.hasChildNodes())for(const i of Array.from(t.childNodes))(null==i?void 0:i.nodeType)===Node.ELEMENT_NODE&&e.push(i);return e};e.smartInstanceof=(t,i,n)=>{try{return t instanceof n[i]||n.parent!=n&&(0,e.smartInstanceof)(t,i,n.parent)}catch(t){return!1}};e.getElementSize=t=>{let i={width:0,height:0};try{if("object"!=(0,e.getElementType)(t)){const n=(0,e.getBoundingClientRect)(t);i.height=n.height,i.width=n.width}else i=(0,e.getObjectSize)(t)}catch(t){}return i};e.getElementStaticSize=t=>({width:t.innerWidth||t.clientWidth,height:t.innerHeight||t.clientHeight});e.getParentNode=t=>null==t?void 0:t.parentNode;e.isAdElementHidden=t=>{const i=t.ownerDocument?t.ownerDocument.defaultView||t.ownerDocument.parentWindow:null;if(i)return(0,e.getAdElementHiddenStatus)(t,i)};e.getAdElementHiddenStatus=(t,e)=>{let i,r=e,o=t;try{if(!s.S.isTop(e)){if(!e.frameElement)return;o=e.frameElement,r=s.S.getWindowParent(e)}}catch(t){}let a=0;const c=n.Utilities.getCurrentTime(),u=n.Utilities.getElementOffsetFromScreen(o),d=u.left,l=u.top;let h,v;try{h=getComputedStyle(o)}catch(t){h=o.style}if(o.getBoundingClientRect){const t=o.getBoundingClientRect();v=[d+t.width/2,l+t.height/2]}else v=[d+parseInt(h.width)/2,l+parseInt(h.height)/2];try{"none"===h.display&&(a|=4),i=null==r?void 0:r.document.body.querySelectorAll("*");let t=!1;[].forEach.call(i,(function(e){if(t&&e!==o&&!e.contains(o)&&!o.contains(e))try{const t=e.getBoundingClientRect(),i=n.Utilities.getElementOffsetFromScreen(e);i.left+t.width>=v[0]&&i.left<=v[0]&&i.top<=v[1]&&i.top+t.height>=v[1]&&(a|=1)}catch(t){}e===o&&(t=!0)}));let e=o;for(;e;){try{h=getComputedStyle(e)}catch(t){h=e.style}h&&"none"===h.display&&(a|=4),h&&("hidden"===h.visibility||""!==h.opacity&&h.opacity<.8)&&(a|=2);try{if(e.getBoundingClientRect){const t=e.getBoundingClientRect();t.width*t.height<100&&(a|=8)}}catch(t){}e=e.document&&e==e.document.body?e.window.frameElement?e.window.frameElement:null:e.parentElement}}catch(t){a=-1}return a<0?a=-1e3*(n.Utilities.getCurrentTime()-c):a+=1e3*(n.Utilities.getCurrentTime()-c),a}},9349:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.toError=void 0;e.toError=t=>{if(t instanceof Error)return t;switch(typeof t){case"string":return new Error(t);case"number":case"bigint":case"boolean":case"symbol":case"undefined":return new Error(String(t));case"function":return new Error("Function thrown");case"object":if(null===t)return new Error("null");if("undefined"==typeof JSON||"function"!=typeof JSON.stringify)return new Error("Object thrown (JSON unavailable)");try{return new Error(JSON.stringify(t))}catch(t){return new Error("An un-stringifiable object was thrown")}}}},3832:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.randomlySelectFromDistribution=e.isValidDistribution=void 0;e.isValidDistribution=t=>{if(null==t||0===t.length)return!1;return!t.some((({percentage:t})=>"number"!=typeof t||t<0||t>100))&&100==t.reduce(((t,{percentage:e})=>t+e),0)};e.randomlySelectFromDistribution=t=>{const e=100*Math.random();let i=0;for(const n of t){const t=i+n.percentage;if(e>=i&&e<t)return n.optionName;i=t}return null}},815:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.clearSafeInterval=e.setSafeInterval=e.clearSafeTimeout=e.setSafeTimeout=e.runSafelyWhenInvoked=void 0;const n=i(425),s=i(712),r=i(749),o=i(9349);e.runSafelyWhenInvoked=(t,e)=>()=>{try{t()}catch(i){r.A.sendError(e,(0,o.toError)(i),null==t?void 0:t.name)}};e.setSafeTimeout=(t,i)=>n.W.getTaskManager().setTimeout((0,e.runSafelyWhenInvoked)(t,s.ClientErrorType.AsynchronousTaskError),i);e.clearSafeTimeout=t=>{n.W.getTaskManager().clearTimeout(t)};e.setSafeInterval=(t,i)=>n.W.getTaskManager().setInterval((0,e.runSafelyWhenInvoked)(t,s.ClientErrorType.AsynchronousTaskError),i);e.clearSafeInterval=t=>{n.W.getTaskManager().clearInterval(t)}},3567:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.VOLUME_MUTE_LEVEL=e.VOLUME_UNSUPPORTED=void 0,e.VOLUME_UNSUPPORTED=-1,e.VOLUME_MUTE_LEVEL=0;const i=new class{getVolumeLevel(t,i){return i?e.VOLUME_MUTE_LEVEL:this.isVolumeLevelSupported(t)?t:e.VOLUME_UNSUPPORTED}isVolumeLevelSupported(t){return"number"==typeof t&&!isNaN(t)&&t>=e.VOLUME_MUTE_LEVEL}isVolumeLevelMuted(t){return t===e.VOLUME_MUTE_LEVEL}};e.default=i},495:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.isPerformanceTimingAllowed=e.isPerformanceApiSupported=e.logDvSignal=void 0;const n=i(3380),s=i(3868);e.logDvSignal=t=>{try{const{$logDvSignal:e}=s.S.workingWindow();"function"==typeof e&&e(t)}catch(t){}};e.isPerformanceApiSupported=()=>void 0!==s.S.currentWindow().performance&&"function"==typeof s.S.currentWindow().performance.now,e.isPerformanceTimingAllowed=!s.S.isDomlessEnvironment()&&(0,e.isPerformanceApiSupported)()&&n.Utilities.isPercentageCriteriaPassed(10)},1966:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.VideoPlaybackAdaptor=e.VideoPlaybackAdaptorClass=void 0;const n=i(3868);class s{getADCObject(){return n.S.workingWindow().ADCAdUnitEventManager}}e.VideoPlaybackAdaptorClass=s,e.VideoPlaybackAdaptor=new s},3121:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.DvVideoWrapper=void 0;e.DvVideoWrapper=class{constructor(){this.subscriptionId=1,this.subscribers={},this.previousEvents={}}subscribe(t,e,i){const n=[];if(this.previousEvents[e])for(const n of this.previousEvents[e])t.some((t=>t==n.eventName))&&i(e,n);for(const s of t)this.subscribers[s+e]||(this.subscribers[s+e]=[]),this.subscriptionId++,this.subscribers[s+e].push({func:i,subscriptionId:this.subscriptionId}),n.push(this.subscriptionId);return n}unsubscribe(t){t.forEach((t=>{Object.keys(this.subscribers).forEach((e=>{this.subscribers[e]=this.subscribers[e].filter((e=>e.subscriptionId!=t))}))}))}publish(t,e,i){if(this.previousEvents[e]||(this.previousEvents[e]=[]),this.previousEvents[e].push(i),t&&e&&this.subscribers[t+e]instanceof Array)for(const n of this.subscribers[t+e]){const t=n.func;t&&"function"==typeof t&&t(e,i)}}}},1063:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.VpaidWrapper=e.VpaidWrapperClass=void 0;const n=i(7749),s=i(3868),r=i(319),o=i(3350),a=i(3121),c=i(712),u=i(749),d=i(8379);class l{constructor(){this.initialized=!1}init(){this.initialized||(this.currentWindow=s.S.currentWindow(),this.adid=n.I.getAdID(),this.initialized=!0)}start(){try{const t={name:"VpaidWrapper",message:void 0};if(1!==n.I.getTagType())return;this.init(),this.adid?(this.dvVpaid=new a.DvVideoWrapper,this.vpaidWrapper=this.getVpaidWrapper(),this.vpaidWrapper?this.createAdAsset(this.adid)?this.subscribeToVpaidEvents(this.vpaidEventHandler.bind(this))?this.handlePreviousEvents():t.message="Failed to subscribe vpaid events":t.message="Failed to create ad asset":t.message="Failed to get vpaid wrapper"):t.message="Failed to get adid",t.message&&(this.dvVpaid=void 0,u.A.sendMessage({dvp_vperr:t.message}))}catch(t){this.dvVpaid=void 0,u.A.sendError(c.ClientErrorType.MeasurementError,t,"VPaidWrapper")}}getDvVpaid(){return this.dvVpaid}isSupported(){try{return this.init(),"function"==typeof s.S.workingWindow().getVPAIDAd||this.adid&&"function"==typeof s.S.workingWindow()[this.adid]}catch(t){return!1}}getIntegrationType(){return 1}getVpaidWrapper(){try{if("function"==typeof s.S.workingWindow()[this.adid]){const t=s.S.workingWindow()[this.adid]();return t.viewabilityIntegrationType=2,t}}catch(t){return}}getPrevEvents(){return this.vpaidWrapper.getPreviousEvents?"function"==typeof this.vpaidWrapper.getPreviousEvents?this.vpaidWrapper.getPreviousEvents():this.vpaidWrapper.getPreviousEvents:[]}handlePreviousEvents(){const t=this.getPrevEvents();for(const e of t)this.vpaidEventHandler(e)}getAdVolume(){return this.vpaidWrapper.getAdVolume()}getAdMute(){const t=this.getPlayer();if(t){const{muted:e}=t;if(void 0===e)return 0;if("boolean"==typeof e)return Number(e)}return d.NOT_FOUND_OR_ERROR}vpaidEventHandler(t){if(this.dvVpaid){const e={eventName:t,eventTime:void 0,viewabilityResult:{volume:this.getAdVolume(),muted:this.getAdMute(),adSkippableState:this.getAdSkippableState()}};this.dvVpaid.publish(t,this.adid,e)}}subscribeToVpaidEvents(t){try{return this.vpaidWrapper.subscribe((function(){t("AdLoaded")}),"AdLoaded"),this.vpaidWrapper.subscribe((function(){t("AdImpression")}),"AdImpression"),this.vpaidWrapper.subscribe((function(){t("AdStopped")}),"AdStopped"),this.vpaidWrapper.subscribe((function(){t("AdError")}),"AdError"),this.vpaidWrapper.subscribe((function(){t("AdStarted")}),"AdStarted"),this.vpaidWrapper.subscribe((function(){t("AdSkipped")}),"AdSkipped"),this.vpaidWrapper.subscribe((function(){t("AdPaused")}),"AdPaused"),this.vpaidWrapper.subscribe((function(){t("AdSizeChange")}),"AdSizeChange"),this.vpaidWrapper.subscribe((function(){t("AdPlaying")}),"AdPlaying"),this.vpaidWrapper.subscribe((function(){t("AdExpandedChange")}),"AdExpandedChange"),this.vpaidWrapper.subscribe((function(){t("AdSkippableStateChange")}),"AdSkippableStateChange"),this.vpaidWrapper.subscribe((function(){t("AdLinearChange")}),"AdLinearChange"),this.vpaidWrapper.subscribe((function(){t("AdVideoStart")}),"AdVideoStart"),this.vpaidWrapper.subscribe((function(){t("AdUserAcceptInvitation")}),"AdUserAcceptInvitation"),this.vpaidWrapper.subscribe((function(){t("AdUserClose")}),"AdUserClose"),this.vpaidWrapper.subscribe((function(){t("AdUserMinimize")}),"AdUserMinimize"),this.vpaidWrapper.subscribe((function(){t("AdClickThru")}),"AdClickThru"),this.vpaidWrapper.subscribe((function(){t("AdInteraction")}),"AdInteraction"),this.vpaidWrapper.subscribe((function(){t("AdDurationChange")}),"AdDurationChange"),this.vpaidWrapper.subscribe((function(){t("AdRemainingTimeChange")}),"AdRemainingTimeChange"),this.vpaidWrapper.subscribe((function(){t("AdVolumeChange")}),"AdVolumeChange"),this.vpaidWrapper.subscribe((function(){t("AdVideoFirstQuartile")}),"AdVideoFirstQuartile"),this.vpaidWrapper.subscribe((function(){t("AdVideoMidpoint")}),"AdVideoMidpoint"),this.vpaidWrapper.subscribe((function(){t("AdVideoThirdQuartile")}),"AdVideoThirdQuartile"),this.vpaidWrapper.subscribe((function(){t("AdVideoComplete")}),"AdVideoComplete"),!0}catch(t){return!1}}getPlayer(){let t;try{t="function"==typeof this.vpaidWrapper.getPlayer?this.vpaidWrapper.getPlayer():this.vpaidWrapper.getPlayer,(0,r.smartInstanceof)(t,"HTMLElement",this.currentWindow)||(t=this.vpaidWrapper.getSlot())}catch(e){t=void 0}return t}getAdSkippableState(){let t;try{t="function"==typeof this.vpaidWrapper.getAdSkippableState?this.vpaidWrapper.getAdSkippableState():this.vpaidWrapper.adSkippableState}catch(t){}return t}getAdDuration(){try{return"function"==typeof this.vpaidWrapper.getAdDuration?this.vpaidWrapper.getAdDuration():this.vpaidWrapper.adDuration}catch(t){}}getExecuteDVClientCallback(){if("function"==typeof this.vpaidWrapper.executeDVClientCallback)return this.vpaidWrapper.executeDVClientCallback}createAdAsset(t){const e=this.getPlayer(),i=this.getAdDuration(),n=this.getAdSkippableState();if(e){const s=this.getExecuteDVClientCallback(),r=new o.AdAsset(t,e,i,n,s);return this.dvVpaid.asset=r,this.dvVpaid.viewabilityIntegrationType=this.vpaidWrapper.viewabilityIntegrationType,!0}return!1}}e.VpaidWrapperClass=l,e.VpaidWrapper=new l},3868:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.S=e.Se=void 0;const n=i(2614),s=i(194);class r{constructor(){this.topWinAvailable=!0,this.maxIterations=1e3,this.trafficScenarioType=0}currentWindow(){return dvWindow}currentDocument(){return document}workingWindow(){return 3==this.getScriptInjectionMode()?this.currentWindow().parent:this.currentWindow()}workingDocument(t=this.workingWindow()){return t?t.document:void 0}workingBody(t=this.workingDocument()){return t?t.body:void 0}workingDocumentElement(){let t;const e=this.workingDocument();return e&&(t=e.documentElement),t}windowTop(t=!1){if(this.topWinAvailable||t)try{if(t)return this.currentWindow().top;if(this.currentWindow().top.document)return this.currentWindow().top}catch(t){this.topWinAvailable=!1}}isTop(t){return t==this.windowTop(!0)}documentTop(){let t;const e=this.windowTop();return e&&(t=e.document),t}getWindowParent(t,e){try{if(e)return t.parent;if(t.parent.document)return t.parent}catch(t){}}windowName(){return this.currentWindow().name||(this.currentWindow().frameElement?this.currentWindow().frameElement.id:"")}getFrameElement(t){var e;try{return t!==this.currentWindow()&&128==(128&this.getScenarioType())?null:null!==(e=null==t?void 0:t.frameElement)&&void 0!==e?e:null}catch(t){}}getIframeWindow(t){if(t)return t.contentWindow}getDefaultWindow(t){try{if(!(null==t?void 0:t.ownerDocument))return;return t.ownerDocument.defaultView}catch(t){}}getElementWindowDimensions(t){try{const e=this.getDefaultWindow(t);return e?(({innerHeight:t,innerWidth:e})=>({height:t,width:e}))(e):null}catch(t){}}isDomlessEnvironment(){return!1}isIOS(){try{const{navigator:t}=this.workingWindow();return(/iPhone|iPad|iPod|\(Apple TV|iOS|Coremedia|CFNetwork\/.*Darwin/i.test(t.userAgent)||t.vendor&&"apple, inc."===t.vendor.toLowerCase())&&!this.workingWindow().MSStream}catch(t){}}getWindowProtocol(){return"https:"}setTopAccessibleWindow(){let t=this.workingWindow();try{let e=0;for(;!this.isTop(t)&&e<this.maxIterations;){const i=this.getWindowParent(t,!0);if(!i.document)break;t=i,e++}}catch(t){}this.topAccessibleWindow=t}getTopAccessibleWindow(){return this.topAccessibleWindow||this.setTopAccessibleWindow(),this.topAccessibleWindow}setScenarioType(){this.isTop(this.workingWindow())?this.trafficScenarioType=1:this.isTop(this.getTopAccessibleWindow())?this.trafficScenarioType=2:this.trafficScenarioType=128,s.it.isRestrictedAccess()&&(this.trafficScenarioType|=8)}getScenarioType(){return this.trafficScenarioType||this.setScenarioType(),this.trafficScenarioType}getScriptInjectionMode(){return this.scriptInjectionMode||this.setScriptInjectionMode(),this.scriptInjectionMode}setScriptInjectionMode(){this.scriptInjectionMode=1}objectLookup(t,e,i){try{const n=t[e];if(n)return n;if(!this.isTop(t)&&i>0)return this.objectLookup(this.getWindowParent(t,!0),e,i-1)}catch(t){}}getUserAgent(){var t;return null===(t=this.workingWindow().navigator)||void 0===t?void 0:t.userAgent}getBaseFileNameFromURL(t){var e,i,n,s;const r=null===(s=null===(n=null===(i=null===(e=t.pathname)||void 0===e?void 0:e.split("/"))||void 0===i?void 0:i.pop())||void 0===n?void 0:n.split("."))||void 0===s?void 0:s.shift();return null==r?void 0:r.replace(/\d+$/,"")}monitorScriptsPerformance(t,e){var i;const n={};try{if(!(null===(i=t.performance)||void 0===i?void 0:i.getEntries))return n;const s=Object.keys(e),r=t.performance.getEntries().filter((t=>"resource"===t.entryType.toLocaleLowerCase())).filter((t=>s.some((e=>t.name.includes(`/${e}`)))));for(const t of r){const i=new URL(t.name),s=this.getBaseFileNameFromURL(i),r=e[s];if(null==r?void 0:r.length)for(const e of r)n[`${s}_${e}`]=Math.round(t[e])}}catch(t){}return n}getVisibilityState(){try{return this.workingDocument().visibilityState}catch(t){}}getNavigator(){return this.currentWindow().navigator}isCryptoSupported(){return"undefined"!=typeof crypto}isMessageChannelSupported(){return"undefined"!=typeof MessageChannel}isPostMessageSupported(t=this.workingWindow()){return t&&"function"==typeof t.postMessage}isNodeSupported(){return"undefined"!=typeof Node}getCurrentScript(){return this.currentDocument().currentScript}isPerformanceAPISupported(){const t=this.currentWindow();return!(!t.performance||"function"!=typeof t.performance.mark||"function"!=typeof t.performance.measure||"function"!=typeof t.performance.getEntriesByName)}getNumberOfCores(){if(this.getNavigator())return this.getNavigator().hardwareConcurrency}setGlobalVariable(t,e){window[t]=e}}e.Se=r;const o=s.it.Qt(),a=null==o?void 0:o.isDomlessEnvironment;e.S=a?new n.WindowOmidAdaptorClass:new r},2614:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.WindowOmidAdaptorClass=e.WindowMock=void 0;e.WindowMock=class{getWindowMockInstance(){return{location:{protocol:"https:"},document:{body:{insertBefore(t,e){}},getElementById(t){},createElement(t){},querySelectorAll(t){}}}}};e.WindowOmidAdaptorClass=class{constructor(){this.windowMock=dvWindow}currentWindow(){return this.windowMock}currentDocument(){return this.currentWindow().document}workingWindow(){return this.currentWindow()}workingBody(){return this.currentWindow().document.body}workingDocument(){return this.currentDocument()}workingDocumentElement(){}windowTop(t){return this.currentWindow()}isTop(t){return!0}documentTop(){return this.currentDocument()}getWindowParent(t,e){}windowName(){return""}getIframeWindow(t){}getFrameElement(t){}getDefaultWindow(t){}isDomlessEnvironment(){return!0}isIOS(){return!0}getWindowProtocol(){return"https:"}getTopAccessibleWindow(){return this.workingWindow()}getScenarioType(){return 4}getScriptInjectionMode(){return 0}objectLookup(t,e,i){}getUserAgent(){}monitorScriptsPerformance(t,e){return{}}getVisibilityState(){}getNavigator(){}isCryptoSupported(){return"undefined"!=typeof crypto}isMessageChannelSupported(){return!1}isPostMessageSupported(){return!1}isNodeSupported(){return"undefined"!=typeof Node}getCurrentScript(){}isPerformanceAPISupported(){return!1}getNumberOfCores(){}setGlobalVariable(t,e){globalThis[t]=e}}},3285:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.TIKTOK_AD_SERVER_ID=e.CELTRA_AD_SERVER_ID=e.DFA_AD_SERVER_ID=void 0,e.DFA_AD_SERVER_ID="1",e.CELTRA_AD_SERVER_ID="179",e.TIKTOK_AD_SERVER_ID="198"},630:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.OmidImpressionType=e.OmidAdEventType=e.OmidCreativeType=e.OmidAccessModeString=void 0,e.OmidAccessModeString={FULL:"full",DOMAIN:"domain",LIMITED:"limited"},e.OmidCreativeType={UNKNOWN:"unknown",NATIVE_DISPLAY:"nativeDisplay",HTML_DISPLAY:"htmlDisplay",VIDEO:"video",AUDIO:"audio"},e.OmidAdEventType={IMPRESSION:"impression",LOADED:"loaded",GEOMETRY_CHANGE:"geometryChange",SESSION_START:"sessionStart",SESSION_ERROR:"sessionError",SESSION_FINISH:"sessionFinish",MEDIA:"media",VIDEO:"video",START:"start",FIRST_QUARTILE:"firstQuartile",MIDPOINT:"midpoint",THIRD_QUARTILE:"thirdQuartile",COMPLETE:"complete",PAUSE:"pause",RESUME:"resume",BUFFER_START:"bufferStart",BUFFER_FINISH:"bufferFinish",SKIPPED:"skipped",VOLUME_CHANGE:"volumeChange",PLAYER_STATE_CHANGE:"playerStateChange",AD_USER_INTERACTION:"adUserInteraction"},e.OmidImpressionType={DEFINED_BY_JAVASCRIPT:"definedByJavaScript",UNSPECIFIED:"unspecified",LOADED:"loaded",BEGIN_TO_RENDER:"beginToRender",ONE_PIXEL:"onePixel",VIEWABLE:"viewable",AUDIBLE:"audible",OTHER:"other",UNKNOWN:"unknown"}},5492:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.AdColonyMethod=e.AdColonyMethodClass=void 0;const n=i(1439),s=i(712),r=i(6681),o=i(425);class a{constructor(){this.exposureChangeRegistered=!1}isSupported(t){let e,i,n,s,o;try{if(!r.MraidWrapper.isSupported())return!1;o=r.MraidWrapper.runMraidFunctionSafely("getSDKVersion");const t=o.split(".");[e,i]=t,n=e>3||3==e&&i>=4,s=r.MraidWrapper.isAdColony()}catch(t){}return!(!n||!s)&&(t.mraidVersion=o.toString(),!0)}registerExposureChange(){this.exposureChangeRegistered||(r.MraidWrapper.runMraidRegisterSafely("exposureChange",this.handleExposureChangeEvent.bind(this)),this.exposureChangeRegistered=!0)}getAdCandidateAssets(t){if(r.MraidWrapper.getIsMraidReady())return this.registerExposureChange(),{viewportSize:this.getViewportSize(),screenSize:this.getScreenSize(),adGeometric:(0,n.createNormalisedGeometry)(r.MraidWrapper.runMraidFunctionSafely("getDefaultPosition")),percentage:this.viewabilityPercentage,viewabilityCalculationType:this.getMethodId()}}getViewportSize(){return r.MraidWrapper.runMraidFunctionSafely("getScreenSize")}getScreenSize(){let t,e;const i=this.getViewportSize();return({height:t,width:e}=i||o.W.getScreenSize()),{height:t,width:e}}getMethodId(){return s.ViewabilityCalculationTypes.AdColonyMraid}destroyAdCandidateMethod(){}handleExposureChangeEvent(t){this.viewabilityPercentage=t}}e.AdColonyMethodClass=a,e.AdColonyMethod=new a},2705:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.AllScenarioIntersectionObserverMethod=e.AllScenarioIntersectionObserverMethodClass=void 0;const n=i(1439),s=i(425),r=i(712),o=i(7537),a=i(319);class c extends o.WebCalculationMethodBase{constructor(){super(...arguments),this.threshold=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]}isSupported(t){return this.isIntersectionObserverSupported(t.windowElement)}isIntersectionObserverSupported(t){return!!t&&("IntersectionObserver"in t&&"IntersectionObserverEntry"in t&&"intersectionRatio"in t.IntersectionObserverEntry.prototype)}getAdCandidateAssets(t){const e=t.domElement,i=this.getWrapperSize(t);this.init(t);const s=(0,a.getBoundingClientRect)(e),r=this.getAdViewablePercentage(t),o=this.getAdPosition(t);return{viewportSize:this.getViewportSize(t.windowElement),wrapperSize:i,screenSize:this.getScreenSize(),adGeometric:(0,n.createNormalisedGeometry)({x:o.left,y:o.top,width:s.width,height:s.height}),percentage:r,viewabilityCalculationType:this.getMethodId()}}getViewportSize(t){return s.W.getOuterViewport(t)}getMethodId(){return r.ViewabilityCalculationTypes.AllScenarioIntersectionObserver}destroyAdCandidateMethod(t){t.intersectionObserverObj&&t.intersectionObserverObj.unobserve(t.domElement)}getAdViewablePercentage(t){var e;return(null===(e=t.intersectionObserverData)||void 0===e?void 0:e.intersectionRatio)?100*t.intersectionObserverData.intersectionRatio:0}getAdPosition(t){var e;let i={top:0,left:0};return(null===(e=t.intersectionObserverData)||void 0===e?void 0:e.intersectionRect)&&(i={top:t.intersectionObserverData.intersectionRect.top,left:t.intersectionObserverData.intersectionRect.left}),i}init(t){if(t.intersectionObserverObj)return;const e=t.domElement,i=this.visibilityChangeCallback.bind(this,t);t.intersectionObserverObj=new t.windowElement.IntersectionObserver(i,{threshold:this.threshold}),t.intersectionObserverObj.observe(e)}visibilityChangeCallback(t,e){e.forEach((e=>t.intersectionObserverData=e))}}e.AllScenarioIntersectionObserverMethodClass=c,e.AllScenarioIntersectionObserverMethod=new c},8253:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.AmpIntersectionObserverMethod=e.AmpIntersectionObserverMethodClass=void 0;const n=i(1439),s=i(425),r=i(712),o=i(3868),a=i(3946),c=i(7537),u=i(319);class d extends c.WebCalculationMethodBase{isSupported(t){var e;const i=t.windowElement,n=a.BrowserDetector.getBrowserId()!=r.Browser.IE||parseInt(a.BrowserDetector.getBrowserVersion())>11,s=128==(128&o.S.getScenarioType());return n&&s&&!!(null===(e=i.context)||void 0===e?void 0:e.observeIntersection)}getAdCandidateAssets(t){const e=t.domElement,i=this.getWrapperSize(t);this.init(t);const s=(0,u.getBoundingClientRect)(e),r=this.getAdViewablePercentage(t),o=this.getAdPosition(t);return{viewportSize:this.getViewportSize(t.windowElement),wrapperSize:i,screenSize:this.getScreenSize(),adGeometric:(0,n.createNormalisedGeometry)({x:o.left,y:o.top,width:s.width,height:s.height}),percentage:r,viewabilityCalculationType:this.getMethodId()}}getViewportSize(t){return s.W.getOuterViewport(t)}getMethodId(){return r.ViewabilityCalculationTypes.AmpIntersectionObserver}destroyAdCandidateMethod(t){t.ampIntersectionObserverStopFunction&&t.ampIntersectionObserverStopFunction()}getAdViewablePercentage(t){return t.intersectionObserverData?100*t.intersectionObserverData.intersectionRatio:0}getAdPosition(t){if(!t.intersectionObserverData)return{top:0,left:0};const e=t.intersectionObserverData.boundingClientRect;return{top:e.top,left:e.left}}init(t){if(t.ampIntersectionObserverStopFunction)return;const e=t.windowElement,i=this.visibilityChangeCallback.bind(this,t);t.ampIntersectionObserverStopFunction=e.context.observeIntersection(i)}visibilityChangeCallback(t,e){e.forEach((e=>t.intersectionObserverData=e))}}e.AmpIntersectionObserverMethodClass=d,e.AmpIntersectionObserverMethod=new d},2434:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=()=>{window.isReady=!1,window.animateFrameRate=0;let t=0,e=0;const i=function(e){t++,requestAnimationFrame(i)};requestAnimationFrame(i),setInterval((()=>{t<10&&requestAnimationFrame(i),window.animateFrameRate=t-e,e=t}),100),setTimeout((()=>{window.isReady=!0}),250)}},4254:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.GeometricMethod=e.GeometricMethodClass=void 0;const n=i(1439),s=i(425),r=i(319),o=i(3868),a=i(712),c=i(3380),u=i(749),d=i(7537);class l extends d.WebCalculationMethodBase{isSupported(){return(3&o.S.getScenarioType())>0}getAdCandidateAssets(t){const e=t.domElement,i=t.windowElement,s=this.getAssetVisibleDimension(e,i),r=this.getAssetPercentageInViewRelativeToDirectParent(e,i),o=this.getViewportSize(),a=this.getWrapperSize(t),u=this.getOffScreenAssetVisibleDimension(s,i),d=this.getOffScreenViewportSize(i);let l=c.Utilities.getElementVisiblePercentage(s,o);l&&r&&(l*=r);const h=c.Utilities.getElementVisiblePercentage(u,d);return{viewportSize:o,wrapperSize:a,screenSize:this.getScreenSize(),adGeometric:(0,n.createNormalisedGeometry)({y:s.top,x:s.left,width:s.width,height:s.height}),percentage:l,offScreenPercentage:h,viewabilityCalculationType:this.getMethodId()}}getViewportSize(){return s.W.getInnerViewport()}getMethodId(){return a.ViewabilityCalculationTypes.Geometric}getBoundariesViewability(t){const e=t.domElement,i=this.getAssetVisibleDimension(e,t.windowElement),n=this.getViewportSize(),s={topLeft:!0,topRight:!0,bottomLeft:!0,bottomRight:!0};return(i.top<0||i.top>n.height)&&(s.topLeft=s.topRight=!1),(i.bottom<0||i.bottom>n.height)&&(s.bottomLeft=s.bottomRight=!1),(i.left<0||i.left>n.width)&&(s.bottomLeft=s.topLeft=!1),(i.right<0||i.right>n.width)&&(s.bottomRight=s.topRight=!1),s}getOffScreenViewportSize(t){const e={width:this.getViewportSize().width,height:this.getViewportSize().height},i=s.W.getViewportAssetsRelativeToScreen(t),n=s.W.getOuterViewport(t).height-e.height,r=i.top+n,o=s.W.getScreenSize();return i.left<0?e.width+=i.left:i.left>0&&i.left+e.width>o.width&&(e.width=o.width-i.left),r>0&&r+e.height>o.height&&(e.height=o.height-r),e}getAssetVisibleDimension(t,e){let i={width:0,height:0,left:0,right:0,top:0,bottom:0};const n=o.S.getWindowParent(e);try{if(t&&(i=this.getElementPositionRelativeToViewport(t,e),e!=n)){const t=this.getAssetVisibleDimension(e.frameElement,n);i.bottom=Math.min(i.bottom,t.bottom),i.top=Math.max(i.top,t.top),i.right=Math.min(i.right,t.right),i.left=Math.max(i.left,t.left),i.width=i.right-i.left,i.height=i.bottom-i.top}}catch(t){}return i}getAssetPercentageInViewRelativeToDirectParent(t,e){try{const i=this.getAssetVisibleDimension(t,e);if(t){const e=(0,r.getBoundingClientRect)(t),n=e.right-e.left,s=(e.bottom-e.top)*n;if(s<=0)return;return i.height*i.width/s}}catch(t){u.A.sendError(a.ClientErrorType.MeasurementError,t,"percentage_in_view_geometric_calculation_err")}}getOffScreenAssetVisibleDimension(t,e){const i=s.W.getViewportAssetsRelativeToScreen(e).left,n={left:t.left,right:t.right,top:t.top,bottom:t.bottom,height:t.height,width:t.width};return i<0&&(n.left+=i,n.right+=i),n}getElementPositionRelativeToViewport(t,e){let i={left:0,right:0,top:0,bottom:0,width:0,height:0};const n=o.S.getWindowParent(e),s=(0,r.getBoundingClientRect)(t);return e!=n&&(i=this.getElementPositionRelativeToViewport(e.frameElement,n)),i={left:s.left+i.left,right:s.right+i.left,top:s.top+i.top,bottom:s.bottom+i.top,width:Math.ceil(s.width),height:Math.ceil(s.height)},i}}e.GeometricMethodClass=l,e.GeometricMethod=new l},9965:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.IntersectionObserverMethod=e.IntersectionObserverMethodClass=void 0;const n=i(1439),s=i(425),r=i(712),o=i(3868),a=i(7537),c=i(319);class u extends a.WebCalculationMethodBase{constructor(){super(...arguments),this.threshold=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]}isSupported(t){return(128&o.S.getScenarioType())>0&&this.isIntersectionObserverSupported(t.windowElement)}isIntersectionObserverSupported(t){return"IntersectionObserver"in t&&"IntersectionObserverEntry"in t&&"intersectionRatio"in t.IntersectionObserverEntry.prototype}getAdCandidateAssets(t){const e=t.domElement,i=this.getWrapperSize(t);this.init(t);const s=(0,c.getBoundingClientRect)(e),r=this.getAdViewablePercentage(t),o=this.getAdPosition(t);return{viewportSize:this.getViewportSize(t.windowElement),wrapperSize:i,screenSize:this.getScreenSize(),adGeometric:(0,n.createNormalisedGeometry)({x:o.left,y:o.top,width:s.width,height:s.height}),percentage:r,viewabilityCalculationType:this.getMethodId()}}getViewportSize(t){return s.W.getOuterViewport(t)}getMethodId(){return r.ViewabilityCalculationTypes.IntersectionObserver}destroyAdCandidateMethod(t){t.intersectionObserverObj&&t.intersectionObserverObj.unobserve(t.domElement)}getAdViewablePercentage(t){var e;return(null===(e=t.intersectionObserverData)||void 0===e?void 0:e.intersectionRatio)?100*t.intersectionObserverData.intersectionRatio:0}getAdPosition(t){var e;let i={top:0,left:0};return(null===(e=t.intersectionObserverData)||void 0===e?void 0:e.intersectionRect)&&(i={top:t.intersectionObserverData.intersectionRect.top,left:t.intersectionObserverData.intersectionRect.left}),i}init(t){if(t.intersectionObserverObj)return;const e=t.domElement,i=this.visibilityChangeCallback.bind(this,t);t.intersectionObserverObj=new t.windowElement.IntersectionObserver(i,{threshold:this.threshold}),t.intersectionObserverObj.observe(e)}visibilityChangeCallback(t,e){e.forEach((e=>t.intersectionObserverData=e))}}e.IntersectionObserverMethodClass=u,e.IntersectionObserverMethod=new u},8781:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.Mraid3Method=e.Mraid3MethodClass=void 0;const n=i(1439),s=i(712),r=i(6681),o=i(425);class a{constructor(){this.exposureChangeRegistered=!1}isSupported(t){let e,i;try{i=r.MraidWrapper.runMraidFunctionSafely("getVersion"),[e]=i.split(".")}catch(t){}return!(!r.MraidWrapper.isSupported()||"3"!=e)&&(t.mraidVersion=i,!0)}registerExposureChange(){this.exposureChangeRegistered||(r.MraidWrapper.runMraidRegisterSafely("exposureChange",this.handleExposureChangeEvent.bind(this)),this.exposureChangeRegistered=!0)}handleExposureChangeEvent(t){this.viewabilityPercentage=t.exposedPercentage}getAdCandidateAssets(t){if(r.MraidWrapper.getIsMraidReady())return this.registerExposureChange(),{viewportSize:this.getViewportSize(),screenSize:this.getScreenSize(),adGeometric:(0,n.createNormalisedGeometry)(r.MraidWrapper.runMraidFunctionSafely("getDefaultPosition")),percentage:null!=this.viewabilityPercentage?this.viewabilityPercentage:r.MraidWrapper.getAdViewablePercentage(),viewabilityCalculationType:this.getMethodId()}}getViewportSize(){return r.MraidWrapper.runMraidFunctionSafely("getScreenSize")}getScreenSize(){let t,e;const i=this.getViewportSize();return({height:t,width:e}=i||o.W.getScreenSize()),{height:t,width:e}}getMethodId(){return s.ViewabilityCalculationTypes.Mraid3}destroyAdCandidateMethod(){}}e.Mraid3MethodClass=a,e.Mraid3Method=new a},8317:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.MraidMethod=e.MraidMethodClass=void 0;const n=i(1439),s=i(712),r=i(6681),o=i(425);class a{isSupported(t){return!!r.MraidWrapper.isSupported()&&(t.mraidVersion=r.MraidWrapper.runMraidFunctionSafely("getVersion"),!0)}getAdCandidateAssets(t){if(r.MraidWrapper.getIsMraidReady()){const t=(0,n.createNormalisedGeometry)(r.MraidWrapper.runMraidFunctionSafely("getDefaultPosition")),e={width:null==t?void 0:t.width,height:null==t?void 0:t.height};return{viewportSize:this.getViewportSize(),wrapperSize:e,screenSize:this.getScreenSize(),adGeometric:t,percentage:r.MraidWrapper.getAdViewablePercentage(),viewabilityCalculationType:this.getMethodId()}}}getViewportSize(){return r.MraidWrapper.runMraidFunctionSafely("getScreenSize")}getScreenSize(){let t,e;const i=this.getViewportSize();return({height:t,width:e}=i||o.W.getScreenSize()),{height:t,width:e}}getMethodId(){return s.ViewabilityCalculationTypes.Mraid}destroyAdCandidateMethod(){}}e.MraidMethodClass=a,e.MraidMethod=new a},8996:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.OmidMethod=e.OmidMethodClass=void 0;const n=i(1439),s=i(712),r=i(870),o=i(425),a=i(8379),c=i(7360),u=i(9450),d=i(3380),l=i(8170),h=i(3783);class v{isSupported(t){return r.omidAdapter.isSupported()}getAdCandidateAssets(t){this.init(t);const e=t.omidViewport,i=t.omidWrapperSize;let n,s,r,o=0;if(t.omidAdView&&(n=t.omidAdView.percentageInView,s=t.omidAdView.geometry,r=t.omidAdView.reasons),Array.isArray(r)&&r.length){r.forEach((t=>o|=a.OmidGeometryReasonLog[t]));const e=t.omidGeometryReasonsBitWise|o;o&&e!=t.omidGeometryReasonsBitWise&&(t.omidGeometryReasonsBitWise=e,c.u.dispatchEvent(c.DvEvents.reportData,new u.AdCandidateEventData(t)))}return{viewportSize:e,screenSize:this.getScreenSize(null,t),adGeometric:s,percentage:n,viewabilityCalculationType:this.getMethodId(),wrapperSize:i}}getViewportSize(t,e){return e.omidViewport}getScreenSize(t,e){let i,n;const s=this.getViewportSize(null,e);return({height:i,width:n}=s||o.W.getScreenSize()),{height:i,width:n}}getMethodId(){return s.ViewabilityCalculationTypes.Omid}destroyAdCandidateMethod(){}init(t){t.omidInitialized||(t.omidInitialized=!0,["geometryChange","impression"].forEach((e=>r.omidAdapter.addEventListener(e,this.geometryChangeCallback.bind(this,t,e)))))}geometryChangeCallback(t,e,i){if(null==i?void 0:i.data){const{data:s}=i;if(s.adView){const r=(0,n.createNormalisedGeometry)(s.adView.geometry);t.omidAdView=Object.assign(Object.assign({},s.adView),{geometry:r}),"geometryChange"===e&&!t.omidFirstAdSizeFromGeometryMs&&s.adView.geometry&&s.adView.geometry.width>0&&s.adView.geometry.height>0&&(t.omidFirstAdSizeFromGeometryMs=d.Utilities.getTimeDiff(),t.omidMeasuredElementType=this.extractMeasuredElementType(s.adView),t.omidWrapperSize=this.extractWrapperSize(i),h.DiagnosticParamsReporterSingleton.reportDiagnosticParam(l.DiagnosticParams.omidFirstAdSizeFromGeometryMs,t.omidFirstAdSizeFromGeometryMs))}s.viewport&&(t.omidViewport=s.viewport)}}extractWrapperSize(t){var e;try{const i=null===(e=null==t?void 0:t.data)||void 0===e?void 0:e.adView,n=null==i?void 0:i.measuringElement,s=({height:t,width:e}={})=>({height:t,width:e});if(n)return s(i.containerGeometry);const r=null==i?void 0:i.geometry;if(r)return s(r)}catch(t){}}extractMeasuredElementType(t){try{return!0===(null==t?void 0:t.measuringElement)?1:2}catch(t){return 0}}}e.OmidMethodClass=v,e.OmidMethod=new v},986:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ResourceBased=e.ResourceBasedClass=void 0;const n=i(1439),s=i(425),r=i(319),o=i(712),a=i(3868),c=i(3380),u=i(5999),d=i(3946),l=i(2434),h=i(7537),v=i(8170),p=i(3783);class f extends h.WebCalculationMethodBase{isSupported(){var t;const e=(d.BrowserDetector.getBrowserId()==o.Browser.Safari||d.BrowserDetector.getBrowserId()==o.Browser.SafariWebView)&&!/^[3-8]/.test(d.BrowserDetector.getBrowserVersion())||(d.BrowserDetector.getBrowserId()==o.Browser.Chrome||d.BrowserDetector.getBrowserId()==o.Browser.ChromeWebView)&&parseInt(d.BrowserDetector.getBrowserVersion())>=50;if(128!=(128&a.S.getScenarioType())||!e)return!1;const i=a.S.workingWindow(),n=a.S.workingDocument(i),s=a.S.workingBody(n);if(!i||!n||!s)return!1;let c=null,u=!1;try{c=(0,r.createElement)("iframe"),c.style.position="absolute",c.style.visibility="hidden",c.style.width="0px",c.style.height="0px",s.appendChild(c),c.contentDocument&&(u=!0)}catch(t){u=!1}finally{null===(t=null==c?void 0:c.parentElement)||void 0===t||t.removeChild(c)}return u}getAdCandidateAssets(t){t.resourceBasedBeacons||this.createFrameBeacons(t);const e=this.getWrapperSize(t),i=t.domElement,s=(0,r.getBoundingClientRect)(i);let o;if(this.checkBeaconsMechanism(t)){const e=t.resourceBasedBeacons[0];o=u.BeaconsAdaptor.getElementVisiblePercentageWithBeacons(t.resourceBasedBeacons,this.isBeaconViewable.bind(this,e))}return{viewportSize:this.getViewportSize(t.windowElement),wrapperSize:e,screenSize:this.getScreenSize(),adGeometric:(0,n.createNormalisedGeometry)({x:0,y:0,width:null==s?void 0:s.width,height:null==s?void 0:s.height}),percentage:o,viewabilityCalculationType:this.getMethodId()}}getViewportSize(t){return s.W.getOuterViewport(t)}getMethodId(){return o.ViewabilityCalculationTypes.ResourceBased}destroyAdCandidateMethod(t){if(!t.resourceBasedBeacons)return;const e=t.resourceBasedBeacons[0].parentElement,i=a.S.workingDocument(t.windowElement);a.S.workingBody(i).removeChild(e),t.resourceBasedBeacons=null}getBoundariesViewability(t){t.resourceBasedBeacons||this.createFrameBeacons(t);const e={topLeft:!1,topRight:!1,bottomLeft:!1,bottomRight:!1};if(!this.checkBeaconsMechanism(t))return e;const i=t.resourceBasedBeacons[0];for(let n=1;n<=4;n++){const s=t.resourceBasedBeacons[n];if(this.isBeaconViewable(i,s))switch(n){case 1:e.topLeft=!0;break;case 2:e.topRight=!0;break;case 3:e.bottomLeft=!0;break;case 4:e.bottomRight=!0}}return e}isBeaconViewable(t,e){const i=a.S.getIframeWindow(t).animateFrameRate;return a.S.getIframeWindow(e).animateFrameRate-i>5}createFrameBeacons(t){try{t.resourceBasedBeacons=[];const e=a.S.workingDocument(t.windowElement),i=(0,r.createElement)("div");a.S.workingBody(e).appendChild(i);const n=[];c.Utilities.times(14,(()=>{const t=(0,r.createElement)("iframe");t.width=8..toString(),t.height=8..toString(),t.style.position="absolute",t.frameBorder="0",t.style.visibility="hidden",i.appendChild(t);const e=t.contentDocument.createElement("script");e.innerHTML=`(${l.default.toString()})()`,t.contentDocument.body.appendChild(e),n.push(t)})),t.resourceBasedBeacons=n,u.BeaconsAdaptor.positionBeacons(t.domElement,n,8)}catch(t){throw Math.random()<=.25&&p.DiagnosticParamsReporterSingleton.reportOnce(v.DiagnosticParams.errorStackTrace,t.stack),t}}checkBeaconsMechanism(t){if(!t.resourceBasedBeacons||0==t.resourceBasedBeacons.length)return!1;const e=t.resourceBasedBeacons[0],i=a.S.getIframeWindow(e),n=null==i?void 0:i.animateFrameRate;return(null==i?void 0:i.isReady)&&n<7}}e.ResourceBasedClass=f,e.ResourceBased=new f},6662:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ScreenGeometricMethod=e.ScreenGeometricMethodClass=void 0;const n=i(1439),s=i(425),r=i(712),o=i(3946),a=i(3868),c=i(3380),u=i(7537),d=i(319);class l extends u.WebCalculationMethodBase{isSupported(t){const e=t.windowElement,i=128==(128&a.S.getScenarioType()),n=o.BrowserDetector.getBrowserId()==r.Browser.IE&&null!=e.screenTop&&null!=e.screenLeft,s=o.BrowserDetector.getBrowserId()==r.Browser.Firefox&&null!=e.mozInnerScreenX&&null!=e.mozInnerScreenY;return i&&(n||s)}getAdCandidateAssets(t){const e=t.domElement,i=this.getViewportSize(t.windowElement),r=this.getWrapperSize(t),o={width:0,height:0,left:0,right:0,top:0,bottom:0},a=s.W.getViewportAssetsRelativeToScreen(t.windowElement),u=s.W.getIframeAssetsRelativeToScreen(t.windowElement),l=u.left-a.left,h=u.top-a.top,v=(0,d.getBoundingClientRect)(e);o.left=l+v.left,o.right=l+v.right,o.top=h+v.top,o.bottom=h+v.bottom,o.width=Math.ceil(v.width),o.height=Math.ceil(v.height);const p=c.Utilities.getElementVisiblePercentage(o,i);return{viewportSize:this.getViewportSize(t.windowElement),wrapperSize:r,screenSize:this.getScreenSize(),adGeometric:(0,n.createNormalisedGeometry)({x:o.left,y:o.top,width:o.width,height:o.height}),percentage:p,viewabilityCalculationType:this.getMethodId()}}getViewportSize(t){return s.W.getOuterViewport(t)}getMethodId(){return r.ViewabilityCalculationTypes.ScreenGeometric}}e.ScreenGeometricMethodClass=l,e.ScreenGeometricMethod=new l},7537:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.WebCalculationMethodBase=void 0;const n=i(3868),s=i(425);e.WebCalculationMethodBase=class{getWrapperSize(t){try{return n.S.getElementWindowDimensions(t.domElement)}catch(t){}}getScreenSize(){return s.W.getScreenSize()}destroyAdCandidateMethod(t){}}},7815:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.HiddenAdsDataCollector=void 0;const n=i(912),s=i(194),r=i(3868),o=i(7749),a=i(3380),c=i(319);class u extends n.BaseAdDataCollector{isSupported(){return!(r.S.isDomlessEnvironment()||128==(128&r.S.getScenarioType()))}startCollectData(t){let e=0;try{const i=o.I.isSellerTag(),n=a.Utilities.isPercentageCriteriaPassed(5),r=s.it.isCTV()||s.it.isMobileApp()||t.supportedDeliveryType.some((t=>3==t||4==t));e=!n||i||r||!t.domElement?0:(0,c.isAdElementHidden)(t.domElement)}catch(t){e=-1}t.hiddenAdsIndicator=e}stopCollectData(){}}e.HiddenAdsDataCollector=u},1194:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.AutoplayDataCollector=void 0;const n=i(912),s=i(7749),r=i(3939),o=i(7360),a=i(9205),c=i(6942);class u extends n.BaseAdDataCollector{isSupported(){return 1==s.I.getTagType()}startCollectData(t){const e=o.u.addEventListener(o.DvEvents.videoStartPlaying,this.checkIsAutoplay.bind(this));t.autoplayEventSubscriptionIds.push(e)}stopCollectData(t){o.u.removeEventListener(t.autoplayEventSubscriptionIds[0])}getSupportedAutoplayMethods(t){return[r.DetectAutoplayByAutoplayAttribute,a.DetectAutoplayByTime,c.DetectAutoplayByJWPlayer].filter((e=>e.isSupported(t)))}checkIsAutoplay(t){const{adCandidate:e}=t;if(void 0===e.autoplayDetectionMethod){const t=e,i=this.getSupportedAutoplayMethods(e);t.autoplayDetectionMethod=0,i.forEach((function(i){i.isAutoplayed(e)&&(t.autoplayDetectionMethod=t.autoplayDetectionMethod|i.getMethodId())}))}}}e.AutoplayDataCollector=u},3939:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.DetectAutoplayByAutoplayAttribute=e.DetectAutoplayByAutoplayAttributeClass=void 0;const n=i(3380),s=i(319);class r{isSupported(t){return t&&n.Utilities.isVideoElement(t.domElement)}getMethodId(){return 1}isAutoplayed(t){return(0,s.safeGetAttribute)(t.domElement,"autoplay")||!1}}e.DetectAutoplayByAutoplayAttributeClass=r,e.DetectAutoplayByAutoplayAttribute=new r},6942:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.DetectAutoplayByJWPlayer=e.DetectAutoplayByJWPlayerClass=void 0;const n=i(3868);class s{isSupported(){return"function"==typeof n.S.workingWindow().jwplayer}getMethodId(){return 2}isAutoplayed(){var t;let e=!1;const i=n.S.workingWindow().jwplayer(),s=null===(t=null==i?void 0:i.getConfig)||void 0===t?void 0:t.call(i);return s&&(e=s.autostart),e}}e.DetectAutoplayByJWPlayerClass=s,e.DetectAutoplayByJWPlayer=new s},9205:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.DetectAutoplayByTime=e.DetectAutoplayByTimeClass=void 0;const n=i(3380),s=i(425);class r{constructor(){this.isAutoplayedTimeThreshold=1e3}isSupported(){return!0}getMethodId(){return 4}isAutoplayed(t){const e=s.W.getNavigationStartTime();let i=!1;return e&&(i=t.videoStartTime-n.Utilities.getTimeDiff(e)<=this.isAutoplayedTimeThreshold),i}}e.DetectAutoplayByTimeClass=r,e.DetectAutoplayByTime=new r},912:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.BaseAdDataCollector=void 0;const n=i(7360);e.BaseAdDataCollector=class{constructor(){this.isSupported()&&n.u.addEventsListener({[n.DvEvents.adCandidateApproved]:this.startCollectDataWrapper.bind(this),[n.DvEvents.adDestroy]:this.stopCollectDataWrapper.bind(this)})}startCollectDataWrapper(t){this.startCollectData(t.adCandidate)}stopCollectDataWrapper(t){this.stopCollectData(t.adCandidate)}}},6243:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.BaseDataCollector=void 0;e.BaseDataCollector=class{constructor(){this.isSupported()&&this.startCollectData()}}},7449:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.BaseGlobalDataCollector=void 0;const n=i(7360);e.BaseGlobalDataCollector=class{constructor(){this.isSupported()&&(this.startCollectData(),n.u.addEventsListener({[n.DvEvents.adCandidateApproved]:this.registerToGlobalEvent.bind(this)}))}processAdDataWrapper(t){this.processAdData(t.adCandidate)}registerToGlobalEvent(t){n.u.addEventListener(this.getGlobalEventName(),this.processAdDataWrapper.bind(this,t))}}},9615:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.BoundariesViewabilityDataCollector=void 0;const n=i(986),s=i(4254),r=i(7360),o=i(9450),a=i(912),c=i(870);class u extends a.BaseAdDataCollector{isSupported(){return!c.omidAdapter.isSupported()}startCollectData(t){if(t.supportedDeliveryType.some((t=>2==t))){const e=this.getSupportedMethod(t);if(!e)return;r.u.addEventListener(r.DvEvents.viewabilityIntervalData,this.handleViewabilityData.bind(this,e))}}stopCollectData(t){n.ResourceBased.destroyAdCandidateMethod(t)}getArea(t){if((null==t?void 0:t.width)&&(null==t?void 0:t.height))return t.width*t.height}handleViewabilityData(t,e){const i=e.adCandidate,n=e.relevantData,s=this.getArea(n.adGeometric),r=this.getArea(n.viewportSize);s&&r&&s<r||this.publishAdBoundariesViewabilityData(t,i)}getSupportedMethod(t){return[s.GeometricMethod,n.ResourceBased].find((e=>e.isSupported(t)))}publishAdBoundariesViewabilityData(t,e){const i=t.getBoundariesViewability(e);r.u.dispatchEvent(r.DvEvents.boundariesViewabilityIntervalData,new o.AdCandidateEventData(e,{boundariesViewability:i}))}}e.BoundariesViewabilityDataCollector=u},4874:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.AdInteractionEventDataCollector=void 0;const n=i(7360),s=i(425),r=i(912),o=i(9450),a=i(870),c=i(3868),u=i(5309),d=i(815);class l extends r.BaseAdDataCollector{constructor(){super(...arguments),this.enhancedDeepIframeEngagement=[{domEventName:"click",dvEventToDispatch:n.DvEvents.firstClickOnDeepDescendantIframe,elementToListenTo:"deepDescendantIframe",measuredDvEventToDispatch:n.DvEvents.clickMeasured,eventReferenceSymbol:Symbol("First click on deep descendant iframe event")},{domEventName:"touchstart",dvEventToDispatch:n.DvEvents.firstTouchOnDeepDescendantIframe,elementToListenTo:"deepDescendantIframe",measuredParam:"isTouchMeasured",eventReferenceSymbol:Symbol("First touch on deep descendant iframe event")}],this.enhancedIframeEngagement=[{domEventName:"click",dvEventToDispatch:n.DvEvents.firstClickOnDescendantIframe,elementToListenTo:"descendantIframes",measuredDvEventToDispatch:n.DvEvents.clickMeasured,eventReferenceSymbol:Symbol("First click on descendant iframe event")},{domEventName:"touchstart",dvEventToDispatch:n.DvEvents.firstTouchOnDescendantIframe,elementToListenTo:"descendantIframes",measuredParam:"isTouchMeasured",eventReferenceSymbol:Symbol("First touch on descendant iframe event")}],this.interactionEventSubscriptions=[{domEventName:"click",dvEventToDispatch:n.DvEvents.firstClickOnAdElementData,elementToListenTo:"adCandidate",measuredDvEventToDispatch:n.DvEvents.clickMeasured,eventReferenceSymbol:Symbol("First click on ad candidate event")},{domEventName:"mouseover",dvEventToDispatch:n.DvEvents.firstHoverData,elementToListenTo:"adCandidate",measuredParam:"isHoverMeasured",eventReferenceSymbol:Symbol("First hover on ad candidate event")},{domEventName:"touchstart",dvEventToDispatch:n.DvEvents.firstTouchData,elementToListenTo:"adCandidate",measuredParam:"isTouchMeasured",eventReferenceSymbol:Symbol("First touch on ad candidate event")},{domEventName:"blur",dvEventToDispatch:n.DvEvents.firstFocusIntoAdElementData,elementToListenTo:"topAccessibleWindow",condition:t=>{var e;return t.domElement===(null===(e=c.S.workingDocument())||void 0===e?void 0:e.activeElement)},eventReferenceSymbol:Symbol("First focus onto ad candidate event")},{domEventName:"adSizeChange",dvEventToDispatch:n.DvEvents.adSizeData,elementToListenTo:"adCandidate",dataCollectionOverride:new v,measuredDvEventToDispatch:n.DvEvents.adSizeMeasured,eventReferenceSymbol:Symbol("First size change on ad candidate event")},...this.enhancedDeepIframeEngagement,...u.descendantIframeClickHandlersExperiment.isEnabled()?this.enhancedIframeEngagement:[]]}isSupported(){return!a.omidAdapter.isSupported()}addInteractionEventListeners(t,e){const{domEventName:i}=t,n=this.getElementsToListenTo(t,e),r=this.handleElementEvent.bind(this,e,t);e.domEvents[t.eventReferenceSymbol]=r,"descendantIframes"===t.elementToListenTo&&(e.descendantIframeHandlerCount=n.length,e.descendantIframeScanDepth=1),"deepDescendantIframe"===t.elementToListenTo&&(e.deepDescendantIframeHandlerCount=n.length,e.deepDescendantIframeScanDepth=5);return n.map((t=>s.W.addEventListener(i,r,t))).some((t=>!0===t))}startCollectData(t){this.interactionEventSubscriptions.forEach((e=>{var i;((null===(i=null==e?void 0:e.dataCollectionOverride)||void 0===i?void 0:i.startCollectData)?e.dataCollectionOverride.startCollectData(t):this.addInteractionEventListeners(e,t))&&this.updateIsMeasured(e,t)}))}updateIsMeasured(t,e){const i=t.measuredDvEventToDispatch,s=t.measuredParam;s&&(e[s]=1),i&&n.u.dispatchEvent(i,new o.AdCandidateEventData(e))}getElementsToListenTo(t,e){switch(t.elementToListenTo){case"topAccessibleWindow":return[c.S.getTopAccessibleWindow()];case"descendantIframes":return e.domElement?s.W.getNestedDocuments(e.domElement,1):[];case"deepDescendantIframe":return e.domElement?s.W.getNestedDocuments(e.domElement,5):[];default:return[e.domElement]}}handleElementEvent(t,e){const{condition:i}=e;("function"!=typeof i||i(t))&&(n.u.dispatchEvent(e.dvEventToDispatch,new o.AdCandidateEventData(t)),this.removeEventListeners(e,t))}stopCollectData(t){this.interactionEventSubscriptions.forEach((e=>{e.dataCollectionOverride?e.dataCollectionOverride.stopCollectData(t):this.removeEventListeners(e,t)}))}removeEventListeners(t,e){const i=this.getElementsToListenTo(t,e),{domEventName:n}=t,r=e.domEvents[t.eventReferenceSymbol];i.forEach((t=>{s.W.removeEventListener(n,r,t)}))}}e.AdInteractionEventDataCollector=l;class h{}class v extends h{constructor(){super(...arguments),this.interval=100,this.startCollectData=t=>this.collectAdSizeData(t),this.stopCollectData=t=>{(0,d.clearSafeInterval)(t.adSizeIntervalId)}}collectAdSizeData(t){t.adSizeIntervalId=(0,d.setSafeInterval)((()=>{try{this.handleAdSize(t)}catch(t){}}),this.interval);try{const e={width:t.domElement.clientWidth,height:t.domElement.clientHeight};return!(!e.width||!e.height)}catch(t){return!1}}handleAdSize(t){const{domElement:e}=t,i={width:e.clientWidth,height:e.clientHeight};i.width&&i.height&&(n.u.dispatchEvent(n.DvEvents.adSizeMeasured,new o.AdCandidateEventData(t)),n.u.dispatchEvent(n.DvEvents.adSizeData,new o.AdCandidateEventData(t,{adSize:i})))}}},2237:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionUnloadDataCollector=void 0;const n=i(425),s=i(3868),r=i(7360),o=i(3380),a=i(194),c=i(9450),u=i(870),d=i(7449),l=i(815);class h extends d.BaseGlobalDataCollector{startCollectData(){this.registerToDomEnvironment(),this.registerToOmidEnvironment(),this.timeoutId=(0,l.setSafeTimeout)(this.reportDueToTimeout.bind(this),84e4)}getGlobalEventName(){return r.DvEvents.globalUnloadData}processAdData(t){t.timeUntilUnloadMs=o.Utilities.getTimeDiff();const e=new c.AdCandidateEventData(t,{reportType:0,forceRTS:!0});r.u.dispatchEvent(r.DvEvents.unloadData,e),r.u.dispatchEvent(r.DvEvents.reportData,e),t.wasAdStopped=!0,n.W.clearAllEventsListeners()}isSupported(){return!0}getSubscribedEvents(){return["beforeunload","pagehide"]}registerToDomEnvironment(){this.domEvents={},r.u.addEventListener(r.DvEvents.impressionServed,this.registerToVisibilityChange.bind(this),"InteractionUnloadDataCollector"),this.getSubscribedEvents().forEach(this.registerUnloadEvent.bind(this))}registerUnloadEvent(t){const e=this.handleUnload.bind(this);this.domEvents[t]=e,[s.S.workingWindow(),s.S.currentWindow()].forEach((i=>{n.W.addEventListener(t,e,i)}))}registerToOmidEnvironment(){u.omidAdapter.isSupported()&&u.omidAdapter.registerSessionObserver(this.handleOmidUnload.bind(this))}reportDueToTimeout(){this.timeMsUntilUnload||this.handleUnload()}registerToVisibilityChange(){const t=this.handleUnloadForVisibilityChange.bind(this);if(a.it.isMobile()&&n.W.isVisibilityChangeEventSupported()){this.lastVisibilityState=s.S.currentDocument().visibilityState;const e=n.W.getVisibilityPrefix()+"visibilitychange";n.W.addEventListener(e,t,s.S.workingDocument()),this.domEvents[e]=t}}handleUnloadForVisibilityChange(){const t=s.S.currentDocument().visibilityState;this.lastVisibilityState!=t&&"hidden"===t&&this.handleUnload(),this.lastVisibilityState=t}isMaxTimePassed(){const t=o.Utilities.getTimeDiff();return!(!this.timeMsUntilUnload&&t<12e5)||(this.timeMsUntilUnload=t,!1)}handleUnload(){this.isMaxTimePassed()||this.unloadFired||(r.u.dispatchEvent(this.getGlobalEventName(),new c.EventData),this.unloadFired=!0)}handleOmidUnload(t){"sessionFinish"===t.type&&this.handleUnload()}}e.InteractionUnloadDataCollector=h},2294:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.OmidInteractionDataCollector=void 0;const n=i(7360),s=i(912),r=i(9450),o=i(870),a=i(8379);class c extends s.BaseAdDataCollector{isSupported(){return o.omidAdapter.isSupported()}startCollectData(t){Object.keys(a.OmidEvents).forEach((e=>o.omidAdapter.addEventListener(e,this.handleOmidEvent.bind(this,e,t)))),n.u.dispatchEvent(n.DvEvents.clickMeasured,new r.AdCandidateEventData(t)),n.u.dispatchEvent(n.DvEvents.adSizeMeasured,new r.AdCandidateEventData(t))}handleOmidEvent(t,e,i){var s,o,a,c,u,d;switch(t){case"adUserInteraction":"click"===(null===(s=null==i?void 0:i.data)||void 0===s?void 0:s.interactionType)?n.u.dispatchEvent(n.DvEvents.omidClickData,new r.AdCandidateEventData(e)):"invitationAccept"===(null===(o=null==i?void 0:i.data)||void 0===o?void 0:o.interactionType)?n.u.dispatchEvent(n.DvEvents.omidInvitationAcceptData,new r.AdCandidateEventData(e)):(null===(a=null==i?void 0:i.data)||void 0===a?void 0:a.interactionType)&&n.u.dispatchEvent(n.DvEvents.omidCustomInteractionData,new r.AdCandidateEventData(e,{customInteraction:null===(c=null==i?void 0:i.data)||void 0===c?void 0:c.interactionType}));break;case"geometryChange":{const t=null===(d=null===(u=null==i?void 0:i.data)||void 0===u?void 0:u.adView)||void 0===d?void 0:d.geometry,s={width:null==t?void 0:t.width,height:null==t?void 0:t.height};s.width&&s.height&&n.u.dispatchEvent(n.DvEvents.omidAdSizeData,new r.AdCandidateEventData(e,{adSize:s}));break}}}stopCollectData(t){}}e.OmidInteractionDataCollector=c},1606:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.PageInteractionKeyPressDataCollector=void 0;const n=i(7449),s=i(7360),r=i(3868),o=i(425),a=i(9450);class c extends n.BaseGlobalDataCollector{isSupported(){return!0}getGlobalEventName(){return s.DvEvents.globalKeyPressData}startCollectData(){const t=r.S.workingWindow(),e=r.S.getTopAccessibleWindow();o.W.addEventListener("keypress",this.handleKeyPressEvent.bind(this),t),e!=t&&o.W.addEventListener("keypress",this.handleKeyPressEvent.bind(this),e)}handleKeyPressEvent(){s.u.dispatchEvent(this.getGlobalEventName(),new a.EventData)}processAdData(t){s.u.dispatchEvent(s.DvEvents.keyPressData,new a.AdCandidateEventData(t))}}e.PageInteractionKeyPressDataCollector=c},9198:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.PageInteractionMouseMoveDataCollector=void 0;const n=i(7449),s=i(7360),r=i(425),o=i(9450),a=i(3868);class c extends n.BaseGlobalDataCollector{isSupported(){return!0}getGlobalEventName(){return s.DvEvents.globalMouseMoveData}startCollectData(){const t=a.S.workingWindow(),e=a.S.getTopAccessibleWindow();this.addListeners(t),e!=t&&this.addListeners(e)}addListeners(t){["mousemove","touchmove"].forEach((e=>{r.W.addEventListener(e,this.handleMouseMoveEvent.bind(this),t)}))}handleMouseMoveEvent(){s.u.dispatchEvent(this.getGlobalEventName(),new o.EventData)}processAdData(t){s.u.dispatchEvent(s.DvEvents.mouseMoveData,new o.AdCandidateEventData(t))}}e.PageInteractionMouseMoveDataCollector=c},6789:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.PageInteractionOrientationChangedDataCollector=void 0;const n=i(7449),s=i(7360),r=i(9450),o=i(425),a=i(8170),c=i(3783);class u extends n.BaseGlobalDataCollector{isSupported(){return void 0!==o.W.getScreenOrientation()}getGlobalEventName(){return s.DvEvents.globalOrientationChangeData}startCollectData(){o.W.addEventListener("change",this.handleOrientationChangeEvent.bind(this),o.W.getScreenOrientation()),s.u.dispatchEvent(s.DvEvents.orientationChangeMeasured,new r.EventData)}handleOrientationChangeEvent(){s.u.dispatchEvent(this.getGlobalEventName(),new r.EventData)}processAdData(t){this.onOrientationChange(t)}onOrientationChange(t){var e;const i=o.W.getScreenOrientationType();if(1===i)s.u.dispatchEvent(s.DvEvents.orientationChangePortraitData,new r.AdCandidateEventData(t));else if(2===i)s.u.dispatchEvent(s.DvEvents.orientationchangeLandscapeData,new r.AdCandidateEventData(t));else if(0===i){const t=null===(e=o.W.getScreenOrientation().type)||void 0===e?void 0:e.toString();t&&c.DiagnosticParamsReporterSingleton.reportOnce(a.DiagnosticParams.unknownScreenOrientationType,t)}}}e.PageInteractionOrientationChangedDataCollector=u},7379:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.UserPresenceDataCollector=void 0;const n=i(7360),s=i(425),r=i(9450),o=i(3868),a=i(8170),c=i(3783);e.UserPresenceDataCollector=class{constructor(){this.interactionSubscriptions=[{eventName:"keypress",eventToDispatchOnMeasure:n.DvEvents.keyPressMeasured,eventToDispatchOnInteract:n.DvEvents.tempFirstKeyPressData,elementToListenTo:o.S.workingWindow()},{eventName:"keypress",isSupported:o.S.workingWindow()!==o.S.getTopAccessibleWindow(),eventToDispatchOnMeasure:n.DvEvents.keyPressMeasured,eventToDispatchOnInteract:n.DvEvents.tempFirstKeyPressData,elementToListenTo:o.S.getTopAccessibleWindow()},{eventName:"mousemove",eventToDispatchOnMeasure:n.DvEvents.mouseMoveMeasured,eventToDispatchOnInteract:n.DvEvents.tempFirstMouseMoveData,elementToListenTo:o.S.workingWindow()},{eventName:"touchmove",eventToDispatchOnMeasure:n.DvEvents.mouseMoveMeasured,eventToDispatchOnInteract:n.DvEvents.tempFirstMouseMoveData,elementToListenTo:o.S.workingWindow()},{eventName:"mousemove",isSupported:o.S.workingWindow()!==o.S.getTopAccessibleWindow(),eventToDispatchOnMeasure:n.DvEvents.mouseMoveMeasured,eventToDispatchOnInteract:n.DvEvents.tempFirstMouseMoveData,elementToListenTo:o.S.getTopAccessibleWindow()},{eventName:"touchmove",isSupported:o.S.workingWindow()!==o.S.getTopAccessibleWindow(),eventToDispatchOnMeasure:n.DvEvents.mouseMoveMeasured,eventToDispatchOnInteract:n.DvEvents.tempFirstMouseMoveData,elementToListenTo:o.S.getTopAccessibleWindow()},{eventName:"change",isSupported:void 0!==s.W.getScreenOrientation(),eventToDispatchOnMeasure:n.DvEvents.orientationChangeMeasured,elementToListenTo:s.W.getScreenOrientation()}],this.startCollectData()}startCollectData(){this.interactionSubscriptions.forEach((t=>{if(null==t.isSupported||t.isSupported){const e=this.getCallback(t);s.W.addEventListener(t.eventName,e,t.elementToListenTo)&&n.u.dispatchEvent(t.eventToDispatchOnMeasure,new r.EventData)}}))}getCallback(t){return"change"===t.eventName?this.reportOrientationChangeEventData.bind(this):this.reportInteractionEventData.bind(this,t.eventToDispatchOnInteract)}reportInteractionEventData(t){n.u.dispatchEvent(t,new r.EventData)}reportOrientationChangeEventData(){var t;const e=s.W.getScreenOrientationType();if(1===e)this.reportInteractionEventData(n.DvEvents.tempOrientationChangePortraitData);else if(2===e)this.reportInteractionEventData(n.DvEvents.tempOrientationChangeLandscapeData);else if(0===e){const e=null===(t=s.W.getScreenOrientation().type)||void 0===t?void 0:t.toString();e&&c.DiagnosticParamsReporterSingleton.reportOnce(a.DiagnosticParams.unknownScreenOrientationType,e)}}}},2452:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.FocusDataCollector=void 0;const n=i(7360),s=i(425),r=i(3868),o=i(912),a=i(9450);class c extends o.BaseAdDataCollector{isSupported(){return!0}startCollectData(t){const e=t.domEvents,i=this.handleFocus.bind(this,t);if(this.handleFocus(t),s.W.isVisibilityChangeEventSupported()){const n=s.W.getVisibilityPrefix()+"visibilitychange";s.W.addEventListener(n,i,r.S.workingDocument(t.windowElement)),e[n]=i}}handleFocus(t){try{const e=s.W.hasFocus();n.u.dispatchEvent(n.DvEvents.focusData,new a.AdCandidateEventData(t,{focus:e}))}catch(t){}}stopCollectData(t){if(s.W.isVisibilityChangeEventSupported()){const e=s.W.getVisibilityPrefix()+"visibilitychange";s.W.removeEventListener(e,t.domEvents[e],r.S.workingDocument(t.windowElement))}}}e.FocusDataCollector=c},3384:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.PageEventsDataCollector=void 0;const n=i(7360),s=i(3868),r=i(425),o=i(6243),a=i(9450);class c extends o.BaseDataCollector{isSupported(){return!s.S.isDomlessEnvironment()}startCollectData(){r.W.addEventListener("pagehide",this.handlePersistedEvent(n.DvEvents.pageHideEventPersisted,n.DvEvents.pageHideEventNonPersisted).bind(this),s.S.workingWindow())}handlePersistedEvent(t,e){return i=>{const s=(null==i?void 0:i.persisted)?t:e;n.u.dispatchEvent(s,new a.EventData)}}}e.PageEventsDataCollector=c},417:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.PerformanceApiDataCollector=void 0;const n=i(912),s=i(7360),r=i(9450),o=i(3868);class a extends n.BaseAdDataCollector{constructor(){super(...arguments),this.subscriptionIds=[]}isSupported(){return!o.S.isDomlessEnvironment()}getEntries(t){const e=o.S.monitorScriptsPerformance(o.S.currentWindow(),{visit:["transferSize"]}),i={visitResponseSize:null==e?void 0:e.visit_transferSize};Object.keys(i).length&&s.u.dispatchEvent(s.DvEvents.performanceData,new r.PerformanceEventData(i,t))}startCollectData(t){this.isSupported()&&(this.subscriptionIds=s.u.addEventsListener({[s.DvEvents.impressionServed]:this.getEntries.bind(this,t)}))}stopCollectData(t){this.subscriptionIds.length&&(s.u.removeEventsListener(this.subscriptionIds),this.subscriptionIds=[])}}e.PerformanceApiDataCollector=a},6593:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.PerformanceLongTasksDataCollector=e.LONG_TASK_TYPE=void 0;const n=i(3868),s=i(7360),r=i(9450),o=i(6243),a=i(712),c=i(749);e.LONG_TASK_TYPE="longtask";class u extends o.BaseDataCollector{isSupported(){return u.isPerformanceLongTasksSupported()}startCollectData(){if(!this.observer)try{this.observer=new PerformanceObserver(this.handleLongTasksEntries.bind(this)),this.observer.observe({type:e.LONG_TASK_TYPE,buffered:!0})}catch(t){c.A.sendError(a.ClientErrorType.FailObserverLongTasks,t)}}handleLongTasksEntries(t){const e=t.getEntries().filter((t=>{var e;return null===(e=t.attribution)||void 0===e?void 0:e.length})).filter((({attribution:t})=>t[0].containerId===u.getFrameId())).map(this.convertLongTaskEntryToLongTask.bind(this));s.u.dispatchEvent(s.DvEvents.performanceLongTasks,new r.LongTaskEventData(e))}convertLongTaskEntryToLongTask(t){return{startTime:t.startTime,duration:t.duration,frameId:u.getFrameId()}}static getFrameId(){var t;return this._frameId||(this._frameId=null===(t=n.S.getFrameElement(n.S.currentWindow()))||void 0===t?void 0:t.id),this._frameId}static isPerformanceLongTasksSupported(){var t;return"undefined"!=typeof PerformanceObserver&&3===n.S.getScriptInjectionMode()&&!!this.getFrameId()&&!!(null===(t=null===PerformanceObserver||void 0===PerformanceObserver?void 0:PerformanceObserver.supportedEntryTypes)||void 0===t?void 0:t.some((t=>t===e.LONG_TASK_TYPE)))}}e.PerformanceLongTasksDataCollector=u},6195:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.StrictFocusDataCollector=void 0;const n=i(7360),s=i(425),r=i(3868),o=i(912),a=i(9450),c=i(815);class u extends o.BaseAdDataCollector{isSupported(){return!0}startCollectData(t){this.handleFocus(t),r.S.windowTop()&&s.W.isStrictFocusSupported()&&(t.strictFocusInterval=(0,c.setSafeInterval)(this.handleFocus.bind(this,t),200))}handleFocus(t){try{const e=null==s.W.hasStrictFocus()||s.W.hasStrictFocus();n.u.dispatchEvent(n.DvEvents.strictFocusData,new a.AdCandidateEventData(t,{focus:e}))}catch(t){}}stopCollectData(t){(0,c.clearSafeInterval)(t.strictFocusInterval)}}e.StrictFocusDataCollector=u},1776:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.VideoPlaybackDataCollector=void 0;const n=i(912),s=i(7542),r=i(1768),o=i(3115),a=i(4753),c=i(7749),u=i(7360),d=i(9450),l=i(8191);class h extends n.BaseAdDataCollector{isSupported(){return 1==c.I.getTagType()}startCollectData(t){t.videoPlaybackIndicator=t.videoPlaybackIndicatorDvp=0,t.videoPlayback=this.getSupportedVideoPlayback(t),t.videoPlayback&&(t.videoPlayback.startCollectData(t),t.videoPlaybackIndicator=t.videoPlaybackIndicatorDvp=t.videoPlayback.getIndicator(),u.u.dispatchEvent(u.DvEvents.reportData,new d.AdCandidateEventData(t)))}stopCollectData(t){t.videoPlayback&&t.videoPlayback.stopCollectData(t)}getSupportedVideoPlayback(t){return[r.VideoPlaybackByOmid,a.VideoPlaybackByAdColonyVpaid,o.VideoPlaybackByVpaid,l.VideoPlaybackByInmobi,s.VideoPlaybackByHtml5].find((e=>e.isSupported(t)))}}e.VideoPlaybackDataCollector=h},4753:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.VideoPlaybackByAdColonyVpaid=e.VideoPlaybackByAdColonyVpaidClass=void 0;const n=i(1966),s=i(7360),r=i(9450),o=i(3567);class a{constructor(){this.vpaidEventMapping={AdImpression:[s.DvEvents.adImpressionData],AdVideoFirstQuartile:[s.DvEvents.adVideoFirstQuartileData],AdVideoMidpoint:[s.DvEvents.adVideoMidpointData],AdVideoThirdQuartile:[s.DvEvents.adVideoThirdQuartileData],AdVideoComplete:[s.DvEvents.adVideoCompleteData],AdVideoStart:[s.DvEvents.adVideoStartData,s.DvEvents.volumeData],AdPaused:[s.DvEvents.pauseData],AdPlaying:[s.DvEvents.resumeData],AdVolumeChange:[s.DvEvents.volumeData]}}isSupported(){return this.adc=n.VideoPlaybackAdaptor.getADCObject(),!!this.adc}getIndicator(){return 4}startCollectData(t){Object.keys(this.vpaidEventMapping).forEach((e=>{this.adc.subscribe(e,this.handleVpaidEvent.bind(this,e,t))}))}stopCollectData(t){}extractDvEventArgs(t,e){var i;if("AdVolumeChange"!==t&&"AdVideoStart"!==t)return;const n=o.default.getVolumeLevel(null!==(i=null==e?void 0:e.deviceVolume)&&void 0!==i?i:null==e?void 0:e.volume);return o.default.isVolumeLevelSupported(n)?{volume:n}:void 0}handleVpaidEvent(t,e,i){const n=this.vpaidEventMapping[t];if(!(null==n?void 0:n.length))return;const o=this.extractDvEventArgs(t,i),a=new r.AdCandidateEventData(e,o);n.forEach((t=>{s.u.dispatchEvent(t,a)}))}}e.VideoPlaybackByAdColonyVpaidClass=a,e.VideoPlaybackByAdColonyVpaid=new a},7542:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.VideoPlaybackByHtml5=e.VideoPlaybackByHtml5Class=void 0;const n=i(7360),s=i(9450),r=i(425),o=i(3380),a=i(3567);class c{constructor(){this.html5EventMapping={playing:n.DvEvents.adVideoStartData,pause:n.DvEvents.pauseData,play:n.DvEvents.resumeData,volumechange:n.DvEvents.volumeData,ended:n.DvEvents.adVideoCompleteData},this.quartileEvents=[n.DvEvents.adVideoFirstQuartileData,n.DvEvents.adVideoMidpointData,n.DvEvents.adVideoThirdQuartileData,n.DvEvents.adVideoCompleteData],this.eventsToReportOnlyOnce=[n.DvEvents.adVideoCompleteData,n.DvEvents.adVideoStartData,...this.quartileEvents]}isSupported(t){return o.Utilities.isInAppSupported(t.supportedDeliveryType)&&o.Utilities.isVideoElement(t.domElement)}getIndicator(){return 2}startCollectData(t){const e=this.updateAdPlaybackTime.bind(this,t);r.W.addEventListener("timeupdate",e,t.domElement),t.domEvents.timeupdate=e,Object.keys(this.html5EventMapping).forEach((e=>{const i=this.handleHtml5Event.bind(this,t,this.html5EventMapping[e]);r.W.addEventListener(e,i,t.domElement),t.domEvents[e]=i}))}stopCollectData(t){[...Object.keys(this.html5EventMapping),"timeupdate"].forEach((e=>{r.W.removeEventListener(e,t.domEvents[e],t.domElement)}))}updateAdPlaybackTime(t){const e=t.domElement;if(!e.duration)return;e.currentTime&&!t.videoPlaybackHtml5AdPlaybackTimeInitialized&&(t.videoPlaybackHtml5AdPlaybackTimeInitialized=!0,this.publishEvents(n.DvEvents.resumeData,t));const i=e.duration/4;if(e.currentTime>=t.videoPlaybackHtml5QuartileId*i){const e=this.quartileEvents[t.videoPlaybackHtml5QuartileId-1];this.publishEvents(e,t),t.videoPlaybackHtml5QuartileId++}}extractDvEventArgs(t,e){if(e!==n.DvEvents.volumeData&&e!==n.DvEvents.adVideoStartData)return;return{volume:a.default.getVolumeLevel(null==t?void 0:t.volume)}}handleHtml5Event(t,e){const i=t.domElement,n=this.extractDvEventArgs(i,e);this.publishEvents(e,t,n)}publishEvents(t,e,i){if(this.eventsToReportOnlyOnce.some((e=>e==t))&&e.videoPlaybackHtml5Events.some((e=>e==t)))return;t==n.DvEvents.adVideoCompleteData&&this.stopCollectData(e),e.videoPlaybackHtml5Events.push(t);const r=new s.AdCandidateEventData(e,i);n.u.dispatchEvent(t,r),t===n.DvEvents.adVideoStartData&&"volume"in i&&n.u.dispatchEvent(n.DvEvents.volumeData,r)}}e.VideoPlaybackByHtml5Class=c,e.VideoPlaybackByHtml5=new c},8191:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.VideoPlaybackByInmobi=e.VideoPlaybackByInmobiClass=void 0;const n=i(7360),s=i(9450),r=i(8426),o=i(3567);class a{constructor(){this.inmobiEventMapping={AdLoaded:[n.DvEvents.videoLoadedData],AdVideoFirstQuartile:[n.DvEvents.adVideoFirstQuartileData],AdVideoMidpoint:[n.DvEvents.adVideoMidpointData],AdVideoThirdQuartile:[n.DvEvents.adVideoThirdQuartileData],AdVideoComplete:[n.DvEvents.adVideoCompleteData],AdVideoStart:[n.DvEvents.adVideoStartData,n.DvEvents.volumeData],AdPaused:[n.DvEvents.pauseData],AdPlaying:[n.DvEvents.resumeData],AdVolumeChange:[n.DvEvents.volumeData]}}isSupported(){return r.InmobiWrapper.isSupported()}getIndicator(){return 5}startCollectData(t){r.InmobiWrapper.addEventListenerWithHistory(this.handleInmobiEvent.bind(this,t))}stopCollectData(){}extractDvEventArgs(t){var e;const i=t.type;if(!i||!(null==t?void 0:t.detail))return;if("AdVolumeChange"!==i&&"AdVideoStart"!==i&&"AdLoaded"!==i)return;return{volume:o.default.getVolumeLevel(null!==(e=t.detail.adVolume)&&void 0!==e?e:t.detail.volume)}}updateAdDuration(t,e){var i;"AdLoaded"===e.type&&(null===(i=null==e?void 0:e.detail)||void 0===i?void 0:i.duration)>0&&(t.adDuration=Math.round(e.detail.duration))}handleInmobiEvent(t,e){const i=(null==e?void 0:e.type)&&this.inmobiEventMapping[e.type];if(!(null==i?void 0:i.length))return;this.updateAdDuration(t,e);const r=this.extractDvEventArgs(e),o=new s.AdCandidateEventData(t,r);i.forEach((t=>{n.u.dispatchEvent(t,o)}))}}e.VideoPlaybackByInmobiClass=a,e.VideoPlaybackByInmobi=new a},1768:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.VideoPlaybackByOmid=e.VideoPlaybackByOmidClass=void 0;const n=i(7360),s=i(9450),r=i(870),o=i(8170),a=i(3380),c=i(3567),u=i(3285),d=i(7749),l=i(3783);class h{constructor(){this.omidEventMapping={impression:[n.DvEvents.adImpressionData],complete:[n.DvEvents.adVideoCompleteData],firstQuartile:[n.DvEvents.adVideoFirstQuartileData],midpoint:[n.DvEvents.adVideoMidpointData],start:[n.DvEvents.adVideoStartData,n.DvEvents.volumeData],thirdQuartile:[n.DvEvents.adVideoThirdQuartileData],pause:[n.DvEvents.pauseData],resume:[n.DvEvents.resumeData],skipped:[n.DvEvents.skipData],volumeChange:[n.DvEvents.volumeData],loaded:[]}}isSupported(){return r.omidAdapter.isSupported()}getIndicator(){return 3}startCollectData(t){l.DiagnosticParamsReporterSingleton.reportDiagnosticParam(o.DiagnosticParams.timeUntilOmidListenMs,a.Utilities.getTimeDiff()),Object.keys(this.omidEventMapping).forEach((e=>{r.omidAdapter.addEventListener(e,this.omidEventCallback.bind(this,t,e))}))}stopCollectData(t){}getOmidVolume(t){if(!(null==t?void 0:t.data))return c.VOLUME_UNSUPPORTED;const e=c.default.getVolumeLevel(t.data.videoPlayerVolume),i=c.default.getVolumeLevel(t.data.deviceVolume),n=c.default.isVolumeLevelSupported(e),s=c.default.isVolumeLevelSupported(i);return n&&s?e*i:n?e:s?i:c.VOLUME_UNSUPPORTED}extractDvEventArgs(t,e){if("volumeChange"===t||"start"===t)return{volume:this.getOmidVolume(e)}}updateAdCandidate(t,e,i){var n;if("start"===e&&(null===(n=null==i?void 0:i.data)||void 0===n?void 0:n.duration)&&"number"==typeof i.data.duration&&Number.isFinite(i.data.duration)&&d.I.getAdServerId()===u.TIKTOK_AD_SERVER_ID){const e=this.getOmidDurationMS(i.data.duration);t.adDuration=e,t.adDurationCalculationType=5}null==t.omidPlaybackStartIndicator&&(t.omidPlaybackStartIndicator=-1),"loaded"===e&&(t.omidPlaybackStartIndicator=this.getOmidPlaybackStartIndicator(i))}getOmidDurationMS(t){if(t<0)return 0;const e=t<1e3,i=Math.round(t);return e?1e3*i:i}omidEventCallback(t,e,i){this.updateAdCandidate(t,e,i);const r=this.omidEventMapping[e];if(!(null==r?void 0:r.length))return;const o=this.extractDvEventArgs(e,i),a=new s.AdCandidateEventData(t,o);r.forEach((t=>{n.u.dispatchEvent(t,a)}))}getOmidPlaybackStartIndicator(t){var e;return null!=(null===(e=null==t?void 0:t.data)||void 0===e?void 0:e.autoPlay)?t.data.autoPlay?1:2:0}}e.VideoPlaybackByOmidClass=h,e.VideoPlaybackByOmid=new h},3115:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.VideoPlaybackByVpaid=e.VideoPlaybackByVpaidClass=void 0;const n=i(7749),s=i(7360),r=i(9450),o=i(1063),a=i(3380),c=i(3567);class u{constructor(){this.vpaidEventMapping={AdImpression:[s.DvEvents.adImpressionData],AdLoaded:[s.DvEvents.videoLoadedData],AdVideoStart:[s.DvEvents.adVideoStartData,s.DvEvents.volumeData],AdVideoFirstQuartile:[s.DvEvents.adVideoFirstQuartileData],AdVideoMidpoint:[s.DvEvents.adVideoMidpointData],AdVideoThirdQuartile:[s.DvEvents.adVideoThirdQuartileData],AdVideoComplete:[s.DvEvents.adVideoCompleteData],AdUserClose:[s.DvEvents.abandonData],AdPaused:[s.DvEvents.pauseData],AdPlaying:[s.DvEvents.resumeData],AdSkipped:[s.DvEvents.skipData],AdStopped:[s.DvEvents.stopData],AdVolumeChange:[s.DvEvents.volumeData],AdSkippableStateChange:[s.DvEvents.skippableData]}}isSupported(){return this.adID=n.I.getAdID(),this.vpaid=o.VpaidWrapper.getDvVpaid(),!!this.adID&&!!this.vpaid&&o.VpaidWrapper.isSupported()}getIndicator(){return 1}startCollectData(t){t.videoPlaybackByVpaidEventSubscriptionIds=this.vpaid.subscribe(Object.keys(this.vpaidEventMapping),this.adID,this.handleVpaidEvent.bind(this,t));const{asset:e={}}=this.vpaid,{adDuration:i=0,adSkippable:n}=e;i>0&&i<180&&(t.adDuration=Math.round(1e3*i),t.adDurationCalculationType=1),n&&(t.adSkippableMs=a.Utilities.getTimeDiff())}stopCollectData(t){this.vpaid.unsubscribe(t.videoPlaybackByVpaidEventSubscriptionIds)}extractDvEventArgs(t,e){if(!e)return;if("AdSkippableStateChange"===t){const t=this.getAdSkippable(e);if(null!==t)return{adSkippable:t}}const i=c.default.getVolumeLevel(e.volume,Boolean(e.muted));return"AdVolumeChange"===t||"AdVideoStart"===t?{volume:i}:void 0}handleVpaidEvent(t,e,i){const n=i.eventName;if(!n)return;const o=this.vpaidEventMapping[n];if(!(null==o?void 0:o.length))return;const a=this.extractDvEventArgs(n,null==i?void 0:i.viewabilityResult),c=new r.AdCandidateEventData(t,a);o.forEach((t=>{s.u.dispatchEvent(t,c)}))}getAdSkippable(t){const e=null==t?void 0:t.adSkippableState;return a.Utilities.isNullOrEmpty(e)?null:!!e}}e.VideoPlaybackByVpaidClass=u,e.VideoPlaybackByVpaid=new u},3081:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ViewabilityDataCollector=void 0;const n=i(986),s=i(4254),r=i(9965),o=i(2705),a=i(6662),c=i(7360),u=i(9450),d=i(8253),l=i(712),h=i(8317),v=i(912),p=i(8996),f=i(3380),m=i(425),g=i(5492),b=i(749),w=i(8781),_=i(8170),y=i(7749),S=i(3783),M=i(815);class A extends v.BaseAdDataCollector{isSupported(){return!0}startCollectData(t){c.u.addEventListener(c.DvEvents.adVideoCompleteData,this.adVideoComplete.bind(this)),this.viewabilityInterval=1==y.I.getTagType()?200:100;const e=t.viewabilityCalculationMethod||this.getSupportedMethod(t);e&&(t.viewabilityCalculationMethod=e,t.viewabilityCalculationType=e.getMethodId(),e.getMethodId()===l.ViewabilityCalculationTypes.Geometric&&o.AllScenarioIntersectionObserverMethod.isSupported(t)&&(t.secondaryViewabilityCalculationMethod=o.AllScenarioIntersectionObserverMethod),this.publishAdViewabilityData(t),t.viewabilityIntervalId=(0,M.setSafeInterval)(this.publishAdViewabilityData.bind(this,t),this.viewabilityInterval))}stopCollectData(t){this.stopViewabilityInterval(t)}adVideoComplete(t){this.stopViewabilityInterval(t.adCandidate)}stopViewabilityInterval(t){t.viewabilityIntervalId&&((0,M.clearSafeInterval)(t.viewabilityIntervalId),t.viewabilityCalculationMethod&&t.viewabilityCalculationMethod.destroyAdCandidateMethod(t),t.secondaryViewabilityCalculationMethod&&(t.secondaryViewabilityCalculationMethod.destroyAdCandidateMethod(t),t.secondaryViewabilityCalculationMethod=void 0),t.viewabilityIntervalId=void 0)}getSupportedMethod(t){let e;const i=[p.OmidMethod],o=f.Utilities.isInAppSupported(t.supportedDeliveryType);return this.reportIntersectionObserverSupportDiagnostics(t),e=o?[g.AdColonyMethod,w.Mraid3Method,h.MraidMethod]:[s.GeometricMethod,r.IntersectionObserverMethod,d.AmpIntersectionObserverMethod,n.ResourceBased,a.ScreenGeometricMethod],e=[...i,...e],e.find((e=>e.isSupported(t)))}reportIntersectionObserverSupportDiagnostics(t){var e,i;const n=t.windowElement&&"IntersectionObserver"in t.windowElement&&"IntersectionObserverEntry"in t.windowElement&&"intersectionRatio"in t.windowElement.IntersectionObserverEntry.prototype,s=!!(null===(i=null===(e=null==t?void 0:t.windowElement)||void 0===e?void 0:e.context)||void 0===i?void 0:i.observeIntersection);S.DiagnosticParamsReporterSingleton.reportOnce(_.DiagnosticParams.intersectionObserverMethodSupported,n?1:0),S.DiagnosticParamsReporterSingleton.reportOnce(_.DiagnosticParams.ampIntersectionObserverMethodSupported,s?1:0)}publishAdViewabilityData(t){try{const e=t.viewabilityCalculationMethod.getAdCandidateAssets(t);if(e&&(c.u.dispatchEvent(c.DvEvents.viewabilityIntervalData,new u.AdCandidateEventData(t,e)),t.secondaryViewabilityCalculationMethod)){const e=t.secondaryViewabilityCalculationMethod.getAdCandidateAssets(t);e&&c.u.dispatchEvent(c.DvEvents.secondaryViewabilityIntervalData,new u.AdCandidateEventData(t,e))}this.checkIfElementAttachedToDocoment(t)}catch(t){b.A.sendError(l.ClientErrorType.MeasurementError,t)}}checkIfElementAttachedToDocoment(t){t.timeMsUntilAdNotAttached||m.W.isElementAttachedToDocument(t.domElement)||(t.timeMsUntilAdNotAttached=f.Utilities.getTimeDiff(),c.u.dispatchEvent(c.DvEvents.reportData,new u.AdCandidateEventData(t)))}}e.ViewabilityDataCollector=A},1439:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.createNormalisedGeometry=void 0,e.createNormalisedGeometry=function(t){if(t)return Object.assign(Object.assign({},t),{width:"number"==typeof t.width?Math.ceil(t.width):t.width,height:"number"==typeof t.height?Math.ceil(t.height):t.height})}},455:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.AdCandidateData=void 0;const n=i(712),s=i(7749),r=i(3380);e.AdCandidateData=class{constructor(t){this.state=1,this.priority=n.LocatorPriority.None,this.locatorMethods=n.LocatorMethods.None,this.foundBiggerChildElement=!1,this.supportedDeliveryType=[],this.domEvents={},this.customInteractions=[],this.wasAdStopped=!1,this.isPaused=!1,this.videoPlaybackHtml5QuartileId=1,this.videoPlaybackHtml5Events=[],this.volumeDurationQuartileId=1,this.IABAdViewableForXSecondsViewedTime=0,this.iabViewablitiyTimeToCheck=[5,10,15],this.IABAdViewableForXSecondsdurationRequirement=5e3,this.boundariesViewed={topLeft:!1,topRight:!1,bottomLeft:!1,bottomRight:!1},this.activeViewabilityMeasurements={},this.iabViewedTime=0,this.iabViewedTimeSecondary=0,this.iabViewedTimeVideoAdPlayed=0,this.iabVideoQuartileId=1,this.iabVideoQuartileViewed=0,this.videoFullQuartileViewabilityId=1,this.videoFullQuartileAudibleId=1,this.notViewableReasonWasInFocus=!1,this.notViewableReasonWasInViewPort=!1,this.notViewableReasonConsecutiveViewTime=0,this.notViewableReasonCumulativeViewTime=0,this.notViewableReasonWasViewed=!1,this.notViewableReasonVideoPlayed=!1,this.groupMViewedTime=0,this.groupMV4DisplayViewedTime=0,this.groupMV4VideoReachExtensionViewedTime=0,this.groupMV4VideoNativeViewedTime=0,this.groupMV4DisplayViewedTimeLog=0,this.pmxViewedTime=0,this.videoBucketsQuartileId=1,this.isVideoInViewBucketsMeasured=!1,this.viewabilityIntervalDataCalled=!1,this.autoplayEventSubscriptionIds=[],this.videoPlaybackByVpaidEventSubscriptionIds=[],this.position=null,this.current50PctAdContinuousInViewTimeMs=0,this.domElement=t}markAdQuartile(t,e){switch(e){case 1:this.exposureFirstQuartileBitwise=this.exposureFirstQuartileBitwise|t;break;case 2:this.exposureSecondQuartileBitwise=this.exposureSecondQuartileBitwise|t;break;case 3:this.exposureThirdQuartileBitwise=this.exposureThirdQuartileBitwise|t;break;case 4:this.exposureFourthQuartileBitwise=this.exposureFourthQuartileBitwise|t}}isInViewBucketsMeasured(){return!!(0==s.I.getTagType()?this.viewabilityDisplayBucketsUnloadTime>0:this.isVideoInViewBucketsMeasured)}getAtLeast50PercentInViewDurationInMs(){if(!this.isInViewBucketsMeasured())return null;const t=[this.b6,this.b7,this.b8,this.b9,this.b10,this.b11],e=[this.q1b3,this.q1b4,this.q1b5,this.q2b3,this.q2b4,this.q2b5,this.q3b3,this.q3b4,this.q3b5,this.q4b3,this.q4b4,this.q4b5];return 0==s.I.getTagType()?Math.min(r.Utilities.sumBuckets(t)||0,6e4):r.Utilities.sumBuckets(e)}get100PercentInViewDurationInMs(){if(!this.isInViewBucketsMeasured())return null;const t=[this.q1b5,this.q2b5,this.q3b5,this.q4b5];return 0==s.I.getTagType()?Math.min(this.b11||0,6e4):r.Utilities.sumBuckets(t)}}},5261:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.CeltraDomAdData=void 0;const n=i(8564);class s extends n.DomAdData{constructor(t,e,i,n){super(e,i),this.celtraTagSearchMethod=t,this.domElement=e,this.depth=i,this.isFullyLoaded=n}}e.CeltraDomAdData=s},7658:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.TPSDataMapping=e.AdDataMappingToReport=void 0;const n=i(8170);e.AdDataMappingToReport={timeMsUntilAdMeasured:"ismms",unadjustedTimeMsUntilAdMeasured:"isumms",isViewabilityEligible:"isvelg",notViewableReason:"nvr",groupMTimeMsUntilAdMeasured:"isgmmims",groupMV4TimeMsUntilAdMeasured:"isgmv4mims",adElementType:"elmtp",measuredElementType:"metp",measuredElementExtractorId:"meeid",largestChildElementHeight:"lceh",largestChildElementWidth:"lcew",viewabilityDisplayBucketsUnloadTime:"isbxdms",b0:"b0",b1:"b1",b2:"b2",b3:"b3",b4:"b4",b5:"b5",b6:"b6",b7:"b7",b8:"b8",b9:"b9",b10:"b10",b11:"b11",napt:"napt",isq1ms:"isq1ms",q1b0:"q1b0",q1b1:"q1b1",q1b2:"q1b2",q1b3:"q1b3",q1b4:"q1b4",q1b5:"q1b5",q1napt:"q1napt",isq2ms:"isq2ms",q2b0:"q2b0",q2b1:"q2b1",q2b2:"q2b2",q2b3:"q2b3",q2b4:"q2b4",q2b5:"q2b5",q2napt:"q2napt",isq3ms:"isq3ms",q3b0:"q3b0",q3b1:"q3b1",q3b2:"q3b2",q3b3:"q3b3",q3b4:"q3b4",q3b5:"q3b5",q3napt:"q3napt",isq4ms:"isq4ms",q4b0:"q4b0",q4b1:"q4b1",q4b2:"q4b2",q4b3:"q4b3",q4b4:"q4b4",q4b5:"q4b5",q4napt:"q4napt",q1ad:"q1ad",q2ad:"q2ad",q3ad:"q3ad",q4ad:"q4ad",iabv5:"iabv5",iabv10:"iabv10",iabv15:"iabv15",maxVideoVolume:"avmax",minVideoVolume:"avmin",ivab0:"ivab0",ivab1:"ivab1",ivab2:"ivab2",ivab3:"ivab3",ivab4:"ivab4",ivab5:"ivab5",ivab6:"ivab6",ivab7:"ivab7",ivab8:"ivab8",ivab9:"ivab9",ivab10:"ivab10",ivab11:"ivab11",ivanapt:"ivanapt",adHeight:"adhgt",adWidth:"adwdth",normalizedAdWidth:"norwdth",normalizedAdHeight:"norhgt",accumulativeTimeOrientationLandscape:"tmsl",accumulativeTimeOrientationPortrait:"tmsp",avgViewableShareOfScreen:"vsos",avgInViewShareOfScreen:"ivsos",shareOfScreenNotMeasuredReason:"dvp_vsosnmr",inViewShareOfScreenMeasured:"ivsosm",shareOfScreenReadFromViewportReport:"dvp_vsosrfvp",viewPortMetaTagWidth:"dvp_mvpw",viewPortMetaTagHeight:"dvp_mvph",viewPortMetaTagInitialScale:"dvp_mvpis",viewPortMetaTagScalable:"dvp_mvpiss",minViewportWidth:"dvp_minvpw",minViewportHeight:"dvp_minvph",maxViewportWidth:"dvp_maxvpw",maxViewportHeight:"dvp_maxvph",accumulativeTimeInFocus:"attif",looseFocusFalseBucket:"lffb",looseFocusTrueBucket:"lftb",strictFocusFalseBucket:"sffb",strictFocusTrueBucket:"sftb",adDuration:"vad",adDurationCalculationType:"vadct",omidPlaybackStartIndicator:"omap",adVideoTimeLine:"vattp",timeUntilUnloadMs:"tuums",depth:"msrdp",locatorMethods:"naral",viewabilityCalculationType:"vct",viewportHeight:"vphgt",viewportWidth:"vpwdth",adWrapperHeight:"chgt",adWrapperWidth:"cwdth",screenHeight:"scrhgt",screenWidth:"scrwdth",startPercentage:"strp",adVisibleOnload:"advisonl",rBV1PassedMs:"isrbpms",timeMsUntilAdViewed:"isiabvms",unadjustedTimeMsUntilAdViewed:"isuiabvms",groupMTimeMsUntilAdViewed:"isgmpims",groupMV4DisplayTimeMsUntilAdViewed:"isgmv4dpims",groupMV4DisplayTimeMsUntilAdViewedLog:"dvp_gmv4p",pmxTimeMsUntilAdViewed:"ispmxpms",timeUntilCustomViewabilityMeasuredMs:"iscvmeas",timeUntilCustomViewabilityPassedMs:"iscvmvms",videoPlaybackIndicatorDvp:"dvp_vpb",videoPlaybackIndicator:"vpm",isVideoPreRendered:"prplyd",timeMsUntilVideoPlayed:"dvp_plydms",groupMV4VideoReachExtensionTimeMsUntilAdViewed:"isgmv4vrpims",groupMV4VideoNativeTimeMsUntilAdViewed:"isgmv4vnpims",timeUntilAudibleOnCompleteMs:"tuaudcompms",timeMsUntilAdAudibleAndViewableOnCompletionMs:"qcmpiabva",lastTimeMsVolumeMute:"admutems",timeMsUntilVolumeMeasured:"isavmms",q1vpend:"q1vpend",q2vpend:"q2vpend",q3vpend:"q3vpend",q4vpend:"q4vpend",q1ps:"q1ps",q2ps:"q2ps",q3ps:"q3ps",q4ps:"q4ps",q1iabvms:"q1iabvms",q2iabvms:"q2iabvms",q3iabvms:"q3iabvms",q4iabvms:"q4iabvms",exposureFirstQuartileBitwise:"q1ei",exposureSecondQuartileBitwise:"q2ei",exposureThirdQuartileBitwise:"q3ei",exposureFourthQuartileBitwise:"q4ei",adSkippedTime:"isadskippedms",adSkippableMs:"adskippblems",initialOrientationType:"inor",timeMsUntilTouch:"engtchms",timeMsUntilTouchDeepDescendantIframe:"tddims",isHoverMeasured:"ishvm",isTouchMeasured:"istchm",isKeyPressMeasured:"iskpm",isMouseMoveMeasured:"ismmm",isOrientationChangeMeasured:"isocm",isAdSizeChangeMeasured:"isascm",isClickMeasured:"isaclkm",isScrollMeasured:"isscrlm",timeMsUntilHover:"enghvms",timeMsUntilClick:"engclkms",timeMsUntilClickDeepDescendantIframe:"clkddms",timeMsUntilAdSizeIncrease:"engsincms",timeMsUntilAdSizeDecrease:"engsdcms",timeMsUntilAdLocated:"engalms",timeMsUntilFocusIn:"engifcsms",timeMsUntilFocusOut:"engofcsms",clickMeasurementMethod:"dvp_ces",timeMsUntilMouseMove:"engmsmvms",timeMsUntilKeyPress:"engkpssms",timeMsUntilScroll:"engscrlms",timeMsUntilScrollV2:"engscrlmsv2",timeMsUntilOrientationChangeToPortrait:"engocptms",timeMsUntilOrientationChangeToLandscape:"engoclpms",timeMsUntilVolumeIncrease:"engvlincms",timeMsUntilVolumeDecrease:"engvldcms",timeMsUntilVolumeUnMute:"engvlumms",timeMsUntilVolumeMute:"engvlmtms",timeMsUntilPause:"engvpsdms",timeMsUntilResume:"engvrsmms",timeMsUntilSkip:"engvskpms",timeMsUntilAbandon:"engvabnms",engagementAudienceDisengaged:"dvp_engaud",engagementAudienceEngaged:"dvp_engaud",engagementAudienceNoEngagement:"dvp_engaud",engagementAudienceInterested:"dvp_engaud",videoViewabilityIntervalDataAdSizeMethod:"dvp_vvasm",videoViewabilityIntervalDataAdSize:"dvp_vvas",preVideoAdLoaded:"dvp_in1",preVideoAdStarted:"dvp_in2",preVideoAdImpression:"dvp_in3",preVideoAdStopped:"dvp_in4",autoplayDetectionMethod:"dvp_autpm",mraidVersion:"dvp_mraidver",hiddenAdsIndicator:"dvp_hdnAd",adEngagement:"dvp_adEng",pageEngagement:"dvp_pageEng",noEngagement:"dvp_noEng",omidEvents:"omev",omidGeometryReasonsBitWise:"omgr",omidContainerGeometryHeight:"dvp_ocgh",omidContainerGeometryWidth:"dvp_ocgw",omidCreativeVsContainerIndicator:"dvp_omcvc",omidImpressionType:"omit",omidUnknownImpressionType:"dvp_omuit",omidCreativeType:"omct",omidUnknownCreativeType:"dvp_omuct",omidRenderLogicLog:"dvp_orll",omidPageUrl:"ompurl",omidDeviceOS:"omdos",omidDeviceOSVersion:"omdosv",omidDeviceType:"omdt",omidImpressionEventTimestamp:"omiet",omidAdSessionType:"omdsessiontype",omidJSServiceVersion:"omjssv",shareOfScreenLastDevicePixelRatio:"dvp_dpr",devicePixelRatioChanged:"dvp_sosdprc",screenSizeChanged:"dvp_sosssc",adSizeChanged:"dvp_sosadc",timeMsUntilAdNotAttached:"dvp_anatd",reasonForRenderedByContainerRenderLogic:"dvp_rfrcl",reasonForNotRenderedByContainerRenderLogic:"dvp_rfnrcl",timeUntilPageHideEventNonPersistedMs:"yld_phnpms",visitResponseSize:"vstsz",max50PctAdContinuousInViewTimeMs:"m50invms",timeMsUntilAdMeasuredSecondary:(0,n.getDiagnosticQueryParamName)(n.DiagnosticParams.secondaryIabViewabilityMeasured),timeMsUntilAdViewedSecondary:(0,n.getDiagnosticQueryParamName)(n.DiagnosticParams.secondaryIabViewable),timeMsUntilAdMeasuredVideoAdPlayed:(0,n.getDiagnosticQueryParamName)(n.DiagnosticParams.timeMsUntilAdMeasuredVideoAdPlayed),timeMsUntilAdViewedVideoAdPlayed:(0,n.getDiagnosticQueryParamName)(n.DiagnosticParams.timeMsUntilAdViewedVideoAdPlayed)},e.TPSDataMapping={checksum:"jurtd",flavor:"flvr",timeToMeasureMs:"ttmms",timeToFirstReportMs:"ttfrms",timeToFirstUpdateReportMs:"ttfurm",totalMeasurementExecTime:"tmet",browserId:"brid",browserVersion:"brver",browserIdUserAgent:"bridua",browserDetectionSource:"bds",trafficScenarioType:"tstype",isPreRender:"prndr",eparams:"eparams",windowDepth:"srcurlD",additionalUrlDepth:"aUrlD",isSsl:"ssl",diffSsl:"dvp_diffSSL",isMraid:"ismraid",prePlayed:"prplyd",supplySource:"sup",dvtp_src_fetchStart:"dfs",dvtp_src_duration:"ddur",uid:"uid",callbackName:"jsCallback",tagVersion:"dvtagver",nativeUserAgent:"navUa",postMessageSupported:"htmlmsging",isChrome:"chro",historySize:"hist",innerHeight:"winh",innerWidth:"winw",outerHeight:"wouh",outerWidth:"wouw",screenHeight:"scah",screenWidth:"scaw",queuePageID:"qpgid",crawlerUrl:"curl",isScriptInHeadLocation:"dvp_isOnHead",dvtpScriptVersion:"tgjsver",idcResults:"vavbkt",idcError:"dvp_idcerr",idcVersion:"lvvn",browserSignatureFamilyBits:"bsig",browserSignatureBits:"usig",hijackedDeviceSignatureBits:"hdsig",browserFeatures:"m1",referrerDepth:"refD",referrerUrl:"referrer",referrerUrlExtractedFromSafeFrame:"urlsrc",safeFrameExists:"sfe",widgetCount:"fwc",cookieLength:"fcl",domainLookupTime:"flt",documentElementCount:"fec",iframeCount:"fcifrms",historyLength:"brh",omidEnvironment:"omdenv",omidAdSessionType:"omdsessiontype",omidAppId:"omdappid",omidContentUrl:"omcurl",omidAccessMode:"omacm",scriptDynamicFlags:"sdf",eparamsLength:"dvp_epl",vastWrapperUrl:"wrapperurl",numberOfCores:"noc",hasTouchPad:"touch",navigatorPlatform:"nav_pltfrm",ctx:"ctx",cmp:"cmp",ipos:"ipos",sid:"sid",plc:"plc",adid:"adid",crt:"crt",btreg:"btreg",btadsrv:"btadsrv",adsrv:"adsrv",advid:"advid",num:"num",jsver:"jsver",pid:"pid",crtname:"crtname",unit:"unit",chnl:"chnl",scusrid:"scusrid",tagtype:"tagtype",sr:"sr",dt:"dt",dup:"dup",app:"app",dvvidver:"dvvidver",turl:"turl",icall:"icall",dv_callback:"dv_callback",useragent:"useragent",xff:"xff",timecheck:"timecheck",tvcp:"tvcp",vssd:"vssd",apifw:"apifw",vstvr:"vstvr",paonlytag:"paonlytag",iplessSideBySideInjection:"ilsbsi",seltag:"seltag",sadv:"sadv",ord:"ord",litm:"litm",scrt:"scrt",invs:"invs",splc:"splc",adu:"adu",spos:"spos",c1:"c1",c2:"c2",c3:"c3",c4:"c4",c5:"c5",c6:"c6",c7:"c7",c8:"c8",c9:"c9",c10:"c10",c11:"c11",c12:"c12",c13:"c13",c14:"c14",c15:"c15",native:"native",gmnpo:"gmnpo",isdvvid:"isdvvid",msrapi:"msrapi",bsimpid:"bsimpid",auctionid:"auctionid",vermemid:"vermemid",source:"source",buymemid:"buymemid",anadvid:"anadvid",ioid:"ioid",cpgid:"cpgid",cpid:"cpid",sellerid:"sellerid",pubid:"pubid",advcode:"advcode",iocode:"iocode",cpgcode:"cpgcode",cpcode:"cpcode",pubcode:"pubcode",prcpaid:"prcpaid",auip:"auip",auua:"auua",prr:"prr",iframe:"iframe",gdpr:"gdpr",gdpr_consent:"gdpr_consent",errorURL:"errorURL",auprice:"auprice",ppid:"ppid",audeal:"audeal",auevent:"auevent",auadv:"auadv",aucmp:"aucmp",aucrtv:"aucrtv",auorder:"auorder",ausite:"ausite",auplc:"auplc",auxch:"auxch",audvc:"audvc",aulitem:"aulitem",auadid:"auadid",pltfrm:"pltfrm",aufilter1:"aufilter1",aufilter2:"aufilter2",autt:"autt",aubndl:"aubndl",supportedIntegrations:"mib",abortVisitRequest:"avr"}},2874:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.RTSEventNames=e.RTSDataMapping=void 0,e.RTSDataMapping={timeMsUntilAdMeasured:"IABMeasuredImpression",timeMsUntilAdViewed:"IABViewableImpression",groupMTimeMsUntilAdMeasuredRTS:"GroupMMeasuredImpression",groupMTimeMsUntilAdViewedRTS:"GroupMPassedImpression",groupMV3TimeMsUntilAdViewedRTS:"GroupMV3StandardPassedImpression",groupMV4TimeMsUntilAdViewedRTS:"GroupMV4StandardPassedImpression",groupMV4DisplayTimeMsUntilAdViewedRTS:"GroupMV4DisplayStandardPassedImpression",groupMV4VideoReachExtensionTimeMsUntilAdViewedRTS:"GroupMV4VideoReachExtensionStandardPassedImpression",groupMV4VideoNativeTimeMsUntilAdViewedRTS:"GroupMV4VideoNativeStandardPassedImpression",timeUntilCustomViewabilityPassedMs:"CustomViewabilityViewable",q1iabvms:"VideoQuartile1ViewableIAB",q2iabvms:"VideoQuartile2ViewableIAB",q3iabvms:"VideoQuartile3ViewableIAB",q4iabvms:"VideoQuartile4ViewableIAB",iabv5:"IABAdViewable5Seconds",iabv10:"IABAdViewable10Seconds",iabv15:"IABAdViewable15Seconds",pmxTimeMsUntilAdMeasured:"PMXStandardMeasuredImpression",pmxTimeMsUntilAdViewed:"PMXStandardPassedImpression",engagementAudienceDisengaged:"EngagementAudienceDisengaged",engagementAudienceEngaged:"EngagementAudienceEngaged",engagementAudienceNoEngagement:"EngagementAudienceNoEngagement",engagementAudienceInterested:"EngagementAudienceInterested",adEngagement:"AdInteraction",pageEngagement:"DeviceInteraction",noEngagement:"NoInteraction",isMrcImpression:"MRCImpression"},e.RTSEventNames=["ImpressionServed","SessionEnd","IABNotMeasuredImpression",...Object.values(e.RTSDataMapping)]},8170:function(t,e){var i;Object.defineProperty(e,"__esModule",{value:!0}),e.getDiagnosticQueryParamName=e.DiagnosticParams=void 0,function(t){t.unitTest="ut",t.omidRenderedFromImpressionEvent="omrie",t.omidRenderedFromGeomChangePercLargerThanZero="omrge",t.cvcMethodId="cvcmeeid",t.adIdentityClientCode="ctx",t.adIdentityAdServerCampaignCode="cmp",t.adIdentityAdServerSiteCode="sid",t.adIdentityPlacementId="plc",t.adIdentityAdServer="adsrv",t.adIdentityDedupingId="dup",t.timeUntilOmidListenMs="omlms",t.timeTillAdSelected="tmads",t.errorStackTrace="errstk",t.taskTiming="tskt",t.isOmid3p="isom3p",t.adSizeMeasurementMethod="asmm",t.omidEnvironment="omenv",t.btregOptimizationSuccess="btros",t.btregOptimizationValue="btreg",t.btregValueInvalid="btregiv",t.regexNotAvailable="regxnav",t.btadsrvValue="btadsrv",t.findClassValue="findclass",t.foundBiggerChildElement="fbce",t.initialScriptUrl="dvtpurl",t.tagUniqueKey="tukv",t.sharedTagUniqueKey="sukv",t.ddtExtractionSource="ddtes",t.unknownScreenOrientationType="usot",t.isOmidEnabled="isom",t.tagCounterOmidSupported="tgcoom",t.omidPartnerName="omnpn",t.omidPartnerVersion="omnpv",t.omidJSPartnerName="omjspn",t.omidJSPartnerVersion="omjspv",t.omidFirstAdSizeFromGeometryMs="omfadsfgms",t.omidTimeMsUntilStartSession="omstsms",t.omidTimeMsUntilStartVideo="omstms",t.omidTimeMsUntilEndVideo="omensms",t.omidVendorKey="omvk",t.omidMeasuringElement="ome",t.omidDeviceCategory="omdevcat",t.celtraDeepScannerCalled="cdsc",t.celtraScannerCalled="csc",t.oe="csalm",t.celtraScannerParentElementFound="cspf",t.omidVersionComparison="omverc",t.omidAdSessionId="omasid",t.adCandidatesLocatorMethodTries="msrcanlt",t.isKeyPressed="iskp",t.isMouseMoved="ismm",t.isOrientationChangedToPortrait="isoctp",t.isOrientationChangedToLandscape="isoctl",t.byTagScanner="btsc",t.isMrcImpression="mrci",t.selectedAdWidth="saw",t.selectedAdHeight="sah",t.ImpressionServed="rtnevis",t.IABMeasuredImpression="rtneviabmi",t.IABNotMeasuredImpression="rtneviabnmi",t.IABViewableImpression="rtneviabvi",t.GroupMMeasuredImpression="rtnevgmmmi",t.GroupMPassedImpression="rtnevgmmpi",t.GroupMV3StandardPassedImpression="rtnevgmv3spi",t.GroupMV4StandardPassedImpression="rtnevgmv4spi",t.GroupMV4DisplayStandardPassedImpression="rtnevgmv4dspi",t.GroupMV4VideoReachExtensionStandardPassedImpression="rtnevgmv4vrespi",t.GroupMV4VideoNativeStandardPassedImpression="rtnevgmv4vnspi",t.CustomViewabilityViewable="rtnevcvv",t.VideoQuartile1ViewableIAB="rtnevvq1vi",t.VideoQuartile2ViewableIAB="rtnevvq2vi",t.VideoQuartile3ViewableIAB="rtnevvq3vi",t.VideoQuartile4ViewableIAB="rtnevvq4vi",t.IABAdViewable5Seconds="rtneviabv5s",t.IABAdViewable10Seconds="rtneviabv10s",t.IABAdViewable15Seconds="rtneviabv15s",t.PMXStandardMeasuredImpression="rtnevpmxmi",t.PMXStandardPassedImpression="rtnevpmxpi",t.EngagementAudienceDisengaged="rtnevead",t.EngagementAudienceEngaged="rtneveae",t.EngagementAudienceNoEngagement="rtneveane",t.EngagementAudienceInterested="rtneveai",t.AdInteraction="rtnevai",t.DeviceInteraction="rtnevdi",t.NoInteraction="rtnevni",t.MRCImpression="rtnevmrci",t.SessionEnd="rtnevse",t.adLocatingMode="alm",t.me="almbtreg",t.improvedFallbacksAdLocationExperiment="almnfb",t.ge="almvpaid",t.be="almgenx",t.we="almbyref",t.timeMsUntilAdMeasured="tmuam",t.adCandidateSelectedState="acss",t.omidInteractionInvitationAccept="omiia",t.omidCustomInteractions="omci",t.omidIsVerificationPropsDefined="omvpdef",t.descendantIframeClickHandlers="dich",t.visitJsonErrorPixel="vjep",t.visitJsonExperimentGroup="vjeg",t.visitJsonExperimentAdCallDup="vjeacd",t.visitJsonExperimentUrl="vjeu",t.visitJsonUnloadIndicator="vjui",t.adLocatingDiagnostics="ald",t.legacyAdLocatingDiagnostics="lald",t.gandalfTheWhiteAdId="gtwadid",t.iplessSideBySideInjectionFailed="ilsbsif",t.intersectionObserverMethodSupported="isioms",t.ampIntersectionObserverMethodSupported="isaioms",t.isOmidInjectionIdExtractable="isomijid",t.secondaryIabViewabilityMeasured="issiabvm",t.secondaryIabViewable="issiabvv",t.omidVideoDuration="omvd",t.biggestNestedChildElementExperiment="bnce",t.tagCounter="tcnt",t.umtDeduppingInvoked="umtdei",t.umtDeduppedTagUrl="umtdeu",t.advertiserWorkflow="advwf",t.omidMaxPercentageInView="ompiv",t._e="impdvobj",t.misalignmentImpressionId="impmis",t.timeMsUntilAdMeasuredVideoAdPlayed="tmuamvap",t.timeMsUntilAdViewedVideoAdPlayed="tmuavvap",t.containerRenderLogicWindowLoadState="crlwls",t.containerRenderLogicPreRenderReason="crlprr",t.cdnDomain="cdndmn"}(i||(e.DiagnosticParams=i={}));e.getDiagnosticQueryParamName=t=>`ee_dp_${t}`},3783:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.DiagnosticParamsReporterSingleton=void 0;const n=i(749),s=i(8170);e.DiagnosticParamsReporterSingleton=new class{constructor(){this.lastValueReported={}}reportDiagnosticParam(t,e){const i=(0,s.getDiagnosticQueryParamName)(t);n.A.sendMessage({[i]:e})}report(t,e){if(this.lastValueReported[t]!==e){this.lastValueReported[t]=e;const i=(0,s.getDiagnosticQueryParamName)(t);n.A.sendMessage({[i]:e})}}reportOnce(t,e){if(!(t in this.lastValueReported)){this.lastValueReported[t]=e;const i=(0,s.getDiagnosticQueryParamName)(t);n.A.sendMessage({[i]:e})}}}},8564:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.DomAdData=void 0;e.DomAdData=class{constructor(t,e,i=!1){this.domElement=t,this.depth=e,this.foundBiggerChildElement=i}}},4969:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.AdCandidateEventData=void 0;const n=i(7404);class s extends n.EventData{constructor(t,e={}){super(e.updateTime),this.adCandidate=t,this.relevantData=e,this.updateTime=e.updateTime||this.updateTime,e.updateTime=this.updateTime}}e.AdCandidateEventData=s},734:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.j=void 0;const n=i(7404);class s extends n.EventData{constructor(t,e){super(),this.diagnosticData=t,this._=e}}e.j=s},6566:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.B=void 0;const n=i(7404);class s extends n.EventData{constructor(t){super(),this.ne=t.getMethod(),this.ee=t.getNumberOfTries(),this.numberOfAdSizeValidationFailures=t.getNumberOfAdSizeValidationFailures(),this.scanDiagnosticData=t.getScanDiagnosticData()}static F(t){return new this(t)}}e.B=s},9888:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.AdRenderedEventData=void 0;const n=i(7404);class s extends n.EventData{constructor(t){super(),this.uid=t}}e.AdRenderedEventData=s},8697:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.DelayTimerData=void 0;const n=i(7404);class s extends n.EventData{constructor(t){super(),this.delayTimeMS=t}}e.DelayTimerData=s},7404:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.EventData=void 0;const n=i(3380);e.EventData=class{constructor(t){this.updateTime=t||n.Utilities.getTimeDiff()}}},5561:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.LongTaskEventData=void 0;const n=i(7404);class s extends n.EventData{constructor(t){super(),this.longTasks=t}}e.LongTaskEventData=s},1690:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.PerformanceEventData=void 0;const n=i(7404);class s extends n.EventData{constructor(t,e){super(),this.performanceData=t,this.adData=e}}e.PerformanceEventData=s},2578:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ot=void 0;const n=i(7404);class s extends n.EventData{constructor(t){super(),this.adPriority=t}}e.ot=s},6779:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.TaskTimingEventData=void 0;const n=i(7404);class s extends n.EventData{constructor(t){super(),this.taskTimings=t}}e.TaskTimingEventData=s},9450:function(t,e,i){var n=this&&this.__createBinding||(Object.create?function(t,e,i,n){void 0===n&&(n=i);var s=Object.getOwnPropertyDescriptor(e,i);s&&!("get"in s?!e.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,n,s)}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),s=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||n(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),s(i(4969),e),s(i(6566),e),s(i(9888),e),s(i(8697),e),s(i(7404),e),s(i(5561),e),s(i(1690),e),s(i(2578),e),s(i(6779),e)},9878:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.TPSData=void 0;const n=i(3380);e.TPSData=class{constructor(){this.tagVersion="6.1.src",this.jsver=n.Utilities.getVersion(),this.trafficScenarioType=0,this.additionalParams={},this.dvpParamsFlags=[]}}},9393:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.AD_LOCATOR_MODES=void 0,e.AD_LOCATOR_MODES=["omid","vpaid","custom","adsrv","marked","auto","manual"]},7078:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.isBtregDetected=e.isCeltraDetected=e.isDfaDetected=e.isDisplayGenXDetected=e.isMraidDetected=e.isVpaidDetected=e.isOmidDetected=e.isDisplayDetected=void 0;const n=i(7749),s=i(870),r=i(6681),o=i(1063),a=i(3285);e.isDisplayDetected=()=>0===n.I.getTagType();e.isOmidDetected=()=>{var t;return null!==(t=s.omidAdapter.isSupported())&&void 0!==t&&t};e.isVpaidDetected=()=>{var t;return null!==(t=o.VpaidWrapper.isSupported())&&void 0!==t&&t};e.isMraidDetected=()=>{var t;return null!==(t=r.MraidWrapper.isSupported())&&void 0!==t&&t};e.isDisplayGenXDetected=()=>{const t=n.I.isDisplayGenXEnabled(),e=n.I.getPartnerContainerId();return t&&(null!=e&&""!==e)};e.isDfaDetected=()=>n.I.getAdServerId()===a.DFA_AD_SERVER_ID;e.isCeltraDetected=()=>n.I.getAdServerId()===a.CELTRA_AD_SERVER_ID;e.isBtregDetected=()=>null!=n.I.getBtreg()},1105:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.Me=void 0;const n=i(7749),s=i(9393),r=i(7078);e.Me=()=>{const t=n.I.getLowerCaseParams().alm;return null!=t&&s.AD_LOCATOR_MODES.includes(t)?t:(0,r.isOmidDetected)()?"omid":(0,r.isVpaidDetected)()?"vpaid":(0,r.isDisplayGenXDetected)()?"adsrv":(0,r.isBtregDetected)()&&(0,r.isDisplayDetected)()?"marked":"auto"}},4195:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.Ae=void 0;const n=i(1153),s=i(1634),r=i(6707),o=i(554),a=i(8066),c=i(9969),u=i(6018),d=i(8476),l=i(7257),h=i(3820),v=i(4620),p=i(172),f=i(4846),m=i(9260),g=i(8130),b=i(7368),w=i(5166),_=i(3822),y=i(4124),S=i(1129),M=i(5647),A=i(1865),E=i(9296),O=i(6634),T=i(8844),I=i(8522),D=i(3311),C=i(3469),j=i(7078),V=i(5293),x=[n.St,s.bt,r.Mt,c.ht,d.gt,l._t,u.yt,h.wt,v.ct,p.ft,o.Ht,a.qt,f.zt,m.Wt,g.vt,b.ut],R=()=>{x.forEach((t=>{(new t).start()}))},P=()=>{const t=[],e=[];if(O.AdLocationModuleWrapper.getInstance().detectCeltraElement()){const i=new _.$;t.push(i.bit),e.push(i)}if((0,j.isMraidDetected)()){const i=new V.Et;t.push(i.bit),e.push(i)}const i=new D.K;t.push(i.bit),e.push(i);const n=new I.Nt;t.push(n.bit),e.push(n);const s=new C.At;t.push(s.bit),e.push(s);const r=new T.U;return t.push(r.bit),e.push(r),{Ee:t,Oe:e}};e.Ae=t=>{switch(t){case"manual":{const t=new A.Tt;return{ae:{mainBit:t.bit,fallbackBits:[]},Te:()=>{t.start(),(new E.et).start()}}}case"omid":{const t=new y.Bt;return{ae:{mainBit:t.bit,fallbackBits:[]},Te:()=>{t.start()}}}case"vpaid":{const t=new S.$t;return{ae:{mainBit:t.bit,fallbackBits:[]},Te:()=>{t.start(),(new o.Ht).start(),(new a.qt).start()}}}case"adsrv":{const t=new M.O,{Ee:e,Oe:i}=P();return{ae:{mainBit:t.bit,fallbackBits:e},Te:()=>{t.start(),i.forEach((t=>{t.start()})),R()}}}case"marked":{const t=new w.Dt,{Ee:e,Oe:i}=P();return{ae:{mainBit:t.bit,fallbackBits:e},Te:()=>{t.start(),i.forEach((t=>{t.start()})),R()}}}case"custom":{const t=new _.$;return{ae:{mainBit:t.bit,fallbackBits:[]},Te:()=>{t.start()}}}default:{const{Ee:t,Oe:e}=P();return{ae:{mainBit:null,fallbackBits:t},Te:()=>{e.forEach((t=>{t.start()})),R()}}}}}},3997:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.Ie=e.De=void 0;const n=i(5309),s=i(1063),r=i(8170),o=i(1105),a=i(4195),c=i(3783);e.De=t=>{switch(t){case"manual":return n.deterministicByReferenceAdLocationExperiment.isEnabled();case"omid":return!0;case"vpaid":return n.deterministicVpaidAdLocationExperiment.isEnabled();case"adsrv":return n.deterministicDisplayGenXAdLocationExperiment.isEnabled();case"marked":return n.deterministicMarkedAdLocationExperiment.isEnabled();case"auto":return n.improvedFallbacksAdLocationExperiment.isEnabled();default:return!1}};e.Ie=()=>{s.VpaidWrapper.start();const t=(0,o.Me)(),i=(0,e.De)(t);c.DiagnosticParamsReporterSingleton.reportDiagnosticParam(r.DiagnosticParams.adLocatingMode,t);const{Te:n,ae:u}=(0,a.Ae)(t);return{Xt:i,Te:n,ae:u}}},6986:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});const n=i(138);i(6875),i(8962);const s=i(1759),r=i(6671),o=i(194),a=i(749),c=i(425),u=i(7360),d=i(7749),l=i(3544),h=i(9450),v=i(3868),p=i(3380),f=i(712),m=i(3219),g=i(8010),b=i(9688),w=i(8397),_=i(6574),y=i(5390),S=i(6783),M=i(7998),A=i(6892),E=i(2221),O=i(1079),T=i(370),I=i(8213),D=i(6800),C=i(8357),j=i(8453),V=i(1059),x=i(992),R=i(4194),P=i(8733),k=i(9582),N=i(6254),L=i(4932),F=i(6674),B=i(4115),U=i(1822),z=i(9041),q=i(9878),W=i(5070),H=i(4053),$=i(7741),G=i(8456),J=i(5817),Q=i(7026),K=i(3038),Y=i(549),X=i(495),Z=i(4713),tt=i(5244),et=i(5411),it=i(6987),nt=i(6975),st=i(319);K.default.setInitFireVisitImportsEndTime(),K.default.setInitFireVisitImportsStartTime(n.initFireVisitImportsStartTime);const rt=i(6625).M;e.default=async()=>new Promise((t=>{!function(t){function e(){const{omidJsClient:t,omidSessionData:e,isDomlessEnvironment:i,isFrameSupported:n,tags:s,tagsCounter:r,omidSessionStartTime:o,omidVendorKey:a,tagData:c,restrictedAccess:u,pubSub:d,isPubSubEval:l,sharedUniqueKey:h,dvGetOmidVerificationClient:v}=$dv;$dv={dvGetOmidVerificationClient:v,omidJsClient:t,omidSessionData:e,isDomlessEnvironment:i,isFrameSupported:n,tags:s,tagsCounter:r,omidSessionStartTime:o,omidVendorKey:a,tagData:c,restrictedAccess:u,pubSub:d,isPubSubEval:l,sharedUniqueKey:h}}function i(){const t=v.S.currentWindow(),e=o.it.getImpressionId(t);(0,it.detectImpressionIdMisalignment)(e),a.A.firePreviousEvents(),a.A.sendMessage({msrjs:p.Utilities.getVersion()}),u.u.dispatchEvent(u.DvEvents.impressionServed,new h.EventData)}function n(){const t=v.S.currentWindow(),e=o.it.getFrameId(t),n=o.it.getImpressionId(t),s=o.it.Qt();s.isPubSubEval||n||(s.pubSub=u.Jt,s.isPubSubEval=!0),s.pubSub.excludeFrameId&&s.pubSub.excludeFrameId(e),s.pubSub.subscribe(u.DvEvents.impressionServed,e,"DVM_impressionServed",i)}function ot(){return[new g.DvParamsCollector,new P.ParamUrlExtractionMethodCollector,new b.BrowserCollector,new w.TrafficScenarioCollector,new m.PreRenderCollector,new j.MraidCollector,new N.OmidContextCollector,new k.TpsApiTypeCollector,new C.SslCollector,new V.SupplySourceCollector,new L.ReferrerCollector,new M.WindowPropertiesCollector,new _.StrCollector,new y.VideoParamsCollector,new S.IOSMapleCollector,new A.DomScriptCollector,new E.ScriptsPerformanceCollector,new O.UserCollector,new T.BrowserSignatureCollector,new x.InjectionDetectionCodeCollector,new R.HijackedDeviceSignatureCollector,new I.BrowserFeaturesCollector,new D.AttributeCollector,new F.VastUrlCollector,new B.HardwareFeaturesCollector,new U.SupportedIntegrationsCollector]}function at(t){return[new W.TPSDataCollector(t),new $.MeasureGdpr,new G.MeasureGdprV2,new z.UmtDedupper,new H.GlobalVariablesInjection]}let ct=tt.VisitJsonFlowFeatureFlag.Disabled;function ut(){const t=new q.TPSData;(0,l.initialize)(d.I),(0,et.setupIplessSideBySideInjection)(t),Q.RenderLogicFactory.getRenderLogic().start();const e=at(ot());return ct=tt.VisitJsonFlow.shouldUse({experimentEnabled:p.Utilities.isPercentageCriteriaPassed(1)}),e.forEach((e=>{try{e.isSupported(t)&&e.executePhase(t,ct)}catch(t){a.A.sendError(f.ClientErrorType.VisitLogicError,t,e.toString())}})),t}function dt(){return!v.S.isDomlessEnvironment()&&d.I.getIsBlockingEnabled()&&o.it.getIsBlockingEnabled()&&!o.it.getTagHasVendorKey()&&(0===d.I.getTagType()||1===d.I.getTagType()&&"jsVpaid"===d.I.getMeasurementApi())}function lt(t,e){K.default.setFireVerifyExecutionStartTime();rt(t,e,c.W,o.it,d.I,v.S,p.Utilities).execute(),K.default.setFireVerifyExecutionEndTime()}function ht(){if(!d.I.isDisplayGenXEnabled()||0!==d.I.getTagType())return;const t=d.I.getPartnerContainerId(),e=(0,st.getElementById)(t);e&&(0,st.safeSetElementStyle)(e,"visibility","")}function vt(t){K.default.setFireVisitExecutionStartTime();const e=new J.ScriptsInjection;e.isSupported()&&e.executePhase(t,ct),gt=!0,K.default.setFireVisitExecutionEndTime()}function pt(e){ht(),vt(e),t()}function ft(){if(K.default.setInitMainExecutionStartTime(),e(),n(),!(0,Y.isBrowserSupported)())return;(0,nt.initialize)(a.A);const t=(0,Y.invokeWithPerformanceMeasures)({name:"ctdetms"},ut);(0,Z.initializeExperiments)(),dt()?lt(t,pt):d.I.getIsMonitoringEnabled()&&pt(t),K.default.setInitMainExecutionEndTime()}function mt(){if(!X.isPerformanceTimingAllowed)return;const t=K.default.getBenchmarks();(0,Y.scheduleTask)((()=>{[...t,{taskDetails:{name:"srbf"},startTime:0,endTime:dt()?2:1}].forEach((({taskDetails:t,startTime:e,endTime:i})=>{(0,Y.reportTaskTiming)(t,e,i)}))}))}let gt=!1;try{o.it.setDvGetOmidVerificationClient(s);const t=new r.OmidVerificationClientWrapper(s());t.isSupported()?t.ready(ft):ft(),K.default.setTotalSyncTimeEndTime(),mt()}catch(t){gt?a.A.sendError(f.ClientErrorType.PostMeasuredGlobalMainError,t):a.A.sendError(f.ClientErrorType.PreMeasuredGlobalMainError,t)}}(t)}))},8703:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.initAdDataLoggerBL=e.initAdBL=void 0;const n=i(4342),s=i(1849),r=i(334),o=i(6265),a=i(1847),c=i(1899),u=i(3502),d=i(6991),l=i(5765),h=i(7196),v=i(8720),p=i(3738),f=i(8642),m=i(2181),g=i(8123),b=i(8029),w=i(5152),_=i(5993),y=i(1354),S=i(3454),M=i(5157),A=i(1061),E=i(7912),O=i(7175),T=i(6825),I=i(4691),D=i(7827),C=i(9045),j=i(4771),V=i(8877),x=i(9603),R=i(7938),P=i(458),k=i(1726),N=i(9611),L=i(9401),F=i(5500),B=i(4892),U=i(9616),z=i(8716),q=i(9440),W=i(2020),H=i(2968),$=i(6715),G=i(2310),J=i(4021),Q=i(9608),K=i(1886),Y=i(5784),X=i(6901),Z=i(876),tt=i(615),et=i(223),it=i(8463),nt=i(4183),st=i(7999),rt=i(6044),ot=i(1816),at=i(3363),ct=i(1006),ut=i(9289),dt=i(8874),lt=i(5443),ht=i(2359),vt=i(8345),pt=i(8076),ft=i(6355),mt=i(8409),gt=i(5648),bt=i(3831),wt=i(3723),_t=i(2530),yt=i(4372),St=i(1328),Mt=i(495),At=i(2727),Et=i(7684),Ot=i(5465),Tt=i(1074),It=i(3500),Dt=(i(7706),i(9721)),Ct=i(5786),jt=i(7573),Vt=i(2397),xt=i(7159),Rt=i(2689),Pt=i(6811),kt=i(4998);e.initAdBL=(t,e)=>()=>{new n.PageEventsLoggerBL,new s.OmidLoggerBL,new r.OmidImpressionEventInfoBL,new o.ExposureCompatibilityIndicator,new a.AdSelectorLogger,new c.te,new u.AdElementInfoExtractorBL,new d.CreativeVsContainerBL,new l.AdDomElementObserverBL,new h.ExposureBL,new v.AdSizeBL,new p.AdWrapperSizeBL,new f.PMXDisplayViewabilityBL,new m.PMXVideoViewabilityBL,new g.IabNotViewReasonsViewabilityBL,new b.IabDisplayViewabilityBL,new Vt.SecondaryIabDisplayViewabilityBL,new w.IabVideoViewabilityBL,new xt.SecondaryIabVideoViewabilityBL,new Pt.IabVideoViewabilityAdVideoPlayedBL,new _.IabVideoQuartileViewabilityBL,new y.VideoQuartileFullOnScreenBL,new S.VideoFullQuartileAudibleBL,new M.IabDisplayViewabilityForXSecondsBL,new A.IabVideoViewabilityForXSecondsBL,new E.GroupMDisplayViewabilityBL,new O.GroupMVideoViewabilityBL,new T.GroupMV4NonMobileDisplayViewabilityBL,new I.GroupMV4MobileDisplayViewabilityBL,new D.GroupMV4VideoNativeViewabilityBL,new C.GroupMV4VideoReachExtensionViewabilityBL,new j.BucketsDisplayViewabilityBL,new V.BucketsVideoViewabilityBL,new x.VideoInViewAndAudibleBL,new Rt.ContinuousInViewBL,new R.EndQuartileViewabilityBL,new P.RbViewabilityBL,new k.ViewabilityStartPercentageBL,new N.QuartileBucketsVolumeBL,new L.ReportAdManagerRTS,new F.MobileOrientationBL,new B.FocusBucketsBL,new U.MrcImpressionBL,new z.DisplayGenXLogger(new q.DisplayGenXAdContainerInspectorFactory("data-doubleverify-container")),new W.RenderingMethodLogger,new Dt.AdLocationDiagnosticsLogger,new jt.GandalfTheWhiteBL,((t,e)=>{new H.PerformanceMetricsBL,new $.ViewableShareOfScreenBL,new G.InViewShareOfScreenBL,new Ct.DeterministicAdSelector(e,t),new J.AdSelector(t),new Q.AdLocatedBL,new K.VideoMarkImpressionAsRenderedBL,new Y.VideoStoppedBL,new X.VideoSkippableBL,new Z.VideoCompleteBL,new tt.VideoLengthBL,new et.VolumeBL,new it.InteractionHoverBL,new nt.InteractionTouchBL,new st.InteractionClickBL,new rt.InteractionVolumeBL,new ot.InteractionPauseBL,new at.InteractionResumeBL,new ct.InteractionSkipBL,new ut.InteractionAbandonBL,new dt.InteractionFocusBL,new lt.InteractionAdSizeBL,new ht.PageInteractionKeyPressBL,new vt.PageInteractionMouseMoveBL,new pt.PageInteractionScrollBL,new ft.PageInteractionOrientationChangeLandscapeBL,new mt.PageInteractionOrientationChangePortraitBL,new gt.EngagementReportRtsBL,new bt.ReportAdManagerTPS,new wt.DataTransparencyBL,new _t.PerformanceApiBL,new yt.PerformanceLongTasksBL,new St.ScriptInjectionModeBL,Mt.isPerformanceTimingAllowed&&new At.PerformanceTaskTimingBL,new Et.ViewabilityMeasurementBL,new Ot.UserPresenceBL,new kt.CdnDomainBL})(t,e),new Tt.NormalizedAdSizeBL};e.initAdDataLoggerBL=()=>{new It.ShareOfScreenResearchBL}},7612:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.initAdDataCollector=void 0;const n=i(2452),s=i(6195),r=i(3081),o=i(9615),a=i(4874),c=i(2294),u=i(1776),d=i(7815),l=i(1194),h=i(3384),v=i(417),p=i(6593),f=i(7379),m=i(2237),g=i(9198),b=i(1606),w=i(6789);e.initAdDataCollector=()=>{new n.FocusDataCollector,new s.StrictFocusDataCollector,new r.ViewabilityDataCollector,new o.BoundariesViewabilityDataCollector,new a.AdInteractionEventDataCollector,new c.OmidInteractionDataCollector,new u.VideoPlaybackDataCollector,new d.HiddenAdsDataCollector,new l.AutoplayDataCollector,new h.PageEventsDataCollector,new v.PerformanceApiDataCollector,new p.PerformanceLongTasksDataCollector,new f.UserPresenceDataCollector,new m.InteractionUnloadDataCollector,new g.PageInteractionMouseMoveDataCollector,new b.PageInteractionKeyPressDataCollector,new w.PageInteractionOrientationChangedDataCollector}},3978:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});const n=i(3038),s=i(549),r=i(749),o=i(8703),a=i(7612),c=i(3997),u=i(712);e.default=()=>{try{n.default.setInitMeasurementExecutionStartTime();const{Xt:t,Te:e,ae:i}=(0,c.Ie)();[(0,s.trackPerformanceWhenExecuted)({name:"iabletms"},(0,o.initAdBL)(t,i)),(0,s.trackPerformanceWhenExecuted)({name:"iadletms"},o.initAdDataLoggerBL),(0,s.trackPerformanceWhenExecuted)({name:"iadcetms"},a.initAdDataCollector),(0,s.trackPerformanceWhenExecuted)({name:"saleetms"},e)].forEach((t=>{t()})),n.default.setInitMeasurementExecutionEndTime()}catch(t){r.A.sendError(u.ClientErrorType.PostMeasuredGlobalMainError,t,"initMeasurements")}}},5411:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.shouldInjectIplessSideBySideScript=e.setupIplessSideBySideInjection=void 0;const n=i(425),s=i(194),r=i(7749),o=i(3868),a=i(8170),c=i(3783),u="https://assets.msn.com/staticsb/statics/latest/js/thirdparty/doubleverify/msftdvbm.js",d="s2sru";function l(){const t=r.I.getIsIplessSideBySideInjection(),e=o.S.isDomlessEnvironment();return t&&!e&&!0}e.setupIplessSideBySideInjection=function(t){var e;const i=r.I.getLowerCaseParams();if(d in i||!l())return;const o=null===(e=s.it.getTagScriptElem())||void 0===e?void 0:e.parentElement;if(!o)return void c.DiagnosticParamsReporterSingleton.report(a.DiagnosticParams.iplessSideBySideInjectionFailed,1);const h=crypto.randomUUID();t.additionalParams[d]=h;const v=function(t,e){const i=new URLSearchParams(t);i.append(d,e),i.delete("ctx"),i.delete("cmp"),i.append("ctx","818052");const n=i.toString();return`${u}?${n}`}(i,h);n.W.addScriptAsync(v,o)},e.shouldInjectIplessSideBySideScript=l},4530:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.initScript=e.isDomlessEnvironment=void 0;const i={id:19,message:"TagNotFoundError"},n={id:128,message:"UnexpectedError"},s="object"==typeof omidVerificationProperties&&omidVerificationProperties.injectionId||null,r=()=>{};e.isDomlessEnvironment=()=>"undefined"==typeof window||"object"==typeof window&&null!==window&&"function"!=typeof window.addEventListener;function o(){try{return(new Date).getTime()}catch(t){return 0}}const a=()=>{if((0,e.isDomlessEnvironment)())return!1;try{const e=(t=>{const e=Math.floor(1e12*Math.random())+"";return Object.assign(document.createElement("iframe"),{id:`iframe_${e}`,height:"0",width:"0",style:{display:"none"},src:t,"data-dv-frm":e})})("about:blank");(t=>{if(document.currentScript){const e=document.currentScript.parentNode;e&&"function"==typeof e.insertBefore?e.insertBefore(t,document.currentScript):document.currentScript.appendChild(t)}else if(document.body&&"function"==typeof document.body.insertBefore)document.body.firstChild?document.body.insertBefore(t,document.body.firstChild):document.body.appendChild(t);else{const[e]=Array.from(document.getElementsByTagName("head"));e&&"function"==typeof document.body.insertBefore&&e.firstChild?e.insertBefore(t,e.firstChild):document.documentElement.appendChild(t)}})(e);const s=!((t=e)&&(t.contentDocument||(null===(i=t.contentWindow)||void 0===i?void 0:i.document)||(null===(n=null===frames||void 0===frames?void 0:frames[t.name])||void 0===n?void 0:n.document)));try{e.remove()}catch(i){}return s}catch(t){return!0}var t,i,n};function c(t,e,i,n,s,r,o,a){const c=function(t,e,i,n,s,r,o){const a=[e,"ctx=818052&cmp=1619415&dvtagver=6.1.src","&napr=",(null==s?void 0:s.message)||"error undefined","&cerrt=",r.id,"&tgjsver=",i,"&jsver=",i];o&&a.push("&dvp_isLostImp=1");let c=0;return t&&(c|=4),n&&(c|=8),c>0&&a.push("&tstype="+c),a.join("")}(t,e,i,n,s,r,o),u=encodeURI(c);a&&a.fire(u)}function u(){return(o()*function(){let t=1;const e=Math.floor(10*Math.random())+1;for(let i=0;i<e;++i)t*=Math.random();return t}()).toString(10)}e.initScript=()=>{var t;const d=o();let l,h;const v="https://tps.doubleverify.com/",p=v+"visit.jpg?",f=u(),m=(0,e.isDomlessEnvironment)(),g=a(),{omidWebHopCounter:b,isOmidForWeb:w}=(()=>{let t=-1;try{if((0,e.isDomlessEnvironment)())return{isOmidForWeb:!1,omidWebHopCounter:t};if("object"==typeof window.omidVerificationProperties&&"web"===window.omidVerificationProperties.injectionSource)return{isOmidForWeb:!0,omidWebHopCounter:t};let i=!1,n=window;for(;!i&&n;)i=null!==n.document.querySelector("script[src*=omweb-v1]"),n=n===window.top?null:n.parent,t++;return{isOmidForWeb:i,omidWebHopCounter:t}}catch(e){return{isOmidForWeb:!1,omidWebHopCounter:t}}})(),{isOmid3p:_,omid3pHopCounter:y}=(t=>{let i=-1;try{if((0,e.isDomlessEnvironment)()||t)return{isOmid3p:!1,omid3pHopCounter:i};let s=!1,r=window;for(;!s&&r;)s=(n=r.omid3p)&&"function"==typeof n.registerSessionObserver&&"function"==typeof n.addEventListener,r=r===window.top?null:r.parent,i++;return{isOmid3p:s,omid3pHopCounter:i}}catch(t){return{isOmid3p:!1,omid3pHopCounter:i}}var n})(w);let S;const M=9018;try{if(!m&&(null===document||void 0===document?void 0:document.currentScript)){const t=document.currentScript;t.dvvisit=1,S=t}}catch(t){const e=t instanceof Error?t:new Error(`${t}`);c(m,p,M,g,e,i,!1)}const A=!m&&(null==S?void 0:S.src),E=A?A.substr(0,A.indexOf("/dvbm.js")+1):"https://cdn.doubleverify.com/",O=m?{fire(t,e,i){e||(e=r),i||(i=r),"object"==typeof omidNative&&"function"==typeof omidNative.sendUrl&&omidNative.sendUrl(t,e,i)}}:{fire(t,e,i){const n=new Image(1,1);n.onerror=i||r,n.onload=e||r,n.src=t}};try{h=(t=>{var e,i;let n,s={},r={};return t&&(n=(null===(e=t.dataset)||void 0===e?void 0:e.doubleverifyParameters)?null===(i=t.dataset)||void 0===i?void 0:i.doubleverifyParameters:function(t){const e=t.indexOf("#"),i=t.indexOf("?");let n="";n=e>-1&&i>-1?i<e?"?":"#":-1==i?"#":"?";const s=t.trim().split(n);return 2===s.length?s[1]:""}(t.src),n&&(s=function(t){const e={};return t.split(/[&?#]+/).forEach((function(t){const i=t.trim().split("=");2===i.length&&(e[i[0].trim()]=i[1].trim())})),e}(n),r=function(t){const e={};return["cmp","ctx","sid","plc"].forEach((function(i){Object.prototype.hasOwnProperty.call(t,i)&&(e["dvp_"+i]=t[i])})),e}(s))),{toQueryString:function(t){let e="";for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e&&(e+="&"),e=[e,i,"=",JSON.stringify(t[i])].join(""));return e},getQueryStringParams:function(){return s},getQueryStringClientParams:function(){return r}}})(m?null:S),l=function(){let t="";const e="__ERR_MSG_PLACEHOLDR__",i="__CLIENT_ERROR_TYPE_PLACEHOLDR__",n={ctx:818052,cmp:1619415,dvtagver:"6.1.src",tgjsver:M,jsver:M,napr:e,cerrt:i};let s=0;function r(n,s,r){var o;s&&(s=null==(o=s)?void 0:o.trim().replace(/(\t|\n|\r|\|)/g,"")),s=s&&encodeURIComponent(s)||"";let a=t.replace(new RegExp(e,"g"),[n.message,s].join("__"));return a=a.replace(new RegExp(i,"g"),n.id.toString()),r&&(a+="&dvp_isLostImp=1"),a}return m&&(s|=4),g&&(s|=8),s>0&&(n.tstype=s),function(){const e=[h.toQueryString(n),h.toQueryString(h.getQueryStringClientParams())].join("&");t=[p,e].join("")}(),{report:function(t,e,i){O.fire(r(t,e,i))},getReportUrl:r}}()}catch(t){const e=t instanceof Error?t:new Error(`${t}`);c(m,p,M,g,e,n,!1,O)}try{$dv="undefined"!=typeof $dv&&$dv||{tags:{},tagsCounter:0,registerEventCall:r,createEventCallUrl:()=>"",getWorkingWindow:()=>window,sendBeacon:r,resolveMacros:()=>"",getMraid:()=>({})},$frmId=u(),$dv.tagsCounter=$dv.tagsCounter?$dv.tagsCounter+1:1,$dv.isDomlessEnvironment=m,$dv.sharedUniqueKey||($dv.sharedUniqueKey=u()),$dv.restrictedAccess=g;const e=null!==(t=null==h?void 0:h.getQueryStringParams())&&void 0!==t?t:{};return m?globalThis.dvWindow=function(t){const e={location:{protocol:"https:"}},i={getElementById:r,createElement:r,body:{insertBefore:r},querySelectorAll:()=>[]};return e.$dv=t,e.parent=e,e.top=e,e.document=i,e}($dv):window.dvWindow=window,function(t,e,i,n,r,a,c){t.tagData||(t.tagData={}),e=function(t,e){let i=5;for(;t[e]&&--i;)e=u();if(t[e])throw new Error("failed to create tagUniqueKey");return e}(t.tagData,e);const l={};return l.dvtpScriptVersion=i,l.dvtpScriptUrl=n,l.restrictedAccess=r,l.$frmId=a,l.tagScriptElem=S,l.tagLoadedMS=d,l.isOmidForWeb=w,l.isOmid3p=_,l.omidWebHopCounter=b,l.omid3pHopCounter=y,l.tagExecTimeMs=o()-d,l.flvr="1",m||(l.tagReadyState=document.readyState),l.staticPrefix=E,l.serverPrefix=v,l.tagParams=c,l.omidInjectionId=s,t.tagData[e]=l,l}($dv,f,M,A,g,$frmId,e)}catch(t){const e=n,i=t instanceof Error?t:new Error(`${t}`);l?l.report(e,i.message,!0):c(m,p,M,g,i,e,!0,O)}}},8519:function(t,e,i){const n=i(3978),s=i(6986);t.exports=async()=>{await(0,s.default)(),(0,n.default)()}},1849:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.OmidLoggerBL=void 0;const n=i(870),s=i(630),r=i(6751),o=i(7360),a=i(3380),c=i(194),u=i(8379),d=i(8170),l=i(3783);class h extends r.BaseAdBL{constructor(){super(...arguments),this.renderEventTypes={IMPRESSION_EVENT:1,GEOMETRY_CHANGE_AD_DIM:2,GEOMETRY_CHANGE_PCT_IN_VIEW:4,IMPRESSION_EVENT_PCT_IN_VIEW:8}}isSupported(){return n.omidAdapter.isSupported()}getEventsAndCallbacksToRegister(){return{[o.DvEvents.adCandidateApproved]:t=>{this.adCandidateApproved(t)}}}init(){}adCandidateApproved(t){const e=c.it.Qt();e.tagsCounter>1&&l.DiagnosticParamsReporterSingleton.reportOnce(d.DiagnosticParams.tagCounterOmidSupported,e.tagsCounter),n.omidAdapter.registerSessionObserver((e=>{this.omidSessionEventHandler(t,e)})),a.Utilities.objectValues(s.OmidAdEventType).filter((t=>t!==s.OmidAdEventType.MEDIA&&t!==s.OmidAdEventType.VIDEO)).forEach((e=>{n.omidAdapter.addEventListener(e,(e=>{this.omidEventHandler(e,t)}))}))}omidEventHandler(t,e){try{switch(t.type){case s.OmidAdEventType.IMPRESSION:this.handleImpressionEvent(t,e);break;case s.OmidAdEventType.GEOMETRY_CHANGE:this.handleGeometricChangeEvent(t,e);break;case s.OmidAdEventType.START:this.handleStartEvent();break;case s.OmidAdEventType.COMPLETE:this.handleCompleteEvent()}this.onTriggeredOmidEvent(e,t.type)}catch(t){}}handleImpressionEvent(t,e){var i,n;let s=0;if(s|=this.renderEventTypes.IMPRESSION_EVENT,(null==t?void 0:t.timestamp)&&(e.adCandidate.omidImpressionEventTimestamp=t.timestamp),null===(n=null===(i=null==t?void 0:t.data)||void 0===i?void 0:i.adView)||void 0===n?void 0:n.percentageInView){s|=t.data.adView.percentageInView>0?this.renderEventTypes.IMPRESSION_EVENT_PCT_IN_VIEW:0}e.adCandidate.omidRenderLogicLog|=s}handleStartEvent(){l.DiagnosticParamsReporterSingleton.reportOnce(d.DiagnosticParams.omidTimeMsUntilStartVideo,a.Utilities.getTimeDiff())}handleCompleteEvent(){l.DiagnosticParamsReporterSingleton.reportOnce(d.DiagnosticParams.omidTimeMsUntilEndVideo,a.Utilities.getTimeDiff())}geometricChangeRenderTrigger(t){var e,i;let n=0;if(null===(i=null===(e=null==t?void 0:t.data)||void 0===e?void 0:e.adView)||void 0===i?void 0:i.geometry){const e=t.data.adView.geometry.width>0&&t.data.adView.geometry.height>0,i=t.data.adView.percentageInView>0;(i||e)&&(n|=e?this.renderEventTypes.GEOMETRY_CHANGE_AD_DIM:0,n|=i?this.renderEventTypes.GEOMETRY_CHANGE_PCT_IN_VIEW:0)}return n}reportOmidMaxPercentageInView(t,e){var i,n;const s=null===(n=null===(i=null==t?void 0:t.data)||void 0===i?void 0:i.adView)||void 0===n?void 0:n.percentageInView;if(s>=0){const t=e.adCandidate.omidMaxPercentageInView,i=Math.floor(t/10),n=Math.floor(s/10);(null==t||n>i)&&(e.adCandidate.omidMaxPercentageInView=s,l.DiagnosticParamsReporterSingleton.report(d.DiagnosticParams.omidMaxPercentageInView,s))}}handleGeometricChangeEvent(t,e){e.adCandidate.omidRenderLogicLog|=this.geometricChangeRenderTrigger(t),this.extractAdViewabilityInfo(t,e),this.reportOmidMaxPercentageInView(t,e)}extractAdViewabilityInfo(t,e){var i;const{containerGeometry:n,measuringElement:s}=(null===(i=null==t?void 0:t.data)||void 0===i?void 0:i.adView)||{};if(n){const{height:t,width:i}=n;e.adCandidate.omidContainerGeometryHeight=t,e.adCandidate.omidContainerGeometryWidth=i}l.DiagnosticParamsReporterSingleton.reportOnce(d.DiagnosticParams.omidMeasuringElement,this.mapOmidMeasuringElement(s)),e.adCandidate.omidCreativeVsContainerIndicator=this.getCreativeVsContainerIndicator(n)}getCreativeVsContainerIndicator(t){return a.Utilities.isNullOrEmpty(t)?2:1}mapOmidMeasuringElement(t){return a.Utilities.isNullOrEmpty(t)?0:t?1:2}omidSessionEventHandler(t,e){if(null==e?void 0:e.type){if(e.type===s.OmidAdEventType.SESSION_START)this.omidSessionStartEventHandler(t,e);this.onTriggeredOmidEvent(t,e.type)}}omidSessionStartEventHandler(t,e){var i,n,s,r,o,a,c,u,h,v;const p=e.data;if((null==p?void 0:p.context)&&(l.DiagnosticParamsReporterSingleton.reportOnce(d.DiagnosticParams.omidJSPartnerName,null===(i=p.context.omidJsInfo)||void 0===i?void 0:i.partnerName),l.DiagnosticParamsReporterSingleton.reportOnce(d.DiagnosticParams.omidJSPartnerVersion,null===(n=p.context.omidJsInfo)||void 0===n?void 0:n.partnerVersion),l.DiagnosticParamsReporterSingleton.reportOnce(d.DiagnosticParams.omidPartnerName,null===(s=p.context.omidNativeInfo)||void 0===s?void 0:s.partnerName),l.DiagnosticParamsReporterSingleton.reportOnce(d.DiagnosticParams.omidPartnerVersion,null===(r=p.context.omidNativeInfo)||void 0===r?void 0:r.partnerVersion),l.DiagnosticParamsReporterSingleton.reportOnce(d.DiagnosticParams.omidDeviceCategory,p.context.deviceCategory),t.adCandidate.omidDeviceType=null===(o=p.context.deviceInfo)||void 0===o?void 0:o.deviceType,t.adCandidate.omidJSServiceVersion=null===(a=p.context.omidJsInfo)||void 0===a?void 0:a.serviceVersion,t.adCandidate.omidDeviceOSVersion=null===(c=p.context.deviceInfo)||void 0===c?void 0:c.osVersion,null===(u=null==p?void 0:p.context.deviceInfo)||void 0===u?void 0:u.os)){let e=null;"iOS"==(null===(h=p.context.deviceInfo)||void 0===h?void 0:h.os)?e=6:"Android"==(null===(v=p.context.deviceInfo)||void 0===v?void 0:v.os)&&(e=5),t.adCandidate.omidDeviceOS=e}(null==p?void 0:p.pageUrl)&&(t.adCandidate.omidPageUrl=p.pageUrl)}onTriggeredOmidEvent(t,e){(t.adCandidate.omidEvents&u.OmidEvents[e])!=u.OmidEvents[e]&&(t.adCandidate.omidEvents|=u.OmidEvents[e],this.reportData(t))}reportData(t){o.u.dispatchEvent(o.DvEvents.reportData,t)}}e.OmidLoggerBL=h},136:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.TagExtensionRegistry=void 0;e.TagExtensionRegistry=()=>({tagExtensions:[],register(t,e){this.tagExtensions.push([t,e])},getTagExtensions(){return this.tagExtensions}})},3091:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Context=void 0;e.Context=(t,e,i,n,s,r,o,a,c)=>({getImpressionId:()=>t,getTagObject(){return e.Qt().tags[this.getImpressionId()]},Ce:i,je:n,Ve:s,sendBeacon:r.sendBeacon.bind(r),addScriptAsync:r.addScriptAsync.bind(r),addEventListener:r.addEventListener.bind(r),utils:o,xe:a,Re:c})},2383:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.AdvertiserViewabilityStandard=void 0;const n=i(7749),s=i(7360),r=i(8379),o=i(4312),a=[1];e.AdvertiserViewabilityStandard=(t,e,i=o.ViewabilityStandardRegistrySingleton)=>{const c={standardType:1,regularAd:{adPercentage:98,onFocus:!0,isConsecutive:!0,durationCap:1e3},largeAd:{adPercentage:80,onFocus:!0,isConsecutive:!0,durationCap:1e3}},u={standardType:1,regularAd:{adPercentage:98,onFocus:!0,isConsecutive:!1,durationCap:15e3,durationPercentage:50},largeAd:{adPercentage:80,onFocus:!0,isConsecutive:!1,durationCap:15e3,durationPercentage:50}},d=()=>{if(t.avs)return 1===t.avs.avsid?1:0},l=()=>{if(1===d())return 0==n.I.getTagType()?c:u},h=()=>{const t=l();if(t){e.Ce.sendMessage({avstu:t.standardType});const{DisplayMinimalLargeAdArea:s}=r.ViewabilityConstants.CustomAdvertiserViewabilityStandard,{VideoMinimalLargeAdArea:o}=r.ViewabilityConstants.CustomAdvertiserViewabilityStandard,a=0==n.I.getTagType()?s:o;i.register({standardId:"avs-hulu",settings:{regularAd:t.regularAd,largeAd:t.largeAd,minimalLargeAdArea:a},onMeasured:v,onPassed:p})}},v=t=>{e.Ce.sendMessage({tuavsmms:t.updateTime})},p=t=>{e.Ce.sendMessage({tuavspms:t.updateTime})};return{getId:()=>4,isSupported:()=>{const t=d();return!!t&&a.includes(t)},execute(){e.je.addEventListener(s.DvEvents.impressionServed,h)}}}},8250:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.CustomViewabilityTagExtension=void 0;const n=i(1104),s=i(4312),r=i(7360);e.CustomViewabilityTagExtension=(t,e,i=s.ViewabilityStandardRegistrySingleton)=>{const o=((t,e)=>{const i=t.cvs;return e.isEmpty(i)?null:{adSize:i.size,adDuration:i.dur,consecutiveMode:i.cons,hasVolume:i.vol}})(t,e.utils),a=()=>{const t={adPercentage:o.adSize,onFocus:!0,durationCap:o.adDuration,isConsecutive:1===o.consecutiveMode,isVolumeRequired:o.hasVolume};i.register({standardId:"custom",settings:{regularAd:t,largeAd:t,minimalLargeAdArea:null},onMeasured:c,onPassed:u})},c=t=>{t.adCandidate.timeUntilCustomViewabilityMeasuredMs=t.updateTime,r.u.dispatchEvent(r.DvEvents.reportData,t)},u=t=>{t.adCandidate.timeUntilCustomViewabilityPassedMs=t.updateTime,r.u.dispatchEvent(r.DvEvents.reportData,t)};return{getId:()=>2,isSupported:()=>null!==o&&((t,e)=>(1===t.xe.getTagType()?"boolean"==typeof e.hasVolume:null==e.hasVolume)&&e.adSize>=n.MIN_AD_SIZE_PERCENT&&e.adSize<=n.MAX_AD_SIZE_PERCENT&&e.adDuration>n.MIN_AD_DURATION_MS&&e.consecutiveMode>=n.MIN_CONSECUTIVE_MODE)(e,o),execute(){e.je.addEventListener(r.DvEvents.impressionServed,a)}}}},1104:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.MIN_CONSECUTIVE_MODE=e.MIN_AD_DURATION_MS=e.MAX_AD_SIZE_PERCENT=e.MIN_AD_SIZE_PERCENT=void 0,e.MIN_AD_SIZE_PERCENT=50,e.MAX_AD_SIZE_PERCENT=100,e.MIN_AD_DURATION_MS=0,e.MIN_CONSECUTIVE_MODE=0},8808:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.FraudBotNotification=void 0;const n=i(712),s=i(7736);e.FraudBotNotification=(t,e)=>{return{getId:()=>16,isSupported(){var e,i;return("false"===(null===(e=t.common)||void 0===e?void 0:e.isBsAllow)||!1===t.isBsAllow)&&null!=(null===(i=t.fraudBotNotification)||void 0===i?void 0:i.i9j0)},execute(){!function(t,s){const r=t.g7h8?t.s9t0:t.o5p6;let o="",a="";const c=null!=t.u1v2;c&&(a+=e.Ce.createEventCallUrl(s,{dvpx_gfbc:1},!0),o=t.u1v2);const u=t.q7r8;if(c)try{let n=decodeURIComponent(o);if(n=n.replace("[ENCODED_REDIRECT_URL]",encodeURIComponent(a)),n=i(n,u),t.c3d4)e.sendBeacon(n,!0);else if(t.e5f6){const t=document.createElement("img");t.width=0,t.height=0,t.style.display="none",t.src=n,document.body.insertBefore(t,document.body.firstChild)}}catch(t){e.Ce.sendError(n.ClientErrorType.TagExtensionExecutionError,t,"new_template")}else try{let n=decodeURIComponent(r);if(n=e.utils.resolveMacros(n,e.getTagObject()),n=n+"&dvp_impid="+s,n=i(n,u),t.c3d4)e.sendBeacon(n,!0);else if(t.e5f6){const t=document.createElement("img");t.width=0,t.height=0,t.style.display="none",t.src=n,document.body.insertBefore(t,document.body.firstChild)}}catch(t){e.Ce.sendError(n.ClientErrorType.TagExtensionExecutionError,t,"old_template")}}(function(t){const e={i9j0:s.identity,m3n4:s.identity,o5p6:s.identity,s9t0:s.identity,u1v2:s.identity,k1l2:s.parseNumber,q7r8:s.parseBoolean,c3d4:s.parseBoolean,e5f6:s.parseBoolean,a1b2:s.parseBoolean,g7h8:s.parseBoolean};return Object.entries(e).reduce(((e,[i,n])=>{const r=i;if((0,s.isNoneEmptyString)(t[r])){const s=n(t[r]);null!==s&&(e[i]=s)}return e}),{})}(t.fraudBotNotification),e.getImpressionId())}};function i(t,e){var i;return e&&(null===(i=null==t?void 0:t.startsWith)||void 0===i?void 0:i.call(t,"http"))&&!t.startsWith("https")?`${t}&cbust=${((new Date).getTime()+""+Math.floor(1e6*Math.random())).substring(0,16)}`:t}}},5042:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.FraudUrlResponseRedirector=void 0;e.FraudUrlResponseRedirector=(t,e)=>({getId:()=>64,isSupported(){var e;return!!(null===(e=t.fraudUrlResponseRedirector)||void 0===e?void 0:e.rurl)},execute(){!function(t){const i=t.rurl;e.sendBeacon(i,!0)}(t.fraudUrlResponseRedirector)}})},777:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ResearchCollection=void 0;const n=i(7736),s=i(7293),r=i(815),o={},a={pointerupCounter:0,pointermoveCounter:0,inputCounter:0,inputEventsDataLengthAccumulated:0,totalClicksXAccumulated:0,totalClicksYAccumulated:0,totalClickCounter:0,outOfViewportClicks:0,XClicksStdDev:0,YClicksStdDev:0},c={lastInputTime:0,lastClickTime:0,lastEventType:"",quickInteractionCounter:0,totalInteractionCounter:0},u=new Set,d=[];function l(t){let e=0;for(let i=0;i<t.length;i++)t[i]&&(e+=Math.pow(2,i));return e}const h=Array(s.BITS_ARRAY_LENGTH).fill(!1);function v(t,e){h[t]=!!e,o.bsigr=l(h).toString()}e.ResearchCollection=(t,e)=>{return{getId:()=>32,isSupported(){var i;return null!=(null===(i=t.researchCollection)||void 0===i?void 0:i.d1)&&!e.Re.isDomlessEnvironment()},execute(){const a=function(t){const e={adid:n.parseNumber,icat:n.parseBoolean,crad:n.parseBoolean,buni:n.identity,doha:n.parseNumber,napl:n.identity,dmon:n.identity,exti:n.parseNumber,tapt:n.identity,impi:n.identity,urti:n.identity,dety:n.identity,d1:n.parseNumber,d2:n.parseNumber,d3:n.identity,d4:n.identity,d5:n.identity,d6:n.identity,d7:n.identity,d8:n.identity,d9:n.identity,d10:n.identity,d11:n.identity,d12:n.parseBoolean,d13:n.identity,d14:n.identity};return Object.entries(e).reduce(((e,[i,s])=>{const r=i;if((0,n.isNoneEmptyString)(t[r])){const n=s(t[r]);null!==n&&(e[i]=n)}return e}),{})}(t.researchCollection);!function(t,e){var a,c;try{o.dvp_rc_version=s.RC_VERSION;const u=t.Re.getTopAccessibleWindow(),d=u.document,g=navigator;v(0,u===u.top),v(1,d&&""===d.title);try{!function(t,e,n){const s=[{name:"visibilityState",instance:e,proto:Document.prototype,dvpf_name:"",bit:12},{name:"hidden",instance:e,proto:Document.prototype,dvpf_name:"",bit:14},{name:"deviceMemory",instance:n,proto:Navigator.prototype,dvpf_name:"dvpf_devmem",bit:15},{name:"platform",instance:n,proto:Navigator.prototype,dvpf_name:"dvpf_navp",bit:16},{name:"maxTouchPoints",instance:n,proto:Navigator.prototype,dvpf_name:"dvpf_maxtp",bit:17},{name:"width",instance:t.screen,proto:Screen.prototype,dvpf_name:"dvpf_scrw",bit:24},{name:"height",instance:t.screen,proto:Screen.prototype,dvpf_name:"dvpf_scrh",bit:24},{name:"availWidth",instance:t.screen,proto:Screen.prototype,dvpf_name:"dvpf_scraw",bit:26},{name:"availHeight",instance:t.screen,proto:Screen.prototype,dvpf_name:"dvpf_scrah",bit:26},{name:"webdriver",instance:t,proto:Window.prototype,dvpf_name:"",bit:35},{name:"webdriver",instance:n,proto:Navigator.prototype,dvpf_name:"",bit:36},{name:"webdriver",instance:t,proto:Document.prototype,dvpf_name:"",bit:37}];for(const t of s)try{i(t)}catch(t){}}(u,d,g)}catch(t){}try{!function(t,e){var i,n,r;if(!(null===(n=null===(i=t.performance)||void 0===i?void 0:i.memory)||void 0===n?void 0:n.jsHeapSizeLimit))return;const o=2*t.performance.memory.jsHeapSizeLimit/s.MB_IN_BYTES;if(!(null===(r=null==e?void 0:e.webkitTemporaryStorage)||void 0===r?void 0:r.queryUsageAndQuota))return;e.webkitTemporaryStorage.queryUsageAndQuota(((t,e)=>{e/s.MB_IN_BYTES<o&&v(20,!0)}),(t=>{}))}(u,g)}catch(t){}v(2,!!(null==d?void 0:d.querySelector(u.atob("c2NyaXB0W3NyYz0iaHR0cHM6Ly9zdGF0aWMueHBhcmsxMDAubmV0L3Nkay90cmFjay5qcyJd")))),v(8,void 0!==u.NavigatorUAData),v(9,!!u&&!!u.jtjb),v(11,"ontouchstart"in window),v(21,null===(a=null==g?void 0:g.userActivation)||void 0===a?void 0:a.hasBeenActive),v(22,null===(c=null==g?void 0:g.userActivation)||void 0===c?void 0:c.isActive),v(28,void 0!==(null==g?void 0:g.bluetooth)),void 0!==d.hasFocus&&v(25,d.hasFocus());const[b,w,_]=function(t){let e=[],i="",s=0,r=0;try{const o=Array.from(null==t?void 0:t.querySelectorAll('iframe[id*="google_ads"]'));s=o.length,e=o.map((t=>[t.offsetWidth,t.offsetHeight,t.offsetTop,t.offsetLeft].join(",")));const a=(0,n.countValues)(e);r=a.size;const c=Array.from(a.entries()).sort(((t,e)=>e[1]-t[1]));i=c.slice(0,9).map((([t,e])=>`${t}:${e}`)).join("|")}catch(t){}return[i,s,r]}(d);w>0&&(o.dvpf_gic=w.toString()),_>0&&(o.dvpf_giuc=_.toString()),b&&(o.dvpf_gidim=b),m(d,u),(0,r.setSafeTimeout)((()=>{f(),t.Ce.sendMessage(o)}),s.REPORT_INTERACTION_COUNTS_TINEOUT_INTERVAL),d&&(d.getElementById("common_15click_overlay")||d.getElementById("common_15click_anchor"))&&v(34,!0);const y=/^(\$)?(wdc|cdc)_[a-zA-Z0-9]{16,}_(Array|Object|Promise|Proxy|Symbol|JSON)$/;for(const t of Object.keys(u))0===t.indexOf("__npEngineRun")&&v(41,!0),y.exec(t)&&v(7,!0);v(39,!u.chrome);try{p(u,g)}catch(t){}o.bsigr=l(h).toString(),t.Ce.sendMessage(o),function(t){if(!t.matchMedia)return;const e=t.matchMedia("(prefers-color-scheme: dark)");e.matches&&v(38,!0)}(u),function(t,e,i="",s=!1){var r,o;const a=e.d12;if(!s&&!a)return;const c=e.d2,u=Math.random();if(!s&&u>c)return;const d=t.Re.currentWindow(),l="";let p=null===(r=null==d?void 0:d.location)||void 0===r?void 0:r.hostname;const f=e.buni,m=parseInt(e.dety),g=parseInt(e.urti),b=e.d3,w=e.adid,_=e.impi,y=e.d13;3===m&&f&&f.length>0&&(p=0!=(2&g)&&d.location?d.location.hostname+"/"+f:f);let S=i+l;0===S.length&&(S="default");const M=(0,n.convertBitValuesObjToArrayString)(h)||"default";function A(t,e){var i,n;if(!XMLHttpRequest)return;const s=new XMLHttpRequest,r=new FormData;r.append("key",b+"/"+y+"/"+S+"/"+p+"/"+M+"_"+w+"_"+_+"_"+e+".html"),r.append("file",null===(n=null===(i=null==t?void 0:t.document)||void 0===i?void 0:i.documentElement)||void 0===n?void 0:n.outerHTML),s.open("POST","https://storage.googleapis.com/gp-ms-us-gcs-fraud",!0),s.send(r)}A(d,"top"),d!=window&&A(window,"iframe_tag");d!=window.parent&&A(window.parent,"iframe_tag_parent");d!=window.parent.parent&&A(window.parent.parent,"iframe_tag_parent_parent");const E=null===(o=null==d?void 0:d.document)||void 0===o?void 0:o.getElementById("adloaderframe");E&&A(E.contentWindow,"iframe_top_child");v(3,!0)}(t,e)}catch(e){t.Ce.sendMessage({dvp_rce:String.prototype.substring?String(e).substring(0,s.MAX_ERROR_STR_LENGTH):String.prototype.slice?String(e).slice(0,s.MAX_ERROR_STR_LENGTH):"String Error."})}}(e,a)}};function i(t){const e=t.name,i=t.instance,n=t.proto,s=t.dvpf_name,r=t.bit,a=i[e],c=Object.getOwnPropertyDescriptor(n,e);if(null==c)return;try{const t=c.get.apply(i);a!=t&&(v(r,!0),s&&(o[s]=t))}catch(t){}const u=c.get.toString();u&&(u.includes("function () {")||u.includes("ProxyObject"))&&v(r,!0)}function p(t,i){var n;if(!t.Promise)return;if(!(null===(n=null==i?void 0:i.userAgentData)||void 0===n?void 0:n.getHighEntropyValues))return;const r=i.userAgentData.getHighEntropyValues(["fullVersionList","model","platformVersion","platform"]);(null==r?void 0:r.then)&&r.then((function(t){var i;if(null==t?void 0:t.fullVersionList){t.model&&(o.dvpf_chm=t.model.slice(0,s.MAX_CH_VALUE_LENGTH)),t.platform&&(o.dvpf_chp=t.platform.slice(0,s.MAX_CH_VALUE_LENGTH)),o.dvpf_chpv=t.platformVersion.toString().slice(0,s.MAX_CH_VALUE_LENGTH);for(const e of t.fullVersionList)if((null===(i=null==e?void 0:e.brand)||void 0===i?void 0:i.indexOf("Chromium"))>-1){const t=e.version.toString();o.dvpf_chfv=t.replaceAll(" ","").slice(0,s.MAX_CH_VALUE_LENGTH)}e.Ce.sendMessage(o)}}))}function f(){o.dvpf_cc=a.totalClickCounter.toString(),o.dvpf_puc=a.pointerupCounter.toString(),o.dvpf_pmc=a.pointermoveCounter.toString(),o.dvpf_iec=a.inputCounter.toString(),o.dvpf_iedlc=a.inputEventsDataLengthAccumulated.toString(),o.dvpf_acxp=d.length>0?(a.totalClicksXAccumulated/d.length).toString():"0",o.dvpf_acyp=d.length>0?(a.totalClicksYAccumulated/d.length).toString():"0",u.size>0&&(o.dvpf_ith=Array.from(u).join("|")),c.totalInteractionCounter>0&&(o.dvpf_qir=(c.quickInteractionCounter/c.totalInteractionCounter).toString(),o.dvpf_tir=c.totalInteractionCounter.toString()),o.dvpf_xcsd=a.XClicksStdDev.toString(),o.dvpf_ycsd=a.YClicksStdDev.toString(),a.outOfViewportClicks>0&&(o.dvpf_ovc=a.outOfViewportClicks.toString())}function m(t,i){(null==t?void 0:t.addEventListener)&&(e.addEventListener("click",(function(t){t.isTrusted||v(27,!0),a.totalClickCounter++;!function(t){if("input"===c.lastEventType&&c.lastInputTime>0){const e=Math.abs(t-c.lastInputTime);c.totalInteractionCounter++,e<500&&c.quickInteractionCounter++}c.lastClickTime=t,c.lastEventType="click"}(Date.now());const n=t.target;n&&"function"==typeof n.getBoundingClientRect&&function(t,e,i){const n=e.getBoundingClientRect();if(function(t,e){const i=t.bottom<=0,n=t.top>=e.innerHeight,s=t.right<=0,r=t.left>=e.innerWidth;return i||n||s||r}(n,i))return void a.outOfViewportClicks++;if(n.width>0&&n.height>0){const e=function(t,e,i,n){const s=Math.max(i.left,0),r=Math.max(i.top,0),o=Math.min(i.right,n.innerWidth),a=Math.min(i.bottom,n.innerHeight),c=o-s,u=a-r;if(c<=0||u<=0)return null;const d=t-s,l=e-r,h=Math.max(0,Math.min(1,d/c)),v=Math.max(0,Math.min(1,l/u));return{x:h,y:v}}(t.clientX,t.clientY,n,i);if(null===e)return;a.totalClicksXAccumulated+=e.x,a.totalClicksYAccumulated+=e.y,d.push(e);const s=d.map((t=>t.x)),r=d.map((t=>t.y));a.XClicksStdDev=g(s),a.YClicksStdDev=g(r)}}(t,n,i),f(),e.Ce.sendMessage(o)}),t),e.addEventListener("pointerup",(function(t){a.pointerupCounter++,f()}),t),e.addEventListener("pointermove",(function(t){a.pointermoveCounter++,f()}),t),e.addEventListener("input",(function(t){a.inputCounter++;const e=Date.now();if("click"===c.lastEventType&&c.lastClickTime>0){c.totalInteractionCounter++;Math.abs(e-c.lastClickTime)<500&&c.quickInteractionCounter++}c.lastInputTime=e,c.lastEventType="input",a.inputEventsDataLengthAccumulated+=t.data?t.data.length:0;const i=t.inputType;i in s.INPUT_TYPE_DICT&&(u.add(s.INPUT_TYPE_DICT[i]),f())}),t))}function g(t){if(0===t.length)return 0;const e=t.reduce(((t,e)=>t+e),0)/t.length,i=t.reduce(((t,i)=>t+Math.pow(i-e,2)),0)/t.length;return Math.sqrt(i)}}},7293:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.INPUT_TYPE_DICT=e.REPORT_INTERACTION_COUNTS_TINEOUT_INTERVAL=e.MAX_CH_VALUE_LENGTH=e.MAX_ERROR_STR_LENGTH=e.MB_IN_BYTES=e.BITS_ARRAY_LENGTH=e.RC_VERSION=void 0,e.RC_VERSION="0831",e.BITS_ARRAY_LENGTH=64,e.MB_IN_BYTES=1048576,e.MAX_ERROR_STR_LENGTH=150,e.MAX_CH_VALUE_LENGTH=32,e.REPORT_INTERACTION_COUNTS_TINEOUT_INTERVAL=5e3,e.INPUT_TYPE_DICT={insertParagraph:0,insertText:1,formatBackColor:2,formatJustifyRight:3,deleteContentBackward:4,formatFontName:5,insertFromPaste:6,formatSubscript:7,insertCompositionText:8,formatSuperscript:9,insertOrderedList:10,deleteByCut:11,deleteHardLineBackward:12,deleteEntireSoftLine:13,insertReplacementText:14,formatIndent:15,insertFromDrop:16,insertUnorderedList:17,insertHorizontalRule:18,deleteHardLineForward:19,formatUnderline:20,insertFromYank:21,insertFromPasteAsQuotation:22,historyRedo:23,formatRemove:24,formatBold:25,deleteContentForward:26,deleteSoftLineForward:27,formatItalic:28,insertTranspose:29,formatJustifyLeft:30,formatOutdent:31,insertLineBreak:32,formatSetBlockTextDirection:33,formatJustifyFull:34,formatFontColor:35,formatSetInlineTextDirection:36,deleteByDrag:37,deleteWordBackward:38,deleteSoftLineBackward:39,deleteContent:40,insertLink:41,formatStrikeThrough:42,historyUndo:43,deleteWordForward:44,formatJustifyCenter:45}},9367:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.ResearchIPv6FromCdn=void 0;e.ResearchIPv6FromCdn=(t,e)=>({getId:()=>128,isSupported(){var e;return!!(null===(e=t.researchIPv6FromCdn)||void 0===e?void 0:e.rurl)},execute(){!function(t){const i=t.rurl;e.sendBeacon(i,!0)}(t.researchIPv6FromCdn)}})},7736:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.countValues=e.convertBitValuesObjToArrayString=e.isNoneEmptyString=e.identity=e.parseBoolean=e.parseNumber=void 0,e.parseNumber=function(t){const e=parseFloat(t),i=parseInt(t,10),n=e==i?i:e;return isNaN(n)?null:n},e.parseBoolean=function(t){switch(t.toLowerCase()){case"true":return!0;case"false":return!1;default:return null}},e.identity=function(t){return t},e.isNoneEmptyString=function(t){return"string"==typeof t&&!!t},e.convertBitValuesObjToArrayString=function(t){if(!t)return"";const e=[];for(let i=0;i<t.length;i++)t[i]&&e.push(i);return e.join("_")},e.countValues=function(t){const e=new Map;if(!t)return e;for(const i of t)e.set(i,(e.get(i)||0)+1);return e}},9532:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.TagExtensionsHandler=void 0;const n=i(136),s=i(2062),r=i(2491),o=i(2383),a=i(8250),c=i(8808),u=i(5042),d=i(777),l=i(9367);e.TagExtensionsHandler=(t,e)=>({execute(){const i=(0,n.TagExtensionRegistry)();i.register(s.RealTimeNotifications,"rtn"),i.register(o.AdvertiserViewabilityStandard,"ee"),i.register(a.CustomViewabilityTagExtension,"ee"),i.register(c.FraudBotNotification,"fd"),i.register(d.ResearchCollection,"fd"),i.register(l.ResearchIPv6FromCdn,"fd"),i.register(u.FraudUrlResponseRedirector,"fd");(0,r.TagExtensionOrchestrator)(i,t,e).execute()}})},2062:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.RealTimeNotifications=e.fireEvent=e.resolveNotification=void 0;const n=i(712),s=i(7360),r=i(2874),o=i(8170),a=i(3783);function c({tagObject:t,selectedAdCandidateRef:e,utils:i},n){var s,r,o,a,c,u;const{current:d}=e,l=decodeURIComponent(n.url),h=Object.assign(Object.assign({},t),{"50PCT_IN_VIEW_TIME_MS":null!==(r=null===(s=null==d?void 0:d.getAtLeast50PercentInViewDurationInMs)||void 0===s?void 0:s.call(d))&&void 0!==r?r:"","100PCT_IN_VIEW_TIME_MS":null!==(a=null===(o=null==d?void 0:d.get100PercentInViewDurationInMs)||void 0===o?void 0:o.call(d))&&void 0!==a?a:"",AD_HEIGHT:null!==(c=null==d?void 0:d.adHeight)&&void 0!==c?c:"",AD_WIDTH:null!==(u=null==d?void 0:d.adWidth)&&void 0!==u?u:"",LOAD_TIMESTAMP_UNIX_S:Math.round(i.getScriptLoadedMS()/1e3)});return i.resolveMacros(l,h)}function u(t,e,i,s,r){const u=c({tagObject:t.getTagObject(),selectedAdCandidateRef:i,utils:t.utils},r);if("image"!==r.actionType&&"javascript"!==r.actionType)return void t.Ce.sendError(n.ClientErrorType.TagExtensionExecutionError,new Error("Rtn error: invalid action name"),"",{te_id:e().toString()});const d=o.DiagnosticParams[s];if(d&&a.DiagnosticParamsReporterSingleton.reportDiagnosticParam(d,1),"image"===r.actionType)t.sendBeacon(u,!0);else if("javascript"===r.actionType){const e=t.getTagObject().tagElement.parentElement||document.body;t.addScriptAsync(u,e)}}e.resolveNotification=c,e.fireEvent=u;e.RealTimeNotifications=(t,e)=>{const i={current:null};function o(t,e){const i=new Set(t);return e.toLowerCase().startsWith("groupm")&&i.add("2wD8").add("T4sJ"),Array.from(i)}return e.je.addEventListener(s.DvEvents.adSelected,(({adCandidate:t})=>i.current=t)),{getId:()=>1,isSupported:()=>Array.isArray(t.rtnEvents)&&t.rtnEvents.length>0&&"object"==typeof t.rtnEvents[0],execute(){var a,c,d,l,h;if(t.rtnEvents)for(const v of t.rtnEvents){const{eventName:p}=v;if(h=p,Object.values(r.RTSEventNames).includes(h))for(const n of v.actions){const r=o(null!==(a=n.conditions)&&void 0!==a?a:[],p);if(d=r,l=null!==(c=t.cdc)&&void 0!==c?c:{},!(d.includes("7rQp")&&!(null==l?void 0:l.f7kR)&&!d.includes("L8bC")||(d.includes("f6Zx")||d.includes("G3vR"))&&(null==l?void 0:l.f7kR)&&0===(null==l?void 0:l.z3pQ)||d.includes("L8bC")&&(null==l?void 0:l.f7kR)&&!d.includes("7rQp")||d.includes("6hNp")&&!(null==l?void 0:l["8xJ1"])||d.includes("d9Xc")&&!(null==l?void 0:l["5tG9"])||(d.includes("T4sJ")||d.includes("2wD8"))&&!(null==l?void 0:l.f7kR)||d.includes("V5k2")&&!(null==l?void 0:l.p2Qz)||!(d.includes("f6Zx")||d.includes("G3vR")||d.includes("q1Lz"))&&(null==l?void 0:l.z3pQ)&&(null==l?void 0:l.z3pQ)>0)){if("IABNotMeasuredImpression"===p){const t=e.je.addEventListener(s.DvEvents.unloadData,(()=>{var s;e.je.removeEventListener(t),(null===(s=i.current)||void 0===s?void 0:s.timeMsUntilAdMeasured)>0||u(e,this.getId.bind(this),i,"IABNotMeasuredImpression",n)}))}if("SessionEnd"===p){const t=e.je.addEventListener(s.DvEvents.unloadData,(()=>{e.je.removeEventListener(t),u(e,this.getId.bind(this),i,"SessionEnd",n)}))}e.Ve.subscribe(p,e.getImpressionId(),`RTN_${p}`,u.bind(this,e,this.getId.bind(this),i,p,n)),e.Ce.sendMessage({rtn_exec:p})}}else e.Ce.sendError(n.ClientErrorType.TagExtensionExecutionError,new Error(`Rtn error: ${p} invalid event name`),"",{te_id:this.getId().toString()})}}}}},2491:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.TagExtensionOrchestrator=void 0;const n=i(749),s=i(712),r=i(3091),o=i(194),a=i(7360),c=i(3380),u=i(425),d=i(5501),l=i(7749),h=i(3868);e.TagExtensionOrchestrator=(t,e,i)=>({execute(){d.TagExtensionsExecutionParamsSingleton.reportTagExtensionsExecutionParams("strt",1);const v=t.getTagExtensions(),p=(0,r.Context)(e,o.it,n.A,a.u,a.Jt,u.W,c.Utilities,l.I,h.S),{tagExtensionsInitialized:f,tagExtensionsSupported:m,tagExtensionsActivated:g}=v.reduce((({tagExtensionsInitialized:t,tagExtensionsSupported:e,tagExtensionsActivated:r},[o,a])=>{var c;const u=o(null!==(c=null==i?void 0:i[a])&&void 0!==c?c:{},p);t|=u.getId();try{u.isSupported()&&(e|=u.getId(),u.execute(),r|=u.getId())}catch(t){n.A.sendError(s.ClientErrorType.TagExtensionExecutionError,t,"",{te_id:u.getId().toString()})}return{tagExtensionsInitialized:t,tagExtensionsSupported:e,tagExtensionsActivated:r}}),{tagExtensionsInitialized:0,tagExtensionsSupported:0,tagExtensionsActivated:0});d.TagExtensionsExecutionParamsSingleton.reportTagExtensionsExecutionParams("init",f),d.TagExtensionsExecutionParamsSingleton.reportTagExtensionsExecutionParams("sup",m),d.TagExtensionsExecutionParamsSingleton.reportTagExtensionsExecutionParams("exec",g)}})},5501:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.TagExtensionsExecutionParamsSingleton=e.TagExtensionsExecutionParamsUtils=void 0;const n=i(749);class s{getQueryParamName(t){return`te_${t}`}reportTagExtensionsExecutionParams(t,e){const i=this.getQueryParamName(t);n.A.sendMessage({[i]:e})}}e.TagExtensionsExecutionParamsUtils=s,e.TagExtensionsExecutionParamsSingleton=new s},4053:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalVariablesInjection=void 0;const n=i(2196),s=i(3868),r=i(3380),o=i(7749),a=i(749),c=i(7658),u=i(194),d=i(7429),l=i(712),h=i(425),v=i(9532),p=i(6142),f=i(6987);e.GlobalVariablesInjection=class{isSupported(){return!0}executePhase(t,e){const i=u.it.Qt(),r=new n.DvBackwardCompatibilityClass;i.dvObjType||(i.dvObjType=r.dvObjType),i.resolveMacros||(i.resolveMacros=r.resolveMacros),i.registerEventCall||(i.registerEventCall=r.registerEventCall),i.createEventCallUrl||(i.createEventCallUrl=r.createEventCallUrl),i.getWorkingWindow||(i.getWorkingWindow=r.getWorkingWindow),i.getMraid||(i.getMraid=r.getMraid),i.messages||(i.messages=r.messages),i.domUtilities||(i.domUtilities=r.domUtilities),i.pubSub||(i.pubSub=r.pubSub),i.CommonData||(i.CommonData=r.CommonData),i.tags||(i.tags=r.tags),i.sendBeacon=h.W.sendBeacon.bind(h.W),"undefined"!=typeof window||e||s.S.setGlobalVariable("window",dvWindow);const o=s.S.workingWindow(),a=s.S.currentWindow();o._dv_win=o,a._dv_win=o;const c=d.EventIdGeneratorAdaptor;o[t.callbackName]=(e,i,n,s,r={})=>{this.generateCallback(t,e,i,n,s,c,r)}}toString(){return"GlobalInjection"}extractHostname(t){const e=t.indexOf("//")+2,i=t.indexOf("/",e);return t.substring(e,i)}generateCallback(t,e,i,n,d,h,m){try{if(!s.S.isDomlessEnvironment()){const t=s.S.currentDocument();u.it.setVisitReadyState(t.readyState)}e.tags[n]={},e.tags[n].type="monitoring",e.tags[n].beginVisitCallbackTS=r.Utilities.getCurrentTime(),e.tags[n].eventIdGenerator=h,e.tags[n].set=t=>{r.Utilities.extend(t,e.tags[n])},e.tags[n].getTimeDiff=()=>r.Utilities.getCurrentTime()-u.it.Qt().tags[n].beginVisitCallbackTS,e.tags[n].tagElement=o.I.getDVScript(),e.tags[n].ServerPublicDns=this.extractHostname(o.I.getServerPrefix()),o.I.setServerPrefix(`https://${d}/`),e.tags[n].ServerPublicDns=d,(0,f.detectImpressionIdMisalignment)(n),u.it.setImpressionId(n),s.S.setGlobalVariable("$uid",n);{const t=u.it.getFrameId(s.S.currentWindow());s.S.setGlobalVariable("$frmId",t)}const l=o.I.getCaseSensitiveParams();e.tags[n].set(l);const g=r.Utilities.mapData(t,c.TPSDataMapping);r.Utilities.extend(t.additionalParams,g),e.tags[n].set(g),e.tags[n].uid=n,e.tags[n].dv_protocol="https:";const b=s.S.monitorScriptsPerformance(i,{visit:["duration"]});b.visit_duration&&a.A.sendMessage({vdur:b.visit_duration}),p.ServerContext.setData(m);(0,v.TagExtensionsHandler)(n,m).execute()}catch(t){a.A.sendError(l.ClientErrorType.TagCommunicationError,t)}}}},7741:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.MeasureGdpr=void 0;const n=i(425),s=i(3868),r=i(749);e.MeasureGdpr=class{constructor(){this.cmpCallbacks={},this.getConsentDataCallback=(t,e)=>{try{const t=s.S.currentWindow(),i=s.S.workingDocument();t.performance.mark("dv_gdpr_end"),t.performance.measure("dv_gdpr","dv_gdpr_start","dv_gdpr_end");const n=t.performance.getEntriesByName("dv_gdpr");if(n.length>0){const[t]=n;isNaN(t.duration)||r.A.sendMessage({dvp_gdDur:Math.round(t.duration),dvp_gdDome:"complete"==i.readyState?"1":"0",dvp_gdDoms:this.gdprIsDocumentCompleted,dvp_gdSucc:e?"1":"0"},!0)}}catch(t){this.sendGdprError("9")}},this.handleCmpReturn=t=>{try{const e="string"==typeof t.data?JSON.parse(t.data):t.data;if(e.__cmpReturn){const t=e.__cmpReturn,i=this.cmpCallbacks[t.callId];i?(i(t.returnValue,t.success),delete this.cmpCallbacks[t.callId]):this.sendGdprError("6")}}catch(t){}}}isSupported(){return!s.S.isDomlessEnvironment()&&s.S.isPerformanceAPISupported()}executePhase(t){this.gdprIsDocumentCompleted="complete"==s.S.workingDocument().readyState?"1":"0",this.gdprPerformanceMark();const e=this.locateCmpApi();if(e&&"1"!=e)this.sendGdprError(e);else if(this.cmpFrame)if(this.cmpIsFunctionCall)this.invokeCmpCommandByFunction("getConsentData",null,this.getConsentDataCallback);else{if(!s.S.isPostMessageSupported())return void this.sendGdprError("2");this.addEventListenerForCmpResponses(),this.invokeCmpCommandByPostMessage("getConsentData",null,this.getConsentDataCallback)}}toString(){return"MesasureGdpr"}locateCmpApi(){let t,e=s.S.currentWindow();for(;!this.cmpFrame;){try{this.cmpIsFunctionCall="function"==typeof e.__cmp,(this.cmpIsFunctionCall||e.frames.__cmpLocator)&&(this.cmpFrame=e,t="1")}catch(e){t="3"}try{if(s.S.isTop(e))break;e=s.S.getWindowParent(e,!0)}catch(e){t="8";break}}return t}addEventListenerForCmpResponses(){n.W.addEventListener("message",this.handleCmpReturn,s.S.currentWindow())}invokeCmpCommandByFunction(t,e,i){try{this.cmpFrame.__cmp(t,e,i)}catch(t){this.sendGdprError("4")}}invokeCmpCommandByPostMessage(t,e,i){const n=Math.random().toString(),s={__cmpCall:{command:t,parameter:e,callId:n}};this.cmpCallbacks[n]=i;try{this.cmpFrame.postMessage(s,"*")}catch(t){this.sendGdprError("5")}}gdprPerformanceMark(){s.S.currentWindow().performance.mark("dv_gdpr_start")}sendGdprError(t){r.A.sendMessage({dvp_gdpr_Error:t},!0)}}},8456:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.MeasureGdprV2=void 0;const n=i(425),s=i(3868),r=i(749);e.MeasureGdprV2=class{constructor(){this.DV_VENDOR_ID=126,this.tcfCallbacks={},this.getConsentDataCallback=(t,e)=>{try{const i=s.S.currentWindow(),n=s.S.workingDocument();i.performance.mark("dv_gdpr_v2_end"),i.performance.measure("dv_gdpr_v2","dv_gdpr_v2_start","dv_gdpr_v2_end");const[o]=i.performance.getEntriesByName("dv_gdpr_v2");(null==o?void 0:o.duration)&&r.A.sendMessage({dvp_gdv2_Func:this.tcfapiIsFunctionCall?"1":"0",dvp_gdv2_Applies:void 0!==(null==t?void 0:t.gdprApplies)?t.gdprApplies?"1":"0":"-1",dvp_gdv2_Succ:e?"1":"0",dvp_gdv2_Dur:Math.round(o.duration),dvp_gdv2_Doms:this.gdprIsDocumentCompletedStart,dvp_gdv2_Dome:"complete"==n.readyState?"1":"0"},!0)}catch(t){this.sendGdprV2Error("9")}},this.handleTcfMessage=t=>{try{const e=("string"==typeof t.data?JSON.parse(t.data):t.data).__tcfapiReturn;if(e){const t=this.tcfCallbacks[e.callId];t?(t(e.returnValue,e.success),delete this.tcfCallbacks[e.callId]):this.sendGdprV2Error("6")}}catch(t){}}}isSupported(){return!s.S.isDomlessEnvironment()&&s.S.isPerformanceAPISupported()}executePhase(t){this.gdprIsDocumentCompletedStart="complete"==s.S.workingDocument().readyState?"1":"0",this.gdprV2PerformanceMark();const e=this.locateTcfFrame();if(e&&"1"!=e)this.sendGdprV2Error(e);else if(this.tcfFrame)if(this.tcfapiIsFunctionCall)this.invokeTcfCommandByFunction("addEventListener",[this.DV_VENDOR_ID],this.getConsentDataCallback);else{if(!s.S.isPostMessageSupported())return void this.sendGdprV2Error("2");this.addEventListenerForTcfResponses(),this.invokeTcfCommandByPostMessage("addEventListener",[this.DV_VENDOR_ID],this.getConsentDataCallback)}}toString(){return"MesasureGdprV2"}locateTcfFrame(){let t,e=s.S.currentWindow();for(;!this.tcfFrame;){try{this.tcfapiIsFunctionCall="function"==typeof e.__tcfapi,(this.tcfapiIsFunctionCall||e.frames.__tcfapiLocator)&&(this.tcfFrame=e,t="1")}catch(e){t="3"}try{if(s.S.isTop(e))break;e=s.S.getWindowParent(e,!0)}catch(e){t="8";break}}return t}addEventListenerForTcfResponses(){n.W.addEventListener("message",this.handleTcfMessage,s.S.currentWindow())}invokeTcfCommandByFunction(t,e,i){try{this.tcfFrame.__tcfapi(t,2,i,e)}catch(t){this.sendGdprV2Error("4")}}invokeTcfCommandByPostMessage(t,e,i){const n=Math.random().toString(),s={__tcfapiCall:{command:t,parameter:e,version:2,callId:n}};this.tcfCallbacks[n]=i;try{this.tcfFrame.postMessage(s,"*")}catch(t){this.sendGdprV2Error("5")}}gdprV2PerformanceMark(){s.S.currentWindow().performance.mark("dv_gdpr_v2_start")}sendGdprV2Error(t){r.A.sendMessage({dvp_gdv2_Error:t},!0)}}},5817:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ScriptsInjection=void 0;const n=i(3380),s=i(7658),r=i(425),o=i(3868),a=i(749),c=i(7749),u=i(712),d=i(194),l=i(3322),h=i(5244),v=i(8170),p=i(7360),f=i(495);e.ScriptsInjection=class{constructor(){this.didUnload=!1,this.onLoad=()=>{n.Utilities.setLoadVisitTime(),d.it.getImpressionId(null)||a.A.sendError(u.ClientErrorType.InvalidVisitResponseError)},p.u.addEventListener(p.DvEvents.globalUnloadData,(()=>{this.didUnload=!0}))}isSupported(){return!0}addPerformanceMetrics(t){const e=d.it.getTagLoadedMS(),i=n.Utilities.getScriptLoadedMS(),s=n.Utilities.getCurrentTime();t.timeToMeasureMs=i-e,t.timeToFirstReportMs||(t.timeToFirstReportMs=s-i)}addScriptDynamicFlags(t){const e=l.ScriptDynamicFlags.getInstance().getFlags();e&&e>0&&(t.scriptDynamicFlags=e)}getReleventServerPrefix(t){var e;const i=null===(e=c.I.getParamValue("vidreg"))||void 0===e?void 0:e.toLowerCase();return i&&{ue:!0,uw:!0,eu:!0,as:!0}[i]?`https://tpsc-video-${i}.doubleverify.com/`:c.I.getServerPrefix()}buildTpsQueryString(t){let e=n.Utilities.getQueryString(t,t.additionalParams,t.dvpParamsFlags,s.TPSDataMapping);const i=["gdpr","gdpr_consent"].filter((e=>!t[e]));if(i.length){e=`${i.map((t=>`${t}=`)).join("&")}&${e}`}return e+=`&${s.TPSDataMapping.checksum}=${n.Utilities.generateAdler32Hash(e)}`,e}executePhase(t,e){if(t.abortVisitRequest)return;const i=Math.floor(Date.now()*Math.random());t.additionalParams||(t.additionalParams={}),t.additionalParams.dvp_tuid=i,t.flavor="1";const s=this.getReleventServerPrefix(t);t.errorURL=s+c.I.getErrorPath(),this.addScriptDynamicFlags(t),this.addPerformanceMetrics(t);const a={experimentGroup:this.getVisitJsonExperimentGroup(e),adCallDup:n.Utilities.generateUUID(),didUnload:this.didUnload};this.addVisitJsonDiagnostics(t,a);const u=this.buildTpsQueryString(t),l=`${s}${c.I.getInitJsPath()}?${u}`,v=`${s}${c.I.getInitJsonPath()}?${u}`,p=o.S.currentDocument(),m=o.S.getCurrentScript()||p.body,{cmp:g,ctx:b,sid:w,plc:_}=t,y={tuid:i,cmp:g,ctx:b,sid:w,plc:_,vurll:l.length,protocol:d.it.getProtocol()},S=this.errorFunction.bind(this,y);let M="TPSCall";d.it.isRestrictedAccess()&&(M+=`_${d.it.getTagUniqueKey()}`),d.it.setVisitInjectedMS(n.Utilities.getCurrentTime()),e!==h.VisitJsonFlowFeatureFlag.Disabled?(h.VisitJsonFlow.execute(v,t).then(this.onLoad.bind(this)).catch((t=>{this.handleVisitJsonError(t,v,a)})),(0,f.logDvSignal)(v)):(r.W.addScriptAsync(l,m,M,S,this.onLoad.bind(this)),(0,f.logDvSignal)(l))}addVisitJsonDiagnostics(t,e){if(e.experimentGroup){const i=(e,i)=>t.additionalParams[(0,v.getDiagnosticQueryParamName)(e)]=i;i(v.DiagnosticParams.visitJsonExperimentGroup,e.experimentGroup),i(v.DiagnosticParams.visitJsonExperimentAdCallDup,e.adCallDup),i(v.DiagnosticParams.isOmidInjectionIdExtractable,d.it.getOmidInjectionId()?"1":"0")}}getVisitJsonExperimentGroup(t){switch(t){case h.VisitJsonFlowFeatureFlag.EnabledByDomless:return"2";case h.VisitJsonFlowFeatureFlag.EnabledByExperiment:return"1";default:return null}}handleVisitJsonError(t,e,i){const s={},r=(t,e)=>s[(0,v.getDiagnosticQueryParamName)(t)]=e;r(v.DiagnosticParams.visitJsonErrorPixel,"1"),i.experimentGroup&&(r(v.DiagnosticParams.visitJsonExperimentGroup,i.experimentGroup),r(v.DiagnosticParams.visitJsonExperimentAdCallDup,i.adCallDup),r(v.DiagnosticParams.visitJsonExperimentUrl,encodeURIComponent(e)),r(v.DiagnosticParams.visitJsonUnloadIndicator,i.didUnload?"1":"0"),r(v.DiagnosticParams.isOmidInjectionIdExtractable,d.it.getOmidInjectionId()?"1":"0"));const o=n.Utilities.isExceedingMaxUrlLength(e.length)?u.ClientErrorType.VisitRequestError:u.ClientErrorType.VisitResponseError;a.A.sendError(o,t,"",s)}toString(){return"ScriptsInjection"}errorFunction(t){const{vurll:e,protocol:i}=t,s=n.Utilities.isExceedingMaxUrlLength(e)?u.ClientErrorType.VisitRequestError:u.ClientErrorType.VisitResponseError;a.A.sendError(s,null,"",{dvp_vurll:e,dvp_protocol:i})}}},1822:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.SupportedIntegrationsCollector=void 0;const n=i(1080);e.SupportedIntegrationsCollector=class{isSupported(){return!0}collectData(t){const e=(0,n.getSupportedIntegrationsBitwise)();t.supportedIntegrations=e,0!=e&&(t.additionalParams.dvp_mib=e)}toString(){return"SupportedIntegrations"}}},9688:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserCollector=void 0;const n=i(3946),s=i(3868);e.BrowserCollector=class{isSupported(){return!s.S.isDomlessEnvironment()}collectData(t){const e=n.BrowserDetector.getBrowserId();null!=e&&(t.browserDetectionSource=1),t.browserId=e,t.browserVersion=n.BrowserDetector.getBrowserVersion(),t.browserIdUserAgent=n.BrowserDetector.getBrowserIdUserAgent()}toString(){return"Browser"}}},6892:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.DomScriptCollector=void 0;const n=i(3868),s=i(7749);e.DomScriptCollector=class{isSupported(){return!n.S.isDomlessEnvironment()}collectData(t){this.isScriptInHeadPosition()&&(t.isScriptInHeadLocation=1)}toString(){return"DomScript"}isScriptInHeadPosition(){var t;const e=s.I.getDVScript();return"HEAD"==(null===(t=null==e?void 0:e.parentElement)||void 0===t?void 0:t.tagName)}}},8010:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.DvParamsCollector=void 0;const n=i(7749),s=i(3380),r=i(194);e.DvParamsCollector=class{constructor(){this.tpsParams=["ctx","cmp","ipos","sid","plc","adid","crt","btreg","btadsrv","adsrv","advid","num","pid","crtname","unit","chnl","uid","scusrid","tagtype","sr","dt","dup","app","dvvidver","turl","icall","dv_callback","useragent","xff","timecheck","seltag","sadv","ord","litm","scrt","invs","splc","adu","spos","c1","c2","c3","c4","c5","c6","c7","c8","c9","c10","c11","c12","c13","c14","c15","native","gmnpo","isdvvid","msrapi","bsimpid","prr","iframe","gdpr","gdpr_consent","tvcp","vssd","apifw","vstvr","auprice","ppid","audeal","auevent","auadv","aucmp","aucrtv","auorder","ausite","auplc","auxch","audvc","aulitem","auadid","pltfrm","aufilter1","aufilter2","autt","auip","aubndl","jsver"],this.aspParams=["auctionid","vermemid","source","buymemid","anadvid","ioid","cpgid","cpid","sellerid","pubid","advcode","iocode","cpgcode","cpcode","pubcode","prcpaid","auip","auua"]}isSupported(){return!0}overrideMediaPlanIdentifiersForProgrammaticAnalytics(t){t.ctx="3397726",t.cmp="DV1372413",t.plc="falcon",t.sid="paonlytag"}collectData(t){const e=r.it.getDvtpScriptVersion();t.dvtpScriptVersion=e,t.collectDataStartTime=s.Utilities.getCurrentTime();const i=n.I.getCaseSensitiveParams();if(s.Utilities.isEmpty(i))return;const o=n.I.getLowerCaseParams();this.tpsParams.forEach((e=>{!s.Utilities.isNullOrEmpty(o[e])&&s.Utilities.isNullOrEmpty(t[e])&&(t[e]=o[e])}));n.I.getIsPaOnlyTag()&&this.overrideMediaPlanIdentifiersForProgrammaticAnalytics(t);this.aspParams.forEach((e=>{s.Utilities.isNullOrEmpty(i[e])||(t[e]=i[e],t.additionalParams["dvp_"+e]=i[e])}));const a=[...this.tpsParams,...this.aspParams];Object.keys(i).filter((t=>!s.Utilities.isNullOrEmpty(i[t])&&!a.includes(t))).forEach((e=>{let n=i[e];s.Utilities.startsWith(e,"dvpx_",!0)&&(n=encodeURIComponent(n)),t.additionalParams[e]=n}))}toString(){return"DvParams"}}},992:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.InjectionDetectionCodeCollector=void 0;const n=i(3868);e.InjectionDetectionCodeCollector=class{constructor(){this.results=[]}isSupported(){return!n.S.isDomlessEnvironment()}collectData(t){try{this.ancestorsInjectionDetection(),t.idcResults=this.results.join(",")}catch(e){t.idcResults="-999",t.idcError=e.message||"unknown"}t.idcVersion=28}toString(){return"InjectionDetectionCodeCollector"}ancestorsInjectionDetection(){let t=n.S.workingWindow();for(let e=0;e<10&&(this.detectInjections(t),!n.S.isTop(t))&&(t=n.S.getWindowParent(t),t);e++);}detectInjections(t){var e,i,n,s;this.addInjector(t,null!=t.AZSD,9),this.addInjector(t,t.location.hostname!=t.encodeURIComponent(t.location.hostname),10),this.addInjector(t,null!=t.cascadeWindowInfo,11),this.addInjector(t,null!=t._rvz,32),this.addInjector(t,null!=t.FO_DOMAIN,34),this.addInjector(t,null!=t.va_subid,36),this.addInjector(t,null===(e=t._GPL)||void 0===e?void 0:e.baseCDN,40),this.addInjector(t,this.evaluateProperty(t,"__twb__")&&this.evaluateProperty(t,"__twb_cb_"),43),this.addInjector(t,null!=t.landingUrl&&null!=t.seList&&null!=t.parkingPPCTitleElements&&null!=t.allocation,45),this.addInjector(t,this.evaluateProperty(t,"_rvz",(function(t){return null!=t.publisher_subid})),46),this.addInjector(t,null!=t.cacildsFunc&&null!=t.n_storesFromFs,47),this.addInjector(t,null===(i=t._pcg)||void 0===i?void 0:i.GN_UniqueId,54),this.addInjector(t,this.evaluateProperty(t,"__ad_rns_")&&this.evaluateProperty(t,"_$_"),64),this.addInjector(t,null!=t.APP_LABEL_NAME_FULL_UC,71),this.addInjector(t,null!=t._priam_adblock,81),this.addInjector(t,t.supp_ads_host&&t.supp_ads_host_overridden,82),this.addInjector(t,null===(n=t.uti_xdmsg_manager)||void 0===n?void 0:n.cb,87),this.addInjector(t,t.LogBundleData&&t.addIframe,91),this.addInjector(t,t.xAdsXMLHelperId||t.xYKAffSubIdTag,95),this.addInjector(t,null===(s=t.__pmetag)||void 0===s?void 0:s.uid,98),this.addInjector(t,t.CustomWLAdServer&&/(n\d{1,4}adserv)|(1ads|cccpmo|epommarket|epmads|adshost1)/.test(t.supp_ads_host_overridden),100)}evaluateProperty(t,e,i){for(const n in t)if(n.includes(e)&&(!i||i(t[n])))return!0;return!1}addInjector(t,e,i){e&&!this.results.includes(i)&&this.results.push((n.S.isTop(t)?-1:1)*i)}}},6800:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.AttributeCollector=void 0;const n=i(3868);e.AttributeCollector=class{isSupported(){return!n.S.isDomlessEnvironment()}collectData(t){var e,i,s,r;try{if(128!=(128&n.S.getScenarioType())){const o=n.S.getTopAccessibleWindow(),a=n.S.workingDocument(o);t.widgetCount=(o.FB?1:0)+(o.twttr?2:0)+(o.outbrain?4:0)+(o._taboola?8:0);try{a.cookie&&(t.cookieLength=a.cookie.length)}catch(t){}(null===(i=null===(e=o.performance)||void 0===e?void 0:e.timing)||void 0===i?void 0:i.domainLookupStart)>0&&(null===(r=null===(s=o.performance)||void 0===s?void 0:s.timing)||void 0===r?void 0:r.domainLookupEnd)>0&&(t.domainLookupTime=o.performance.timing.domainLookupEnd-o.performance.timing.domainLookupStart),a.querySelectorAll&&(t.documentElementCount=a.querySelectorAll("*").length)}const o=n.S.workingWindow();t.iframeCount=o.top.length,o.history&&(t.historyLength=o.history.length)}catch(t){}}toString(){return"AttributeCollector"}}},8213:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserFeaturesCollector=void 0;const n=i(3868);e.BrowserFeaturesCollector=class{constructor(){this.featureBits=0}enableBit(t){t<32&&(this.featureBits=(this.featureBits|1<<t)>>>0)}isSupported(){return!n.S.isDomlessEnvironment()}collectData(t){t.browserFeatures=this.getBrowserFeatures()}toString(){return"BrowserFeaturesCollector"}getBrowserFeatures(){try{return void 0!==n.S.workingWindow().NavigatorUAData&&this.enableBit(5),void 0!==n.S.workingWindow().chrome&&this.enableBit(6),this.featureBits}catch(t){return 0}}}},370:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserSignatureCollector=void 0;const n=i(3868);e.BrowserSignatureCollector=class{constructor(){this.familyBits=0,this.sigBits=0,this.Pe=[120,104,119,110,117,121,96,120,119,104,47,66,39,117,113,102,126,106,119,52,117,113,102,126,106,119,51,111,120,68,117,66,39,98],this.ke=[120,104,119,110,117,121,96,110,105,66,39,102,115,110,123,110,106,124,79,88,39,98],this.Ne=[51,100,100,104,106,105,102,121,116,100,119,116,116,121,100,104,116,115,121,102,110,115,106,119]}isSupported(){return!n.S.isDomlessEnvironment()}deobStr(t){let e="";for(const i of t)e+=String.fromCharCode(i-5);return e}collectData(t){const e=this.getBrowserSignature();e&&(t.browserSignatureFamilyBits=e.familyBits,t.browserSignatureBits=e.sigBits)}toString(){return"BrowserSignatureCollector"}enableBit(t,e,i){i&&(this.familyBits|=Math.pow(2,t),this.sigBits|=Math.pow(2,e))}Le(t,e,i,s){if(!t||!e)return;const r=n.S.workingDocument(t).querySelectorAll(e);r&&r.length>0&&this.enableBit(i,s,!0)}Fe(){let t=0,e=n.S.currentWindow();for(;t<16&&(this.Le(e,this.deobStr(this.Ne),16,3),this.Le(e,this.deobStr(this.Pe),14,1),this.Le(e,this.deobStr(this.ke),15,2),!n.S.isTop(e));){e=n.S.getWindowParent(e,!0),t++}}getBrowserSignature(){try{const t=n.S.getTopAccessibleWindow();this.enableBit(17,4,!!t.jtjb)}catch(t){}try{this.Fe()}catch(t){}return this.familyBits>0?{familyBits:this.familyBits,sigBits:this.sigBits}:null}}},4115:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.HardwareFeaturesCollector=void 0;const n=i(3868);e.HardwareFeaturesCollector=class{isSupported(){return!0}collectData(t){t.numberOfCores=n.S.getNumberOfCores(),this.getTouchSupport()&&(t.hasTouchPad=1),t.navigatorPlatform=this.getPlatform()}toString(){return"HardwareDataCollector"}getTouchSupport(){var t,e;return 5===(null===(e=null===(t=null===n.S||void 0===n.S?void 0:n.S.workingWindow())||void 0===t?void 0:t.navigator)||void 0===e?void 0:e.maxTouchPoints)}getPlatform(){var t,e;return null===(e=null===(t=null===n.S||void 0===n.S?void 0:n.S.workingWindow())||void 0===t?void 0:t.navigator)||void 0===e?void 0:e.platform}}},4194:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.HijackedDeviceSignatureCollector=void 0;const n=i(3868);e.HijackedDeviceSignatureCollector=class{isSupported(){return!n.S.isDomlessEnvironment()}collectData(t){const e=this.getSignature();e&&(t.hijackedDeviceSignatureBits=e)}toString(){return"HijackedDeviceSignatureCollector"}getSignature(){let t=0;try{const e=function(e,i){i&&(t+=Math.pow(2,e))},i=n.S.getTopAccessibleWindow(),s=n.S.workingDocument(i);if(e(6,n.S.isTop(i)&&""==s.title&&null==s.querySelector("meta[charset]")&&null!=s.querySelector('div[style*="background-image: url("]')&&(null!=s.querySelector('script[src*="j.pubcdn.net"]')||null!=s.querySelector('span[class="ad-close"]'))),t>0)return t}catch(t){}return null}}},6783:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.IOSMapleCollector=void 0;const n=i(3868);e.IOSMapleCollector=class{constructor(){this.maxIterations=10}isSupported(){return!n.S.isDomlessEnvironment()}collectData(t){const e=n.S.isIOS(),i=n.S.objectLookup(n.S.workingWindow(),"maple",this.maxIterations);e&&t.dvpParamsFlags.push(0),i&&t.dvpParamsFlags.push(1)}toString(){return"IOSMaple"}}},8453:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.MraidCollector=void 0;const n=i(6681);e.MraidCollector=class{isSupported(){return n.MraidWrapper.isSupported()}collectData(t){t.isMraid=1}toString(){return"MraidCollector"}}},6254:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.OmidContextCollector=void 0;const n=i(870),s=i(3322);e.OmidContextCollector=class{isSupported(t){return n.omidAdapter.isSupported()}collectData(t){var e;const i=n.omidAdapter.getOmidContext();i&&(t.omidEnvironment=i.environment,t.omidAdSessionType=i.adSessionType,t.omidAppId=null===(e=i.app)||void 0===e?void 0:e.appId,this.extractOmidContentUrl(t));const r=n.omidAdapter.getSessionData();if(r){const e=(r.data||{}).context||{};e.accessMode&&(t.omidAccessMode=n.omidAdapter.getOmidAccessModeNumber(e.accessMode)),e.underEvaluation&&s.ScriptDynamicFlags.getInstance().turnOn(1)}}extractOmidContentUrl(t){var e;try{const i=null===(e=n.omidAdapter.getSessionData())||void 0===e?void 0:e.data;if(i){const e=500,{contentUrl:n}=i;if(n){const i=n.substring(0,e);t.omidContentUrl=encodeURIComponent(i)}}}catch(t){}}toString(){return"OmidContext"}}},8733:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ParamUrlExtractionMethodCollector=void 0;const n=i(7749),s=i(194),r=i(870),o=i(3868),a=i(3380),c=i(8170);e.ParamUrlExtractionMethodCollector=class{isSupported(){return!0}collectData(t){const e=n.I.getParamUrlExtractionMethod();e&&(t.additionalParams.dvp_rcp=e),this.appendUrlHashTagLogger(t),this.appendScriptElementExtractionMethod(t),this.appendIsCurrentScriptNotSupported(t),this.appendIsOmid(t),this.appendHasTagUniqueKey(t),this.appendTagCounter(t),this.appendSharedUniqueKey(t),this.appendTagUniqueKey(t),this.appendInitialScriptUrl(t)}appendInitialScriptUrl(t){s.it.getIsWhitelistedDomain(),0}appendUrlHashTagLogger(t){let e=0;const i=n.I.getDVScriptUrl();if(!a.Utilities.isNullOrEmpty(i)){const n=/[?]([^&#?]*)=([^&#?]*)/gi;/[#]([^&#?]*)=([^&#?]*)/gi.test(i)&&(e|=1),n.test(i)&&(e|=2),e&&(t.additionalParams.dvp_htec=e)}}appendTagUniqueKey(t){const e=s.it.getTagUniqueKey();if(e){t.additionalParams.dvp_tukv=e;const i=(0,c.getDiagnosticQueryParamName)(c.DiagnosticParams.tagUniqueKey);t.additionalParams[i]=e}}appendSharedUniqueKey(t){const e=s.it.getSharedUniqueKey();if(e){t.additionalParams.dvp_sukv=e;const i=(0,c.getDiagnosticQueryParamName)(c.DiagnosticParams.sharedTagUniqueKey);t.additionalParams[i]=e}}appendScriptElementExtractionMethod(t){const e=n.I.getScriptElementExtractionMethod();e&&(t.additionalParams.dvp_seem=e)}appendIsCurrentScriptNotSupported(t){!o.S.getCurrentScript()&&(t.additionalParams.dvp_nscs=1)}appendIsOmid(t){var e;try{let i=0;const n=o.S.workingWindow();r.omidAdapter.isSupported()&&(i=1),s.it.isOmidForWeb()&&(i|=8),s.it.isOmid3p()&&(i|=16);try{if(!s.it.isRestrictedAccess()&&!o.S.isDomlessEnvironment()){const t=o.S.getWindowParent(n),s=o.S.getWindowParent(t);void 0===n.omidVerificationProperties&&void 0===t.omidVerificationProperties&&void 0===n.omid&&void 0===t.omid&&void 0===s.omid||(i|=2);const r=null!==(e=n.omidVerificationProperties)&&void 0!==e?e:t.omidVerificationProperties;a.Utilities.isNullOrEmpty(r)||"web"===(null==r?void 0:r.injectionSource)&&(i|=4)}}catch(t){}i>0&&(t.additionalParams.dvp_iomd=i)}catch(t){}}appendHasTagUniqueKey(t){s.it.getTagUniqueKey()&&(t.additionalParams.dvp_tuk=1)}appendTagCounter(t){const e=s.it.getTagCounter();if(e>1){const i=(0,c.getDiagnosticQueryParamName)(c.DiagnosticParams.tagCounter);t.additionalParams[i]=e}}toString(){return"ParamUrlExtractionMethod"}}},3219:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.PreRenderCollector=void 0;const n=i(7026);e.PreRenderCollector=class{isSupported(){return!0}collectData(t){n.RenderLogicFactory.getRenderLogic().isAdRendered()||(t.isPreRender=1)}toString(){return"PreRender"}}},4932:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ReferrerCollector=void 0;const n=i(3868),s=i(3380),r=i(7658);e.ReferrerCollector=class{isSupported(t){const e=(n.S.getUserAgent()||"").toLowerCase();return!n.S.isDomlessEnvironment()&&(e.includes("webkit")||e.includes("chrome"))}collectData(t){const e=encodeURIComponent(n.S.workingWindow().location.toString());s.Utilities.isQueryLengthBelowBrowserLimit(t,t.additionalParams,t.dvpParamsFlags,r.TPSDataMapping,e)&&(t.referrerUrl=e)}toString(){return"Referrer"}}},2221:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ScriptsPerformanceCollector=void 0;const n=i(3868);e.ScriptsPerformanceCollector=class{isSupported(){return!n.S.isDomlessEnvironment()}collectData(t){const e=n.S.monitorScriptsPerformance(n.S.workingWindow(),{dvbm:["fetchStart","duration"]});t.dvtp_src_fetchStart=e.dvbm_fetchStart,t.dvtp_src_duration=e.dvbm_duration}toString(){return"ScriptsPerformance"}}},8357:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.SslCollector=void 0;const n=i(3868),s=i(7749),r=i(194);e.SslCollector=class{isSupported(){return!0}collectData(t){const e=s.I.getDVScriptUrl(),{location:i}=n.S.workingWindow();e&&i&&/^http:/.exec(e)&&/^https/.exec(i.toString())&&(t.diffSsl=1),t.isSsl=r.it.getProtocol()}toString(){return"Ssl"}}},6574:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.StrCollector=void 0;const n=i(3868),s=i(5903),r=i(3380),o=i(7658),a=i(6806),c=i(712),u=i(319);e.StrCollector=class{constructor(){this.parentIsPermitted=!1,this.ancestorChain="",this.additionalUrl="",this.htmlUrl="",this.canonicalUrl="",this.referrerOffset=0,this.insertEparam=function(t,e){const i=t+"="+encodeURIComponent(e);this.eparams=this.eparams?this.eparams+"&"+i:i}}isSupported(){return!n.S.isDomlessEnvironment()}getSTR(t){return this.workingWindow=n.S.workingWindow(),this.findHighestAvailableWindow(),this.processDVurl(),t.referrerUrlExtractedFromSafeFrame=this.referrerUrlExtractedFromSafeFrame,t.safeFrameExists=this.safeFrameExists,this.extractAncestorChain(),this.calculateWindowDepth(),this.updateWindowDepth(),this.extractUrlFromHtml(t),this.htmlUrl||this.findAdditionalURLs(),this.setEparams(t),{ep1:encodeURIComponent(this.dvURL),ep2:encodeURIComponent(this.ancestorChain),ep3:encodeURIComponent(this.additionalUrl),ep4:encodeURIComponent(this.htmlUrl),ep5:encodeURIComponent(this.canonicalUrl)}}collectData(t){this.getSTR(t);const e=encodeURIComponent(this.eparams);r.Utilities.isQueryLengthBelowBrowserLimit(t,t.additionalParams,t.dvpParamsFlags,o.TPSDataMapping,e)?t.eparams=e:t.dvpParamsFlags.push(3),t.eparamsLength=null==e?void 0:e.length,t.referrerDepth=this.referrerDepth,t.windowDepth=this.windowDepth,t.additionalUrlDepth=this.htmlUrl?-1:this.additionalUrlDepth}toString(){return"Str"}findHighestAvailableWindow(){try{this.highestAvailableWindow=this.workingWindow;for(let t=0;t<=10;t++){const e=n.S.getWindowParent(this.highestAvailableWindow,!0);if(!e||this.highestAvailableWindow==e){0==t&&(this.parentIsPermitted=!0);break}{const t=e.location.toString();if(!(t.length>0)){this.parentIsPermitted=!1;break}this.highestAvailableWindow=e,this.referrerOffset++,this.parentIsPermitted=!0}}}catch(t){this.parentIsPermitted=!1}}processDVurl(){var t;const e=n.S.workingDocument(this.highestAvailableWindow),{referrer:i}=e,s=null===(t=this.workingWindow.location)||void 0===t?void 0:t.ancestorOrigins,r=null==s?void 0:s[s.length-1];if(a.SafeFrameObject.isSafeFrameExists(this.highestAvailableWindow)&&(this.safeFrameExists=1),0==i.length)this.dvURL=this.highestAvailableWindow.location.toString();else if(this.parentIsPermitted)this.dvURL=this.highestAvailableWindow.location.toString();else{this.dvURL=i;const t=a.SafeFrameObject.getUrlReferrer(this.highestAvailableWindow);!t||s&&0!=t.indexOf(r)||(this.dvURL=t,this.referrerUrlExtractedFromSafeFrame="sf"),this.dvMinus=!0}}extractAncestorChain(){const t=this.getAncestorOrigins(),{location:e}=this.workingWindow;t&&t.length>0&&e&&(t.unshift(e.protocol+"//"+e.hostname),this.ancestorChain=t.reverse().join(","))}getAncestorOrigins(){return r.Utilities.DOMStringListToArray(this.workingWindow[s.Encoding.ROT47("=@42E:@?")][s.Encoding.ROT47("2?46DE@C~C:8:?D")])}calculateWindowDepth(){let t=0,e=this.highestAvailableWindow;for(;t<10&&!n.S.isTop(e);)t++,e=n.S.getWindowParent(e,!0);this.windowDepth=t}findAdditionalURLs(){try{if(this.additionalUrl="",this.additionalUrlDepth=0,this.windowDepth<=1)return;const t=[];let e,i,s;t.push({win:n.S.windowTop(!0),depth:0});let r=1,o=0;for(;r>0&&o<100;){try{o++,e=t.shift(),i=e.win,s=e.depth,r--;const a=i.location.toString();if(a.length>0&&i!=this.highestAvailableWindow){const t=n.S.workingDocument(i),{referrer:e}=t;return 0==e.length||0==s?(this.additionalUrl=a,void(this.additionalUrlDepth=s)):(this.additionalUrl=e,void(this.additionalUrlDepth=s-1))}}catch(t){}const a=i.frames.length;for(let e=0;e<a;e++)t.push({win:i.frames[e],depth:s+1}),r++}}catch(t){}}updateWindowDepth(){this.referrerDepth=this.windowDepth+this.referrerOffset,this.dvMinus&&this.windowDepth&&this.windowDepth--}setEparams(t){this.insertEparam("srcurl",this.dvURL),this.ancestorChain&&this.insertEparam("ancChain",this.ancestorChain);const e=this.htmlUrl||this.additionalUrl;e&&r.Utilities.isQueryLengthBelowBrowserLimit(t,t.additionalParams,t.dvpParamsFlags,o.TPSDataMapping,e)&&this.insertEparam("aUrl",e),this.canonicalUrl&&this.insertEparam("canurl",this.canonicalUrl),this.eparams=s.Encoding.ROT47(this.eparams)}extractUrlFromHtml(t){try{if(this.canonicalUrl=this.extractCanonicalUrl(),t.browserId==c.Browser.IE||128!=t.trafficScenarioType)return;if(n.S.isPerformanceAPISupported()&&n.S.currentWindow().performance.mark("dv_str_html_start"),this.dvURL){const t=/^(?:https?:\/\/)?[\w\-.]+\/[a-zA-Z0-9]/gi,e=this.dvURL.match(t);if(e&&e.length>0)return}const e=n.S.workingDocument(this.highestAvailableWindow);if(null==e?void 0:e.referrer){const i=e.referrer.replace(/\//g,"\\/").replace(/\./g,"\\."),n=new RegExp(`(?:w{0,4}=")?${i}[^&"; %,'\\$\\\\\\|]+`,"gi"),s=/banner|adprefs|safeframe|sandbox|sf\.html/gi,r=/^\w{0,4}="/gi;this.htmlUrl=this.getUrlFromHtml(e,n,s,r),this.measureExtraction(t)}}catch(t){}}extractCanonicalUrl(){const t=n.S.workingDocument(this.highestAvailableWindow),e=(0,u.querySelector)("link[rel=canonical]",t);return null==e?void 0:e.href}getUrlFromHtml(t,e,i,n){let s=this.findUrlByTag(t,"script","src",e,i,n);return s||(s=this.extractFromScriptHtml(t,e,i,n),s||(s=this.findUrlByTag(t,"a","href",e,i,n))),s}findLongestMatch(t,e,i){let n="";if(t&&t.length>0)for(const s of t){const t=s;t.length>n.length&&null==t.match(e)&&0!=t.indexOf('src="')&&0!=t.indexOf('turl="')&&(n=t.replace(i,""))}return n}findUrlByTag(t,e,i,n,s,r){const o=`${e}[${i}*="${t.referrer}"]`,a=(0,u.querySelectorAll)(t,o);let c="";if(a){let t=0;for(;!c&&t<a.length;){const e=a[t][i].match(n);c=this.findLongestMatch(e,s,r),t++}}return c}extractFromScriptHtml(t,e,i,n){const{referrer:s}=t;let r="";const o=(0,u.getElementsByTagNameFromDocument)("script",t);if(o){let t=0;for(;!r&&t<o.length;){const a=o[t].innerHTML;if(null==a?void 0:a.includes(s)){const t=a.match(e);r=this.findLongestMatch(t,i,n)}t++}}return r}measureExtraction(t){if(n.S.isPerformanceAPISupported()){const e=n.S.currentWindow();e.performance.mark("dv_str_html_end"),e.performance.measure("dv_str_html","dv_str_html_start","dv_str_html_end");const[i]=e.performance.getEntriesByName("dv_str_html");(null==i?void 0:i.duration)&&(t.additionalParams.dvp_strhd=i.duration,t.additionalParams.dvpx_strhd=i.duration)}}}},1059:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.SupplySourceCollector=void 0;const n=i(7749),s=i(3868),r=i(6681),o=i(870),a=i(3380),c=i(8426),u=i(319);e.SupplySourceCollector=class{constructor(){this.maxIterations=20}isSupported(){return!0}collectData(t){let e=n.I.getSupplySource();this.isMillenialMediaSupported()?e="mm":c.InmobiWrapper.isSupported()?e="inm_vid":this.isInmobiDisplaySupported()?e="inm_dis":r.MraidWrapper.isSupported()&&(r.MraidWrapper.isOperaMedia()?e="opm":r.MraidWrapper.isAdColony()&&(e="ac")),t.supplySource=o.omidAdapter.getOmidNativePartnerName()||o.omidAdapter.getOmidJSPartnerName()||e,a.Utilities.isNullOrEmpty(t.supplySource)||(t.supplySource=t.supplySource.split("|").join("").split("%7C").join(""))}toString(){return"SupplySource"}isMillenialMediaSupported(){var t;const{mmJsBridge:e}=s.S.workingWindow(),i=null!==(t=(0,u.getElementById)("aolVideoContainer",s.S.workingDocument()))&&void 0!==t?t:null==e?void 0:e.vpaid,n=s.S.workingWindow().mmSdkVersion;return!!i||!!n}isInmobiDisplaySupported(){return 0==n.I.getTagType()&&r.MraidWrapper.isSupported()&&s.S.objectLookup(s.S.currentWindow(),"imraid",this.maxIterations)&&s.S.objectLookup(s.S.currentWindow(),"inmobi",this.maxIterations)}}},9582:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.TpsApiTypeCollector=void 0;const n=i(7749);e.TpsApiTypeCollector=class{isSupported(){return!0}collectData(t){switch(n.I.getDvApi()){case"1":t.tpsApiType="dvvisit";break;case"5":t.tpsApiType="query";break;default:t.tpsApiType="visit"}}toString(){return"TpsApiType"}}},8397:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.TrafficScenarioCollector=void 0;const n=i(3868);e.TrafficScenarioCollector=class{isSupported(){return!0}collectData(t){t.trafficScenarioType=n.S.getScenarioType()}toString(){return"TrafficScenario"}}},1079:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.UserCollector=void 0;const n=i(8379),s=i(363);e.UserCollector=class{isSupported(){return!0}collectData(t){t.uid=s.RandomUtils.getRandom16(),t.callbackName=n.CallbackPrefix+s.RandomUtils.getRandom16()}toString(){return"UserId"}}},6674:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.VastUrlCollector=void 0;const n=i(7749),s=i(3380),r=i(7658);e.VastUrlCollector=class{isSupported(t){return this.vastWrapperUrl=n.I.getVastUrl(),this.vastWrapperUrl&&this.vastWrapperUrl.length<=1e3&&s.Utilities.isQueryLengthBelowBrowserLimit(t,t.additionalParams,t.dvpParamsFlags,r.TPSDataMapping,this.vastWrapperUrl)}collectData(t){t.vastWrapperUrl=this.vastWrapperUrl}toString(){return"vastUrl"}}},5390:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.VideoParamsCollector=void 0;const n=i(7749);e.VideoParamsCollector=class{isSupported(){return 1==n.I.getTagType()}collectData(t){t.isdvvid=1,t.prePlayed=1}toString(){return"VideoParams"}}},7998:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.WindowPropertiesCollector=void 0;const n=i(3868),s=i(425),r=i(7658),o=i(3380);e.WindowPropertiesCollector=class{isSupported(){return!n.S.isDomlessEnvironment()}collectData(t){var e,i,a;const c=n.S.workingWindow();try{t.queuePageID=null===(e=c.external)||void 0===e?void 0:e.QueuePageID,t.crawlerUrl=(null===(i=c.external)||void 0===i?void 0:i.CrawlerUrl)&&encodeURIComponent(null===(a=c.external)||void 0===a?void 0:a.CrawlerUrl)}catch(t){}t.postMessageSupported=Number(n.S.isPostMessageSupported()),t.isChrome=c.chrome?1:0,t.historySize=c.history?c.history.length:0,t.innerHeight=s.W.getInnerViewport(!1).height,t.innerWidth=s.W.getInnerViewport(!1).width,t.outerHeight=s.W.getOuterViewport(n.S.workingWindow(),!1).height,t.outerWidth=s.W.getOuterViewport(n.S.workingWindow(),!1).width,t.screenHeight=s.W.getAvailableScreenSize(!1).height,t.screenWidth=s.W.getAvailableScreenSize(!1).width;{const e=n.S.getUserAgent(),i=e?encodeURIComponent(e):e;o.Utilities.isQueryLengthBelowBrowserLimit(t,t.additionalParams,t.dvpParamsFlags,r.TPSDataMapping,i)&&(t.nativeUserAgent=i)}}toString(){return"WindowProperties"}}},5070:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.TPSDataCollector=void 0;const n=i(749),s=i(712);e.TPSDataCollector=class{isSupported(){return!0}constructor(t){this.tpsCollectors=t}executePhase(t){this.tpsCollectors.forEach((e=>{try{e.isSupported(t)&&e.collectData(t)}catch(t){n.A.sendError(s.ClientErrorType.TPSDataCollectorError,t,e.toString())}}))}toString(){return"TPSData"}}},9041:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.UmtDedupper=void 0;const n=i(194),s=(i(7749),i(319)),r=i(749),o=i(549),a=i(3380),c=i(3868),u=i(8170),d=i(815);e.UmtDedupper=class{isSupported(t){}toString(){return"UmtDedupper"}executePhase(t,e){t.abortVisitRequest=!0,this.waitForFalconTagsForThisPlacement(t,0)}waitForFalconTagsForThisPlacement(t,e){let i=null;const n=this.findFalconTagsForPlacement(t);if(n.length){this.clearTimeoutReference(i),i=null;const[e]=n;this.waitForFalconImpressionId(e,t,0)}else e<10&&(i=(0,o.scheduleTask)((()=>{this.waitForFalconTagsForThisPlacement(t,e+1)}),150))}waitForFalconImpressionId(t,e,i){let s=null;const a=t.$uid;if(void 0!==a)return this.clearTimeoutReference(s),void r.A.registerEventCall(a,{[(0,u.getDiagnosticQueryParamName)(u.DiagnosticParams.umtDeduppingInvoked)]:1,[(0,u.getDiagnosticQueryParamName)(u.DiagnosticParams.umtDeduppedTagUrl)]:n.it.getDvtpScriptUrl()});i<10&&(s=(0,o.scheduleTask)((()=>{this.waitForFalconImpressionId(t,e,i+1)}),150))}domHasPairedFalconTag(t){const e="injectedAsSibling"===n.it.getScriptInjectionMode()?c.S.currentWindow():c.S.getWindowParent(c.S.currentWindow());if(!e)return!1;const i=Array.from((0,s.querySelectorAll)(e.document,'script[src*="dvbm"]'));for(const e of i){const i=e.getAttribute("src");if(i&&this.scriptUrlHasMatchingParameters(i,t)&&this.isInTestGroup(t))return!0}return!1}parseUrlParameters(t){return Object.fromEntries(new URLSearchParams(new URL(t).hash.replace(/^#/,"")))}scriptUrlHasMatchingParameters(t,e){const i=this.parseUrlParameters(t);return this.isMediaPlanMatch(e,i)&&this.isAdvertiserWorkflowParamPresent(i)}isAdvertiserWorkflowParamPresent(t){const e=(0,u.getDiagnosticQueryParamName)(u.DiagnosticParams.advertiserWorkflow);return!a.Utilities.isNullOrEmpty(t[e])}isFalconTag(t){return"1"===t.flvr}isInTestGroup(t){return["424946420","425596828"].includes(t.plc)}isMediaPlanMatch(t,e){return e.cmp==t.cmp&&e.ctx==t.ctx&&e.plc==t.plc&&e.sid==t.sid}findFalconTagsForPlacement(t){return Object.values(n.it.Qt().tagData).filter((e=>this.isInTestGroup(t)&&this.isFalconTag(e)&&"object"==typeof e.tagParams&&!a.Utilities.isEmpty(e.tagParams)&&this.isMediaPlanMatch(t,e.tagParams)&&this.isAdvertiserWorkflowParamPresent(e.tagParams)))}clearTimeoutReference(t){null!=t&&(0,d.clearSafeTimeout)(t)}}},5244:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.VisitJsonFlow=e.VisitJsonFlowFeatureFlag=void 0;const n=i(425),s=i(3868),r=i(194),o=i(7360),a=i(7749);function c(t){var e,i,n,s,r;if(!("object"==typeof t&&null!==t))throw new Error("VisitJSON: expected object response");if(!(32===(null===(e=t.impressionId)||void 0===e?void 0:e.length)))throw new Error("VisitJSON: invalid impression id");if(!("object"==typeof t.serverContext&&null!==t.serverContext))throw new Error("VisitJSON: expected server context");if(!("number"==typeof(null===(n=null===(i=t.serverContext)||void 0===i?void 0:i.ce)||void 0===n?void 0:n.ddt)))throw new Error("VisitJSON: invalid DDT");if(!("number"==typeof(null===(r=null===(s=t.serverContext)||void 0===s?void 0:s.ce)||void 0===r?void 0:r.dt)))throw new Error("VisitJSON: invalid DT");return t}var u;!function(t){t[t.Disabled=0]="Disabled",t[t.EnabledByParam=1]="EnabledByParam",t[t.EnabledByConfig=2]="EnabledByConfig",t[t.EnabledByExperiment=3]="EnabledByExperiment",t[t.EnabledByDomless=4]="EnabledByDomless"}(u||(e.VisitJsonFlowFeatureFlag=u={})),e.VisitJsonFlow={execute:async function(t,e){const i=c(await n.W.fetchJSON(t));!function(t,e){var i;const n=r.it.Qt(),o=s.S.currentWindow(),{impressionId:a}=e,{serverContext:c}=e,u=null!==(i=e.serverPublicDns)&&void 0!==i?i:null;s.S.workingWindow()[t](n,o,a,u,c)}(e.callbackName,i),function(){const t=r.it.Qt(),e=s.S.currentWindow(),i=r.it.getImpressionId(e),n=r.it.getFrameId(e);t.pubSub.publish(o.DvEvents.impressionServed,i),t.pubSub.publish(o.DvEvents.impressionServed,n)}()},validate:c,shouldUse:function({experimentEnabled:t}){const e=n.W.isFetchJSONAPISupported(),i=!!a.I.getInitJsonPath();if(!e||!i)return u.Disabled;const r=a.I.getIsVisitJsonFlowEnabled();return null!==r?r?u.EnabledByParam:u.Disabled:"json"===a.I.getDefaultInitType()?u.EnabledByConfig:s.S.isDomlessEnvironment()?u.EnabledByDomless:t?u.EnabledByExperiment:u.Disabled}}},1759:function(t,e,i){!function(t,e,i){if("object"==typeof i&&"string"!=typeof i.nodeName)e(t,i);else{i={};var n=["1.5.0-iab4484"];function s(t){for(var e in t)t.hasOwnProperty(e)&&(t[e]=s(t[e]));return Object.freeze(t)}for(var r in e(t,i),i)i.hasOwnProperty(r)&&(null==Object.getOwnPropertyDescriptor(t,r)&&Object.defineProperty(t,r,{value:{}}),n.forEach((function(e){if(null==Object.getOwnPropertyDescriptor(t[r],e)){var n=s(i[r]);Object.defineProperty(t[r],e,{get:function(){return n},enumerable:!0})}})))}}(void 0===i.g?this:i.g,(function(t,e){var n=n||{};n.scope={},n.createTemplateTagFirstArg=function(t){return t.raw=t},n.createTemplateTagFirstArgWithRaw=function(t,e){return t.raw=e,t},n.arrayIteratorImpl=function(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}},n.arrayIterator=function(t){return{next:n.arrayIteratorImpl(t)}},n.makeIterator=function(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];if(e)return e.call(t);if("number"==typeof t.length)return n.arrayIterator(t);throw Error(String(t)+" is not an iterable or ArrayLike")},n.arrayFromIterator=function(t){for(var e,i=[];!(e=t.next()).done;)i.push(e.value);return i},n.arrayFromIterable=function(t){return t instanceof Array?t:n.arrayFromIterator(n.makeIterator(t))},n.ASSUME_ES5=!1,n.ASSUME_NO_NATIVE_MAP=!1,n.ASSUME_NO_NATIVE_SET=!1,n.SIMPLE_FROUND_POLYFILL=!1,n.ISOLATE_POLYFILLS=!1,n.FORCE_POLYFILL_PROMISE=!1,n.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1,n.objectCreate=n.ASSUME_ES5||"function"==typeof Object.create?Object.create:function(t){var e=function(){};return e.prototype=t,new e},n.defineProperty=n.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,i){return t==Array.prototype||t==Object.prototype||(t[e]=i.value),t},n.getGlobal=function(t){t=["object"==typeof globalThis&&globalThis,t,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof i.g&&i.g];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")},n.global=n.getGlobal(this),n.IS_SYMBOL_NATIVE="function"==typeof Symbol&&"symbol"==typeof Symbol("x"),n.TRUST_ES6_POLYFILLS=!n.ISOLATE_POLYFILLS||n.IS_SYMBOL_NATIVE,n.polyfills={},n.propertyToPolyfillSymbol={},n.POLYFILL_PREFIX="$jscp$";var s=function(t,e,i){if(!i||null!=t)return null==(i=n.propertyToPolyfillSymbol[e])?t[e]:void 0!==(i=t[i])?i:t[e]};n.polyfill=function(t,e,i,s){e&&(n.ISOLATE_POLYFILLS?n.polyfillIsolated(t,e,i,s):n.polyfillUnisolated(t,e,i,s))},n.polyfillUnisolated=function(t,e,i,s){for(i=n.global,t=t.split("."),s=0;s<t.length-1;s++){var r=t[s];if(!(r in i))return;i=i[r]}(e=e(s=i[t=t[t.length-1]]))!=s&&null!=e&&n.defineProperty(i,t,{configurable:!0,writable:!0,value:e})},n.polyfillIsolated=function(t,e,i,s){var r=t.split(".");t=1===r.length,s=r[0],s=!t&&s in n.polyfills?n.polyfills:n.global;for(var o=0;o<r.length-1;o++){var a=r[o];if(!(a in s))return;s=s[a]}r=r[r.length-1],null!=(e=e(i=n.IS_SYMBOL_NATIVE&&"es6"===i?s[r]:null))&&(t?n.defineProperty(n.polyfills,r,{configurable:!0,writable:!0,value:e}):e!==i&&(void 0===n.propertyToPolyfillSymbol[r]&&(i=1e9*Math.random()>>>0,n.propertyToPolyfillSymbol[r]=n.IS_SYMBOL_NATIVE?n.global.Symbol(r):n.POLYFILL_PREFIX+i+"$"+r),n.defineProperty(s,n.propertyToPolyfillSymbol[r],{configurable:!0,writable:!0,value:e})))},n.getConstructImplementation=function(){if(n.TRUST_ES6_POLYFILLS&&"undefined"!=typeof Reflect&&Reflect.construct){if(function(){function t(){}return new t,Reflect.construct(t,[],(function(){})),new t instanceof t}())return Reflect.construct;var t=Reflect.construct;return function(e,i,n){return e=t(e,i),n&&Reflect.setPrototypeOf(e,n.prototype),e}}return function(t,e,i){return void 0===i&&(i=t),i=n.objectCreate(i.prototype||Object.prototype),Function.prototype.apply.call(t,i,e)||i}},n.construct=n.getConstructImplementation(),n.underscoreProtoCanBeSet=function(){var t={};try{return t.__proto__={a:!0},t.a}catch(t){}return!1},n.setPrototypeOf=n.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:n.underscoreProtoCanBeSet()?function(t,e){if(t.__proto__=e,t.__proto__!==e)throw new TypeError(t+" is not extensible");return t}:null,n.inherits=function(t,e){if(t.prototype=n.objectCreate(e.prototype),t.prototype.constructor=t,n.setPrototypeOf){var i=n.setPrototypeOf;i(t,e)}else for(i in e)if("prototype"!=i)if(Object.defineProperties){var s=Object.getOwnPropertyDescriptor(e,i);s&&Object.defineProperty(t,i,s)}else t[i]=e[i];t.superClass_=e.prototype},n.getRestArguments=function(){for(var t=Number(this),e=[],i=t;i<arguments.length;i++)e[i-t]=arguments[i];return e},n.polyfill("Reflect",(function(t){return t||{}}),"es6","es3"),n.polyfill("Reflect.construct",(function(t){return n.construct}),"es6","es3"),n.polyfill("Reflect.setPrototypeOf",(function(t){if(t)return t;if(n.setPrototypeOf){var e=n.setPrototypeOf;return function(t,i){try{return e(t,i),!0}catch(t){return!1}}}return null}),"es6","es5"),n.owns=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.polyfill("Object.values",(function(t){return t||function(t){var e,i=[];for(e in t)n.owns(t,e)&&i.push(t[e]);return i}}),"es8","es3");var r={AdEventType:{IMPRESSION:"impression",LOADED:"loaded",GEOMETRY_CHANGE:"geometryChange",SESSION_START:"sessionStart",SESSION_ERROR:"sessionError",SESSION_FINISH:"sessionFinish",MEDIA:"media",VIDEO:"video",START:"start",FIRST_QUARTILE:"firstQuartile",MIDPOINT:"midpoint",THIRD_QUARTILE:"thirdQuartile",COMPLETE:"complete",PAUSE:"pause",RESUME:"resume",BUFFER_START:"bufferStart",BUFFER_FINISH:"bufferFinish",SKIPPED:"skipped",VOLUME_CHANGE:"volumeChange",PLAYER_STATE_CHANGE:"playerStateChange",AD_USER_INTERACTION:"adUserInteraction",STATE_CHANGE:"stateChange"},MediaEventType:{LOADED:"loaded",START:"start",FIRST_QUARTILE:"firstQuartile",MIDPOINT:"midpoint",THIRD_QUARTILE:"thirdQuartile",COMPLETE:"complete",PAUSE:"pause",RESUME:"resume",BUFFER_START:"bufferStart",BUFFER_FINISH:"bufferFinish",SKIPPED:"skipped",VOLUME_CHANGE:"volumeChange",PLAYER_STATE_CHANGE:"playerStateChange",AD_USER_INTERACTION:"adUserInteraction"},ImpressionType:{DEFINED_BY_JAVASCRIPT:"definedByJavaScript",UNSPECIFIED:"unspecified",LOADED:"loaded",BEGIN_TO_RENDER:"beginToRender",ONE_PIXEL:"onePixel",VIEWABLE:"viewable",AUDIBLE:"audible",OTHER:"other"},ErrorType:{GENERIC:"generic",VIDEO:"video",MEDIA:"media"},AdSessionType:{NATIVE:"native",HTML:"html",JAVASCRIPT:"javascript"},EventOwner:{NATIVE:"native",JAVASCRIPT:"javascript",NONE:"none"},SessionOwner:{JAVASCRIPT:"javascript",NATIVE:"native"},AccessMode:{FULL:"full",DOMAIN:"domain",LIMITED:"limited"},AppState:{BACKGROUNDED:"backgrounded",FOREGROUNDED:"foregrounded"},DeviceLockState:{LOCKED:"locked",UNLOCKED:"unlocked"},Environment:{APP:"app",WEB:"web"},DeviceCategory:{CTV:"ctv",DESKTOP:"desktop",MOBILE:"mobile",OTHER:"other"},InteractionType:{CLICK:"click",INVITATION_ACCEPT:"invitationAccept"},CreativeType:{DEFINED_BY_JAVASCRIPT:"definedByJavaScript",HTML_DISPLAY:"htmlDisplay",NATIVE_DISPLAY:"nativeDisplay",VIDEO:"video",AUDIO:"audio"},MediaType:{DISPLAY:"display",VIDEO:"video"},Reason:{NOT_FOUND:"notFound",HIDDEN:"hidden",BACKGROUNDED:"backgrounded",PICTURE_IN_PICTURE:"pictureInPicture",DEVICE_LOCKED:"deviceLocked",VIEWPORT:"viewport",OBSTRUCTED:"obstructed",CLIPPED:"clipped",UNMEASURABLE:"unmeasurable",NO_WINDOW_FOCUS:"noWindowFocus",NO_OUTPUT_DEVICE:"noOutputDevice"},SupportedFeatures:{CONTAINER:"clid",VIDEO:"vlid"},VideoPosition:{PREROLL:"preroll",MIDROLL:"midroll",POSTROLL:"postroll",STANDALONE:"standalone"},VideoPlayerState:{MINIMIZED:"minimized",COLLAPSED:"collapsed",NORMAL:"normal",EXPANDED:"expanded",FULLSCREEN:"fullscreen"},NativeViewKeys:{X:"x",LEFT:"left",Y:"y",TOP:"top",WIDTH:"width",HEIGHT:"height",AD_SESSION_ID:"adSessionId",IS_FRIENDLY_OBSTRUCTION_FOR:"isFriendlyObstructionFor",CLIPS_TO_BOUNDS:"clipsToBounds",CHILD_VIEWS:"childViews",END_X:"endX",END_Y:"endY",OBSTRUCTIONS:"obstructions",OBSTRUCTION_CLASS:"obstructionClass",OBSTRUCTION_PURPOSE:"obstructionPurpose",OBSTRUCTION_REASON:"obstructionReason",PIXELS:"pixels",HAS_WINDOW_FOCUS:"hasWindowFocus"},MeasurementStateChangeSource:{CONTAINER:"container",CREATIVE:"creative"},ElementMarkup:{OMID_ELEMENT_CLASS_NAME:"omid-element"},CommunicationType:{NONE:"NONE",DIRECT:"DIRECT",POST_MESSAGE:"POST_MESSAGE"},OmidImplementer:{OMSDK:"omsdk"},MessageMethod:{IDENTIFY_SERVICE_WINDOW:"identifyServiceWindow"}},o="omid_message_guid",a="omid_message_method",c="omid_message_version",u="omid_message_args",d=function(t,e,i,n){this.guid=t,this.method=e,this.version=i,this.args=n};d.isValidSerializedMessage=function(t){return!!t&&void 0!==t[o]&&void 0!==t[a]&&void 0!==t[c]&&"string"==typeof t[o]&&"string"==typeof t[a]&&"string"==typeof t[c]&&(void 0===t[u]||void 0!==t[u])},d.deserialize=function(t){return new d(t[o],t[a],t[c],t[u])},d.prototype.serialize=function(){var t={};return t[o]=this.guid,t[a]=this.method,t[c]=this.version,void 0!==this.args&&(t[u]=this.args),t};var l=function(t){this.to=t,this.communicationType_=r.CommunicationType.NONE};l.prototype.sendMessage=function(t,e){},l.prototype.handleMessage=function(t,e){this.onMessage&&this.onMessage(t,e)},l.prototype.serialize=function(t){return JSON.stringify(t)},l.prototype.deserialize=function(t){return JSON.parse(t)},l.prototype.isDirectCommunication=function(){return this.communicationType_===r.CommunicationType.DIRECT},l.prototype.isCrossOrigin=function(){};var h={};function v(){var t=n.getRestArguments.apply(0,arguments);f((function(){throw new(Function.prototype.bind.apply(Error,[null,"Could not complete the test successfully - "].concat(n.arrayFromIterable(t))))}),(function(){return console.error.apply(console,n.arrayFromIterable(t))}))}function p(){var t=n.getRestArguments.apply(0,arguments);f((function(){}),(function(){return console.error.apply(console,n.arrayFromIterable(t))}))}function f(t,e){"undefined"!=typeof jasmine&&jasmine?t():"undefined"!=typeof console&&console&&console.error&&e()}h.error=v,h.debug=p;var m={},g={ApiVersion:"1.0",Version:"1.5.0-iab4484"},b={};function w(t,e){if(!e)throw Error("Value for "+t+" is undefined, null or blank.");if("string"!=typeof e&&!(e instanceof String))throw Error("Value for "+t+" is not a string.");if(""===e.trim())throw Error("Value for "+t+" is empty string.")}function _(t,e){if(null==e)throw Error("Value for "+t+" is undefined or null")}function y(t,e){if(null==e)throw Error(t+" must not be null or undefined.");if("number"!=typeof e||isNaN(e))throw Error("Value for "+t+" is not a number")}function S(t,e,i,n){if(y(t,e),e<i||e>n)throw Error("Value for "+t+" is outside the range ["+i+","+n+"]")}function M(t,e){if(!e)throw Error(t+" must not be truthy.")}function A(t,e){if(y(t,e),0>e)throw Error(t+" must be a positive number.")}b.assertTruthyString=w,b.assertNotNullObject=_,b.assertNumber=y,b.assertNumberBetween=S,b.assertFunction=M,b.assertPositiveNumber=A;var E={},O=3;function T(t){return/\d+\.\d+\.\d+(-.*)?/.test(t)}function I(t,e){t=t.split("-")[0].split("."),e=e.split("-")[0].split(".");for(var i=0;i<O;i++){var n=parseInt(t[i],10),s=parseInt(e[i],10);if(n>s)break;if(n<s)return!1}return!0}E.isValidVersion=T,E.versionGreaterOrEqual=I;var D={},C="1.0.3";function j(t,e){return T(t)&&I(t,C)?e:JSON.stringify(e)}function V(t,e){return T(t)&&I(t,C)?e||[]:e&&"string"==typeof e?JSON.parse(e):[]}D.serializeMessageArgs=j,D.deserializeMessageArgs=V;var x={};function R(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return t="y"===t?(3&e|8).toString(16):e.toString(16)}))}x.generateGuid=R;var P={OMID_PRESENT_FRAME_NAME:"omid_v1_present",OMID_PRESENT_FRAME_NAME_WEB:"omid_v1_present_web",OMID_PRESENT_FRAME_NAME_APP:"omid_v1_present_app",getEnvironmentIframeName:function(t){var e={};return(e[r.Environment.APP]=P.OMID_PRESENT_FRAME_NAME_APP,e[r.Environment.WEB]=P.OMID_PRESENT_FRAME_NAME_WEB,e)[t]}};function k(t,e){try{return t.frames&&!!t.frames[e]}catch(t){return!1}}function N(t,e){t.document.write('<iframe style="display:none" id="'+e+'" name="'+e+'" sandbox></iframe>')}P.isOmidPresent=function(t){return[P.OMID_PRESENT_FRAME_NAME,P.OMID_PRESENT_FRAME_NAME_WEB,P.OMID_PRESENT_FRAME_NAME_APP].some((function(e){return k(t,e)}))},P.getOmidEnvironment=function(t){for(var e=n.makeIterator(Object.values(r.Environment)),i=e.next();!i.done;i=e.next()){if(i=i.value,k(t,P.getEnvironmentIframeName(i)))return i}return null},P.declareOmidPresence=function(t,e){t.frames&&t.document&&![P.OMID_PRESENT_FRAME_NAME,P.OMID_PRESENT_FRAME_NAME_WEB,P.OMID_PRESENT_FRAME_NAME_APP].some((function(e){return!!t.frames[e]}))&&(null==t.document.body&&P.isMutationObserverAvailable_(t)?P.registerMutationObserver_(t,e):(e=P.getEnvironmentIframeName(e),t.document.body?(P.appendPresenceIframe_(t,P.OMID_PRESENT_FRAME_NAME),P.appendPresenceIframe_(t,e)):(N(t,P.OMID_PRESENT_FRAME_NAME),N(t,e))))},P.appendPresenceIframe_=function(t,e){var i=t.document.createElement("iframe");i.id=e,i.name=e,i.style.display="none",i.sandbox="",t.document.body.appendChild(i)},P.isMutationObserverAvailable_=function(t){return"MutationObserver"in t},P.registerMutationObserver_=function(t,e){var i=new MutationObserver((function(n){n.forEach((function(n){"BODY"===n.addedNodes[0].nodeName&&(n=P.getEnvironmentIframeName(e),P.appendPresenceIframe_(t,P.OMID_PRESENT_FRAME_NAME),P.appendPresenceIframe_(t,n),i.disconnect())}))}));i.observe(t.document.documentElement,{childList:!0})};var L={},F={SESSION_SERVICE:"SessionService.",VERIFICATION_SERVICE:"VerificationService."};function B(t){return $(t,F.SESSION_SERVICE)}function U(t){return G(t,F.SESSION_SERVICE)}function z(t){return null!=U(t)}function q(t){return $(t,F.VERIFICATION_SERVICE)}function W(t){return G(t,F.VERIFICATION_SERVICE)}function H(t){return null!=W(t)}function $(t,e){return e+t}function G(t,e){return(t=t.match(new RegExp("^"+e+"(.*)")))&&t[1]}L.getPrefixedSessionServiceMethod=B,L.getPrefixedVerificationServiceMethod=q,L.getUnprefixedSessionServiceMethod=U,L.getUnprefixedVerificationServiceMethod=W,L.isPrefixedSessionServiceMethod=z,L.isPrefixedVerificationServiceMethod=H;var J={};function Q(){if(void 0!==t&&t)return t;if(void 0!==i.g&&i.g)return i.g;if("undefined"!=typeof window&&window)return window;if("undefined"!=typeof globalThis&&globalThis)return globalThis;var e=Function("return this")();if(e)return e;throw Error("Could not determine global object context.")}J.omidGlobal=Q();var K={};function Y(){return void 0===e?null:e}function X(t,e){return t&&(t[e]||(t[e]={}))}function Z(t,e,i){(i=void 0===i?Y():i)&&((t=t.split(".")).slice(0,t.length-1).reduce(X,i)[t[t.length-1]]=e)}K.packageExport=Z;var tt={};function et(t){return null!=t&&void 0!==t.top&&null!=t.top}function it(t){if(t===J.omidGlobal)return!1;try{if(void 0===t.location.hostname)return!0;nt(t)}catch(t){return!0}return!1}function nt(t){return""===t.x||""!==t.x}function st(t){return void 0===t&&"undefined"!=typeof window&&window&&(t=window),et(t)?t:J.omidGlobal}function rt(t){return et(t)?t.top:J.omidGlobal}function ot(t){try{return!!t.top.location.href}catch(t){return!1}}function at(t){return t.type===r.AdEventType.SESSION_START&&(void 0!==t.data.context.videoElement&&(t.data.context.videoElement="Video Element ("+t.data.context.videoElement.id+")"),void 0!==t.data.context.slotElement&&(t.data.context.slotElement="Slot Element ("+t.data.context.slotElement.id+")")),t}function ct(t){if(!et(t))return null;try{var e=t.top;return it(e)?null:e.location.href}catch(t){return null}}tt.evaluatePageUrl=ct,tt.isCrossOrigin=it,tt.removeDomElements=at,tt.resolveGlobalContext=st,tt.resolveTopWindowContext=rt,tt.isTopWindowAccessible=ot;var ut=function(t){l.call(this,t),this.communicationType_=r.CommunicationType.DIRECT,this.handleExportedMessage=ut.prototype.handleExportedMessage.bind(this)};n.inherits(ut,l),ut.prototype.sendMessage=function(t,e){if(!(e=void 0===e?this.to:e))throw Error("Message destination must be defined at construction time or when sending the message.");e.handleExportedMessage(t.serialize(),this)},ut.prototype.handleExportedMessage=function(t,e){d.isValidSerializedMessage(t)&&this.handleMessage(d.deserialize(t),e)},ut.prototype.isCrossOrigin=function(){return!1};var dt=function(t,e){e=void 0===e?J.omidGlobal:e,l.call(this,e);var i=this;this.communicationType_=r.CommunicationType.POST_MESSAGE,t.addEventListener("message",(function(t){if("object"==typeof t.data){var e=t.data;d.isValidSerializedMessage(e)&&(e=d.deserialize(e),t.source&&i.handleMessage(e,t.source))}}))};n.inherits(dt,l),dt.isCompatibleContext=function(t){return!!(t&&t.addEventListener&&t.postMessage)},dt.prototype.sendMessage=function(t,e){if(!(e=void 0===e?this.to:e))throw Error("Message destination must be defined at construction time or when sending the message.");e.postMessage(t.serialize(),"*")},dt.prototype.isCrossOrigin=function(){return!this.to||it(this.to)};var lt={},ht=["omid","v1_SessionServiceCommunication"],vt=["omid","v1_VerificationServiceCommunication"],pt=["omidVerificationProperties","serviceWindow"];function ft(t,e){return e.reduce((function(t,e){return t&&t[e]}),t)}function mt(t,e,i,n){if(!it(e))try{var s=ft(e,i);if(s)return new ut(s)}catch(t){}return n(e)?new dt(t,e):null}function gt(t,e,i,s){for(var r=(e=n.makeIterator(e)).next();!r.done;r=e.next())if(r=mt(t,r.value,i,s))return r;return null}function bt(t,e,i){i=void 0===i?P.isOmidPresent:i;var n=[t,rt(t)];return e&&n.unshift(e),gt(t,n,ht,i)}function wt(t,e){e=void 0===e?P.isOmidPresent:e;var i=[],n=ft(t,pt);return n&&i.push(n),i.push(rt(t)),gt(t,i,vt,e)}lt.startSessionServiceCommunication=bt,lt.startVerificationServiceCommunication=wt;var _t=g.Version,yt;function St(){var t=J.omidGlobal.omid3p;return t&&"function"==typeof t.registerSessionObserver&&"function"==typeof t.addEventListener?t:null}var Mt=function(t){(this.communication=t||wt(st()))?this.communication.onMessage=this.handleMessage_.bind(this):(t=St())&&(this.omid3p=t),this.remoteIntervals_=this.remoteTimeouts_=0,this.callbackMap_={},this.imgCache_=[],this.injectionId_=(t=J.omidGlobal.omidVerificationProperties)?t.injectionId:void 0};Mt.prototype.isSupported=function(){return!(this.getEnvironment()===r.Environment.WEB&&!this.injectionId_)&&!(!this.communication&&!this.omid3p)},Mt.prototype.getEnvironment=function(){var t=st();return this.injectionSource()||(0,P.getOmidEnvironment)(t)||(0,P.getOmidEnvironment)(rt(t))},Mt.prototype.injectionSource=function(){var t=J.omidGlobal.omidVerificationProperties;if(t&&t.injectionSource)return t.injectionSource},Mt.prototype.registerSessionObserver=function(t,e){M("functionToExecute",t),this.omid3p?this.omid3p.registerSessionObserver(t,e,this.injectionId_):this.sendMessage_("addSessionListener",t,e,this.injectionId_)},Mt.prototype.addEventListener=function(t,e){w("eventType",t),M("functionToExecute",e),this.omid3p?this.omid3p.addEventListener(t,e,this.injectionId_):this.sendMessage_("addEventListener",e,t,this.injectionId_)},Mt.prototype.sendUrl=function(t,e,i){w("url",t),J.omidGlobal.document&&J.omidGlobal.document.createElement?this.sendUrlWithImg_(t,e,i):this.sendMessage_("sendUrl",(function(t){t&&e?e():!t&&i&&i()}),t)},Mt.prototype.sendUrlWithImg_=function(t,e,i){var n=this,s=J.omidGlobal.document.createElement("img");this.imgCache_.push(s);var r=function(t){var e=n.imgCache_.indexOf(s);0<=e&&n.imgCache_.splice(e,1),t&&t()};s.addEventListener("load",r.bind(this,e)),s.addEventListener("error",r.bind(this,i)),s.src=t},Mt.prototype.injectJavaScriptResource=function(t,e,i){var n=this;w("url",t),J.omidGlobal.document?this.injectJavascriptResourceUrlInDom_(t,e,i):this.sendMessage_("injectJavaScriptResource",(function(s,r){s?(n.evaluateJavaScript_(r,t),e()):(v("Service failed to load JavaScript resource."),i())}),t)},Mt.prototype.injectJavascriptResourceUrlInDom_=function(t,e,i){var n=J.omidGlobal.document,s=n.body;(n=n.createElement("script")).onload=e,n.onerror=i,n.src=t,n.type="application/javascript",s.appendChild(n)},Mt.prototype.evaluateJavaScript_=function(t,e){try{eval(t)}catch(t){v('Error evaluating the JavaScript resource from "'+e+'".')}},Mt.prototype.setTimeout=function(t,e){if(M("functionToExecute",t),A("timeInMillis",e),this.hasTimeoutMethods_())return J.omidGlobal.setTimeout(t,e);var i=this.remoteTimeouts_++;return this.sendMessage_("setTimeout",t,i,e),i},Mt.prototype.clearTimeout=function(t){A("timeoutId",t),this.hasTimeoutMethods_()?J.omidGlobal.clearTimeout(t):this.sendOneWayMessage_("clearTimeout",t)},Mt.prototype.setInterval=function(t,e){if(M("functionToExecute",t),A("timeInMillis",e),this.hasIntervalMethods_())return J.omidGlobal.setInterval(t,e);var i=this.remoteIntervals_++;return this.sendMessage_("setInterval",t,i,e),i},Mt.prototype.clearInterval=function(t){A("intervalId",t),this.hasIntervalMethods_()?J.omidGlobal.clearInterval(t):this.sendOneWayMessage_("clearInterval",t)},Mt.prototype.hasTimeoutMethods_=function(){return"function"==typeof J.omidGlobal.setTimeout&&"function"==typeof J.omidGlobal.clearTimeout},Mt.prototype.hasIntervalMethods_=function(){return"function"==typeof J.omidGlobal.setInterval&&"function"==typeof J.omidGlobal.clearInterval},Mt.prototype.handleMessage_=function(t,e){e=t.method;var i=t.guid;if(t=t.args,"response"===e&&this.callbackMap_[i]){var n=V(g.Version,t);this.callbackMap_[i].apply(this,n)}"error"===e&&window.console&&v(t)},Mt.prototype.sendOneWayMessage_=function(t){var e=n.getRestArguments.apply(1,arguments);this.sendMessage_.apply(this,[t,null].concat(n.arrayFromIterable(e)))},Mt.prototype.sendMessage_=function(t,e){var i=n.getRestArguments.apply(2,arguments);if(this.communication){var s=R();e&&(this.callbackMap_[s]=e),i=new d(s,q(t),g.Version,j(g.Version,i)),this.communication.sendMessage(i)}},Z("OmidVerificationClient",Mt)}),e),t.exports=function(){return e.OmidVerificationClient}},5382:function(t){"use strict";var e,i=Object.defineProperty,n=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,r=Object.prototype.hasOwnProperty,o={};((t,e)=>{for(var n in e)i(t,n,{get:e[n],enumerable:!0})})(o,{AdFormatId:()=>l,AdLocationError:()=>h,AdLocationException:()=>v,DetectionOutcome:()=>P,FormatDetectionError:()=>f,FormatDetectionException:()=>m,asAdLocationException:()=>p,asFormatDetectionException:()=>g,celtraAdFormat:()=>S,clipcentricAdFormat:()=>V,detachedDetect:()=>X,detect:()=>Z,weatherChannelLargeWebAdFormat:()=>B,weatherChannelMobileWebAdFormat:()=>U}),t.exports=(e=o,((t,e,o,a)=>{if(e&&"object"==typeof e||"function"==typeof e)for(let c of s(e))!r.call(t,c)&&c!==o&&i(t,c,{get:()=>e[c],enumerable:!(a=n(e,c))||a.enumerable});return t})(i({},"__esModule",{value:!0}),e));var a,c,u,d,l=((a=l||{})[a.DEFAULT=0]="DEFAULT",a[a.WEATHER_CHANNEL_LWIM=1]="WEATHER_CHANNEL_LWIM",a[a.CELTRA=2]="CELTRA",a[a.CLIPCENTRIC=4]="CLIPCENTRIC",a[a.WEATHER_CHANNEL_MWIM=8]="WEATHER_CHANNEL_MWIM",a),h=((c=h||{})[c.NO_ERROR=0]="NO_ERROR",c[c.UNKNOWN_ERROR=1]="UNKNOWN_ERROR",c[c.TIMEOUT=2]="TIMEOUT",c[c.NO_AD_FOUND=4]="NO_AD_FOUND",c[c.MULTIPLE_ADS_LOCATED=8]="MULTIPLE_ADS_LOCATED",c[c.ABORTED=16]="ABORTED",c),v=class extends Error{errorCode;constructor(t,e,i){super(e,i),this.errorCode=t}},p=t=>t instanceof v?t:t instanceof Error?new v(1,t.message,{cause:t}):new v(1,String(t)),f=((u=f||{})[u.NO_ERROR=0]="NO_ERROR",u[u.UNKNOWN_ERROR=1]="UNKNOWN_ERROR",u[u.MULTIPLE_AD_FORMATS_DETECTED=2]="MULTIPLE_AD_FORMATS_DETECTED",u[u.DOM_EXCEPTION=4]="DOM_EXCEPTION",u),m=class extends Error{errorCode;constructor(t,e,i){super(e,i),this.errorCode=t}},g=t=>t instanceof m?t:t instanceof Error?new m(1,t.message,{cause:t}):new m(1,String(t)),b=t=>t?.nodeType===Node.ELEMENT_NODE?t:null,w=(t,e)=>{let i=[],n=((t,e)=>(t=>t.ownerDocument??t)(e).evaluate(t,e,null,XPathResult.ORDERED_NODE_ITERATOR_TYPE,null))(t,e),s=n.iterateNext();for(;null!=s;){let t=b(s);null!=t&&i.push(t),s=n.iterateNext()}return i},_=(t,e)=>{let i=w(t,e);return i.length>0&&i},y=/<div[^>]*class\s*=\s*(['"])(?:(?:(?!\1)\S)+\s+)*\s*celtra-ad-v/g,S={name:"Celtra",id:2,detectDetached:t=>{let e=t.matchAll(y);if(void 0===e.next().value)return!1;if(void 0!==e.next().value)throw new m(2);return!0},detect(t){let e=E(t);return null===e?null:M(e)}},M=t=>async e=>{e.throwIfAborted();let i=(await A(t,e)).celtra.viewabilityObservee;if(null==i)throw new v(4);return i},A=async(t,e)=>await new Promise(((i,n)=>{!0===t.celtra?.loaded?i(t):(t.addEventListener("celtraLoaded",(()=>{i(t)}),{once:!0,passive:!0,signal:e}),e.addEventListener("abort",(()=>{n(new v(16))}),{once:!0,passive:!0}))})),E=t=>{let e=w(".//div[contains(concat(' ', @class), ' celtra-ad-v')]",t);if(0===e.length)return null;if(1!==e.length)throw new m(2,`Found ${e.length} Celtra tag elements`);return e[0]},O=t=>{let e=t.ownerDocument.defaultView?.top;if(null==e)throw new Error("Window does not have a top property");return e},T=async(t,{signal:e,retryInterval:i=1e3})=>{let n=null;do{if(e.aborted)throw new v(16);n=t(),null===n&&await I(i)}while(null===n);return n},I=async t=>await new Promise((e=>setTimeout(e,t))),D="ccfid",C=/<script[^>]*id\s*=\s*(['"])\s*ccfid(?:(?!\1).)*\1/g,j=`.//script[contains(@id,"${D}")]`,V={name:"clipcentric",id:4,detectDetached:t=>{let e=t.matchAll(C);if(void 0===e.next().value)return!1;if(void 0!==e.next().value)throw new m(2);return!0},detect(t){let e=w(j,t);if(0===e.length)return null;if(e.length>1)throw new m(2);let[i]=e,n=(t=>{if(null==t)throw new Error("Clipcentric script node is null");if(!t.hasAttribute("id"))throw new Error("Clipcentric script node does not have an id attribute");let e=t.getAttribute("id");if(null==e)throw new Error("Clipcentric script node id attribute is null");return e.replace(D,"")})(i);return x(n,t)}},x=(t,e)=>async i=>{let n=`.//div[@data-cc-id="${t}"]`;return await T((()=>R(e,n)),{signal:i})},R=(t,e)=>{let i=O(t).document.documentElement,n=_(e,i);if(!1!==n&&1===n.length)return n[0];if(!1!==n&&n.length>1)throw new v(8);return null},P=((d=P||{}).DETECTED="DETECTED",d.NOT_DETECTED="NOT_DETECTED",d.DETECTION_FAILED="DETECTION_FAILED",d),k=(t,e)=>{let i=e.matchAll(t);if(void 0===i.next().value)return!1;if(void 0!==i.next().value)throw new m(2);return!0},N=(t,e)=>{let i=w(t,e);if(0===i.length)return null;if(i.length>1)throw new m(2);return i[0]},L=(t,e)=>async i=>await T((()=>F(t,e)),{signal:i}),F=(t,e)=>{let i=O(t).document.documentElement,n=_(e,i);if(!1!==n&&1===n.length)return n[0];if(!1!==n&&n.length>1)throw new v(8);return null},B={name:"Weather Channel LWIM",id:1,detectDetached:k.bind(null,/<div[^>]*id\s*=\s*(['"])\s*labBG\s*\1/g),detect:t=>null!=N('.//div[@id="labBG"]',t)?L(t,'.//div[@id="labBG"]'):null},U={name:"Weather Channel MWIM",id:8,detectDetached:k.bind(null,/<body[^>]*data-product\s*=\s*(['"])\s*labAdMwim\s*\1/g),detect:t=>null!=N('.//body[@data-product="labAdMwim"]',t)?L(t,'.//div[@id="labAdDiv"]'):null},z=(t,e)=>async()=>await new Promise((i=>{let n=new AbortController,{signal:s}=n,r=setTimeout((()=>{n.abort(),i({errorCode:2,diagnostics:q(2,e)})}),5e3);Promise.resolve(t(s)).then((t=>{clearTimeout(r),i({adNode:t,errorCode:0})})).catch((t=>{clearTimeout(r),i({errorCode:p(t).errorCode,diagnostics:q(p(t).errorCode,e)})}))})),q=(t,e)=>`${t}|${e}:${t}`,W=(t,e)=>{try{if(null===(t=>{try{return t&&(t.contentDocument||t.contentWindow&&t.contentWindow.document||frames&&frames[t.name]&&frames[t.name].document)}catch{return null}})(t))return!1;if(""===t.src||"about:blank"===t.src)return!0;let i=new URL(t.src),n=new URL(e.location.href);return i.origin===n.origin}catch{return!1}},H=t=>{let e=(t=>Array.from(t.querySelectorAll("iframe")).filter((t=>W(t,window))))(t);if(0===e.length)return[t];let i=e.map((t=>t.contentDocument)).filter((t=>null!==t)).flatMap((t=>H(t.documentElement)));return[t,...i]},$=(t,e,i)=>{let n=e.map((t=>`${t.adFormat}:0`)).join(","),s=i.map((t=>`${t.adFormat}:${t.reason.errorCode}`)).join(",");return`${t}|${n}${e.length>0&&i.length>0?",":""}${s}`},G=t=>{let e=t.filter((t=>"DETECTED"===t.type)),i=t.filter((t=>"DETECTION_FAILED"===t.type)),n=((t,e)=>{let i=0;t.length>1&&(i|=2);for(let t of e)i|=t.reason.errorCode;return i})(e,i),s=1===e.length;return 0===n?{errorCode:n,detectedFormat:s?e[0]:null}:{errorCode:n,detectedFormat:null,diagnostics:$(n,e,i)}},J=(t,e)=>H(t).flatMap((t=>e.map((e=>Q(e,t))))),Q=(t,e)=>{try{let i=t.detect(e);return null===i?{type:"NOT_DETECTED",adFormat:t.id}:{type:"DETECTED",adFormat:t.id,locate:z(i,t.id)}}catch(e){return{type:"DETECTION_FAILED",adFormat:t.id,reason:g(e)}}},K=(t,e)=>{try{return t.detectDetached(e)?{type:"DETECTED",adFormat:t.id}:{type:"NOT_DETECTED",adFormat:t.id}}catch(e){return{type:"DETECTION_FAILED",adFormat:t.id,reason:g(e)}}},Y=[S,V,B,U],X=t=>((t,e)=>{let i=e.map((e=>K(e,t)));return G(i)})(t,Y),Z=t=>((t,e)=>{let i=J(t,e);return G(i)})(t,Y)}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var i=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t].call(i.exports,i,i.exports,__webpack_require__),i.exports}__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}();var __webpack_exports__={};!function(){try{const t=__webpack_require__(3038).default;t.setTotalSyncTimeStartTime(__dv_global_script_start_time__),t.setIndexExecutionStartTime();const{sendS2SPartnerTelemetryEvent:e}=__webpack_require__(4970);e({type:"Initialization"});{const{initScript:t}=__webpack_require__(4530);t()}__webpack_require__(8519)()}catch(t){let e,i,n,s,r,o="https://tps.doubleverify.com/visit.jpg",a=9018;try{const{I:t}=__webpack_require__(7749),{it:c}=__webpack_require__(194),{S:u}=__webpack_require__(3868),{getSupportedIntegrationsBitwise:d}=__webpack_require__(1080);o=`${t.getServerPrefix()}${t.getErrorPath()}`,a=c.getDvtpScriptVersion(),e=u.getScenarioType(),i=t.getTagType(),s=t.getTagVersion(),n=d(),r=t.getAdServerId()}catch(t){}let c=`${o}?ctx=818052&cmp=1619415&dvtagver=6.1.src&dvp_isLostImp=1&cerrt=4&jsver=9018&tgjsver=${a}&flvr=1`;if("function"==typeof encodeURIComponent){c+="&napr=WebPackConfig__"+encodeURIComponent(t.message);"string"==typeof t.stack&&Math.random()<=.1&&(c+="&ee_dp_errstk="+encodeURIComponent(t.stack))}e&&(c+="&tstype="+e),i&&(c+="&tagtype="+i),n&&(c+="&mib="+n),s&&(c+="&tagVersion="+s),r&&(c+="&ee_dp_adsrv="+r),"object"==typeof omidNative&&"function"==typeof omidNative.sendUrl?(c+="&dvp_iomd=1",e||(c+="&tstype=4"),omidNative.sendUrl(c)):(new Image).src=c;const{sendS2SPartnerTelemetryEvent:u}=__webpack_require__(4970);u({type:"RuntimeError"})}}();
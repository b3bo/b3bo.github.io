/**
 * @file utils.js
 * @description Utility functions for formatting, URL parsing, and helpers.
 * @copyright 2025 Kimberly Bauman, P.A. All rights reserved.
 * @author John Bauman
 */
import{CONFIG as e}from"./config.js";import{STATE as t}from"./state.js";export function formatPrice(e){return e?e>=1e6?"$"+(e/1e6).toFixed(2)+"M":e>=1e3?"$"+(e/1e3).toFixed(0)+"K":"$"+e.toLocaleString():"$0"}export function formatSliderPrice(e){return e>=1e6?"$"+(e/1e6).toFixed(e%1e6==0?0:1)+"M":e>=1e3?"$"+(e/1e3).toFixed(0)+"K":"$"+e}export function normalizeZip(e){if(!e)return null;const t=String(e).match(/\d{5}/);return t?t[0]:null}export function getThemeColor(e){return getComputedStyle(document.documentElement).getPropertyValue(e).trim()}export function getUrlParams(){const e=new URLSearchParams(window.location.search);return{neighborhood:e.get("neighborhood"),mode:e.get("mode")?e.get("mode").trim():null,zoom:e.get("zoom")?parseInt(e.get("zoom")):null,lat:e.get("lat")?parseFloat(e.get("lat")):null,lng:e.get("lng")?parseFloat(e.get("lng")):null,autoOpen:"true"===e.get("autoOpen"),autopan:"true"===e.get("autopan"),offsetPx:null!==e.get("offsetPx")?parseFloat(e.get("offsetPx")):null,offsetPct:null!==e.get("offsetPct")?parseFloat(e.get("offsetPct")):null,marker:e.get("marker"),propertyType:e.get("propertyType")}}export function toSlug(e){return e.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,"")}export function parseRange(e){if(!e)return null;const t=e.replace(/[$,\s]/g,"").split("-");return 2===t.length?{min:parseInt(t[0]),max:parseInt(t[1])}:null}export function debounce(e,t){let o;return function(...n){clearTimeout(o),o=setTimeout(()=>e.apply(this,n),t)}}export function clamp(e,t,o){return Math.min(o,Math.max(t,e))}export function updateUrlParams(e){const t=new URLSearchParams(window.location.search);for(const o in e)e[o]&&e[o].length>0?t.set(o,e[o].join(",")):t.delete(o);return`${window.location.pathname}?${t.toString()}`}
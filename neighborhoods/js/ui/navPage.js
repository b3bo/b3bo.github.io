/**
 * @file ui/navPage.js
 * @description Navigation page card rendering for area presets.
 * @copyright 2025 Kimberly Bauman, P.A. All rights reserved.
 */
import{formatPrice as n,getAreaStats as a,getAreaNeighborhoods as e}from"../utils.js";export function createAreaCard(s,t){const i=a(s,t),r=e(s,t);if(!i.listingCount||0===i.listingCount)return"";const d="homes"===t?"Homes":"Condos",o=`${i.listingCount} ${d}`,l=r.slice(0,8).map(n=>`\n            <tr class="community-row">\n                <td class="community-name"><a href="#">${n.name}</a></td>\n                <td class="community-count">${n.listingCount||0}</td>\n            </tr>\n        `).join("");return`\n        <div class="area-card" data-area="${s.slug}" data-type="${t}">\n            <div class="area-card-header">\n                <h2>${s.name} ${d}</h2>\n                <span class="listing-count">${o}</span>\n            </div>\n\n            <div class="area-card-body">\n                <div class="map-section">\n                    <iframe\n                        src="http://localhost:8003/?mode=single&area=${s.slug}&propertyType=${t}&controls=false"\n                        loading="lazy"\n                        style="width: 100%; height: 100%; border: none;"\n                    ></iframe>\n                </div>\n\n                <div class="content-section">\n                    <div class="stats-row">\n                        <div class="stat-item">\n                            <div class="stat-value">${n(i.medianPrice||0)}</div>\n                            <div class="stat-label">Median</div>\n                        </div>\n                        <div class="stat-item">\n                            <div class="stat-value">$${(i.avgPricePerSqFt||0).toLocaleString()}</div>\n                            <div class="stat-label">$/SF</div>\n                        </div>\n                        <div class="stat-item">\n                            <div class="stat-value">${i.avgDom||0}</div>\n                            <div class="stat-label">Avg DOM</div>\n                        </div>\n                    </div>\n\n                    <div class="communities-section">\n                        <table class="communities-table">\n                            <thead>\n                                <tr>\n                                    <th colspan="2">Top Neighborhoods</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                ${l}\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n            </div>\n\n            <div class="area-card-footer">\n                <a class="view-all-link" href="#">\n                    View All ${s.name} ${d} &rarr;\n                </a>\n            </div>\n        </div>\n    `}export function renderAreaCards(n,a){if(!n?.presets||!a)return void console.error("renderAreaCards: Missing areaPresets or container");let e="";for(const a of n.presets)e+=createAreaCard(a,"homes"),e+=createAreaCard(a,"condos");a.innerHTML=e}"undefined"!=typeof window&&(window.createAreaCard=createAreaCard,window.renderAreaCards=renderAreaCards);
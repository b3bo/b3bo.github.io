/**
 * @file core/store.js
 * @description Centralized state management with pub/sub pattern.
 * @copyright 2025 Kimberly Bauman, P.A. All rights reserved.
 */
export function createStore(e){let r={...e};const t=new Set,o=new Map;return{getState:()=>r,setState(e){const a=r;r={...r,...e},t.forEach(e=>e(r,a));for(const t of Object.keys(e))o.has(t)&&o.get(t).forEach(e=>e(r[t],a[t]))},subscribe:e=>(t.add(e),()=>t.delete(e)),subscribeToSlice:(e,r)=>(o.has(e)||o.set(e,new Set),o.get(e).add(r),()=>o.get(e).delete(r)),getSlice:e=>r[e]}}export const store=createStore({map:null,markers:[],activeMarker:null,infoWindow:null,hoverInfoWindow:null,customBoundaries:new Set,areaMarkers:new Map,neighborhoods:[],filteredNeighborhoods:[],areaPresets:null,filterState:{propertyType:null,areas:new Set,amenities:new Set,priceMin:0,priceMax:41,bedsMin:1,bathsMin:1},searchQuery:"",sortOrder:"listings-desc",isSingleMode:!1,currentNeighborhood:null,sidebarOpen:!1,activePanel:null,currentAnimationFrame:null,appInitialized:!1,markersInitialized:!1,dataReady:!1});"undefined"!=typeof window&&(window.store=store,store.subscribe(e=>{window.STATE&&Object.assign(window.STATE,{map:e.map,markers:e.markers,neighborhoods:e.neighborhoods,allFilteredNeighborhoods:e.filteredNeighborhoods,activeMarker:e.activeMarker,customBoundaries:e.customBoundaries,searchQuery:e.searchQuery,currentSort:e.sortOrder})}));